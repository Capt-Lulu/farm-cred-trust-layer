var jw=t=>{throw TypeError(t)};var Zm=(t,e,n)=>e.has(t)||jw("Cannot "+n);var z=(t,e,n)=>(Zm(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?jw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(Zm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qt=(t,e,n)=>(Zm(t,e,"access private method"),n);var hd=(t,e,n,r)=>({set _(s){ge(t,e,s,n)},get _(){return z(t,e,r)}});function y2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function v2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var KE={exports:{}},Df={},GE={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),x2=Symbol.for("react.portal"),w2=Symbol.for("react.fragment"),_2=Symbol.for("react.strict_mode"),b2=Symbol.for("react.profiler"),E2=Symbol.for("react.provider"),S2=Symbol.for("react.context"),T2=Symbol.for("react.forward_ref"),N2=Symbol.for("react.suspense"),j2=Symbol.for("react.memo"),C2=Symbol.for("react.lazy"),Cw=Symbol.iterator;function k2(t){return t===null||typeof t!="object"?null:(t=Cw&&t[Cw]||t["@@iterator"],typeof t=="function"?t:null)}var QE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YE=Object.assign,JE={};function xl(t,e,n){this.props=t,this.context=e,this.refs=JE,this.updater=n||QE}xl.prototype.isReactComponent={};xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XE(){}XE.prototype=xl.prototype;function bv(t,e,n){this.props=t,this.context=e,this.refs=JE,this.updater=n||QE}var Ev=bv.prototype=new XE;Ev.constructor=bv;YE(Ev,xl.prototype);Ev.isPureReactComponent=!0;var kw=Array.isArray,ZE=Object.prototype.hasOwnProperty,Sv={current:null},eS={key:!0,ref:!0,__self:!0,__source:!0};function tS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ZE.call(e,r)&&!eS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Nu,type:t,key:i,ref:o,props:s,_owner:Sv.current}}function I2(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function A2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Iw=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A2(""+t.key):e.toString(36)}function Xd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nu:case x2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ep(o,0):r,kw(s)?(n="",t!=null&&(n=t.replace(Iw,"$&/")+"/"),Xd(s,e,n,"",function(u){return u})):s!=null&&(Tv(s)&&(s=I2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Iw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",kw(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+ep(i,l);o+=Xd(i,e,n,c,s)}else if(c=k2(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+ep(i,l++),o+=Xd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fd(t,e,n){if(t==null)return t;var r=[],s=0;return Xd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function P2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Zd={transition:null},R2={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Zd,ReactCurrentOwner:Sv};function nS(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:fd,forEach:function(t,e,n){fd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fd(t,function(){e++}),e},toArray:function(t){return fd(t,function(e){return e})||[]},only:function(t){if(!Tv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=xl;je.Fragment=w2;je.Profiler=b2;je.PureComponent=bv;je.StrictMode=_2;je.Suspense=N2;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R2;je.act=nS;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)ZE.call(e,c)&&!eS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Nu,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:S2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E2,_context:t},t.Consumer=t};je.createElement=tS;je.createFactory=function(t){var e=tS.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:T2,render:t}};je.isValidElement=Tv;je.lazy=function(t){return{$$typeof:C2,_payload:{_status:-1,_result:t},_init:P2}};je.memo=function(t,e){return{$$typeof:j2,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Zd.transition;Zd.transition={};try{t()}finally{Zd.transition=e}};je.unstable_act=nS;je.useCallback=function(t,e){return mn.current.useCallback(t,e)};je.useContext=function(t){return mn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};je.useEffect=function(t,e){return mn.current.useEffect(t,e)};je.useId=function(){return mn.current.useId()};je.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return mn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};je.useRef=function(t){return mn.current.useRef(t)};je.useState=function(t){return mn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return mn.current.useTransition()};je.version="18.3.1";GE.exports=je;var _=GE.exports;const q=qE(_),Nv=y2({__proto__:null,default:q},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2=_,D2=Symbol.for("react.element"),M2=Symbol.for("react.fragment"),L2=Object.prototype.hasOwnProperty,V2=O2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F2={key:!0,ref:!0,__self:!0,__source:!0};function rS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)L2.call(e,r)&&!F2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:D2,type:t,key:i,ref:o,props:s,_owner:V2.current}}Df.Fragment=M2;Df.jsx=rS;Df.jsxs=rS;KE.exports=Df;var a=KE.exports,lg={},sS={exports:{}},Vn={},iS={exports:{}},oS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,Q){var te=L.length;L.push(Q);e:for(;0<te;){var he=te-1>>>1,we=L[he];if(0<s(we,Q))L[he]=Q,L[te]=we,te=he;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Q=L[0],te=L.pop();if(te!==Q){L[0]=te;e:for(var he=0,we=L.length,U=we>>>1;he<U;){var G=2*(he+1)-1,le=L[G],de=G+1,Y=L[de];if(0>s(le,te))de<we&&0>s(Y,le)?(L[he]=Y,L[de]=te,he=de):(L[he]=le,L[G]=te,he=G);else if(de<we&&0>s(Y,te))L[he]=Y,L[de]=te,he=de;else break e}}return Q}function s(L,Q){var te=L.sortIndex-Q.sortIndex;return te!==0?te:L.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,y=!1,S=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=L)r(u),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(u)}}function k(L){if(x=!1,b(L),!S)if(n(c)!==null)S=!0,B(R);else{var Q=n(u);Q!==null&&ee(k,Q.startTime-L)}}function R(L,Q){S=!1,x&&(x=!1,g(T),T=-1),y=!0;var te=m;try{for(b(Q),f=n(c);f!==null&&(!(f.expirationTime>Q)||L&&!P());){var he=f.callback;if(typeof he=="function"){f.callback=null,m=f.priorityLevel;var we=he(f.expirationTime<=Q);Q=t.unstable_now(),typeof we=="function"?f.callback=we:f===n(c)&&r(c),b(Q)}else r(c);f=n(c)}if(f!==null)var U=!0;else{var G=n(u);G!==null&&ee(k,G.startTime-Q),U=!1}return U}finally{f=null,m=te,y=!1}}var D=!1,N=null,T=-1,j=5,A=-1;function P(){return!(t.unstable_now()-A<j)}function O(){if(N!==null){var L=t.unstable_now();A=L;var Q=!0;try{Q=N(!0,L)}finally{Q?I():(D=!1,N=null)}}else D=!1}var I;if(typeof v=="function")I=function(){v(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,V=M.port2;M.port1.onmessage=O,I=function(){V.postMessage(null)}}else I=function(){w(O,0)};function B(L){N=L,D||(D=!0,I())}function ee(L,Q){T=w(function(){L(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,B(R))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var te=m;m=Q;try{return L()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var te=m;m=L;try{return Q()}finally{m=te}},t.unstable_scheduleCallback=function(L,Q,te){var he=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,L){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=te+we,L={id:h++,callback:Q,priorityLevel:L,startTime:te,expirationTime:we,sortIndex:-1},te>he?(L.sortIndex=te,e(u,L),n(c)===null&&L===n(u)&&(x?(g(T),T=-1):x=!0,ee(k,te-he))):(L.sortIndex=we,e(c,L),S||y||(S=!0,B(R))),L},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(L){var Q=m;return function(){var te=m;m=Q;try{return L.apply(this,arguments)}finally{m=te}}}})(oS);iS.exports=oS;var $2=iS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2=_,Mn=$2;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aS=new Set,Uc={};function Fo(t,e){tl(t,e),tl(t+"Capture",e)}function tl(t,e){for(Uc[t]=e,t=0;t<e.length;t++)aS.add(e[t])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cg=Object.prototype.hasOwnProperty,z2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aw={},Pw={};function B2(t){return cg.call(Pw,t)?!0:cg.call(Aw,t)?!1:z2.test(t)?Pw[t]=!0:(Aw[t]=!0,!1)}function H2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W2(t,e,n,r){if(e===null||typeof e>"u"||H2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var jv=/[\-:]([a-z])/g;function Cv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jv,Cv);qt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jv,Cv);qt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jv,Cv);qt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kv(t,e,n,r){var s=qt.hasOwnProperty(e)?qt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W2(e,n,s,r)&&(n=null),r||s===null?B2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cs=U2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,md=Symbol.for("react.element"),xa=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),Iv=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),lS=Symbol.for("react.provider"),cS=Symbol.for("react.context"),Av=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),hg=Symbol.for("react.suspense_list"),Pv=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),uS=Symbol.for("react.offscreen"),Rw=Symbol.iterator;function ec(t){return t===null||typeof t!="object"?null:(t=Rw&&t[Rw]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,tp;function dc(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dc(t):""}function q2(t){switch(t.tag){case 5:return dc(t.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function fg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case xa:return"Portal";case ug:return"Profiler";case Iv:return"StrictMode";case dg:return"Suspense";case hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cS:return(t.displayName||"Context")+".Consumer";case lS:return(t._context.displayName||"Context")+".Provider";case Av:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pv:return e=t.displayName||null,e!==null?e:fg(t.type)||"Memo";case Gs:e=t._payload,t=t._init;try{return fg(t(e))}catch{}}return null}function K2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fg(e);case 8:return e===Iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function G2(t){var e=dS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pd(t){t._valueTracker||(t._valueTracker=G2(t))}function hS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mg(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ow(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fS(t,e){e=e.checked,e!=null&&kv(t,"checked",e,!1)}function pg(t,e){fS(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gg(t,e.type,n):e.hasOwnProperty("defaultValue")&&gg(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gg(t,e,n){(e!=="number"||Ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hc=Array.isArray;function Ra(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(hc(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function mS(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gd,gS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gd=gd||document.createElement("div"),gd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q2=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){Q2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function yS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function vS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Y2=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xg(t,e){if(e){if(Y2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=null;function Rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bg=null,Oa=null,Da=null;function Vw(t){if(t=ku(t)){if(typeof bg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=$f(e),bg(t.stateNode,t.type,e))}}function xS(t){Oa?Da?Da.push(t):Da=[t]:Oa=t}function wS(){if(Oa){var t=Oa,e=Da;if(Da=Oa=null,Vw(t),e)for(t=0;t<e.length;t++)Vw(e[t])}}function _S(t,e){return t(e)}function bS(){}var sp=!1;function ES(t,e,n){if(sp)return t(e,n);sp=!0;try{return _S(t,e,n)}finally{sp=!1,(Oa!==null||Da!==null)&&(bS(),wS())}}function Bc(t,e){var n=t.stateNode;if(n===null)return null;var r=$f(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Eg=!1;if(ms)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){Eg=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{Eg=!1}function J2(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ec=!1,Ph=null,Rh=!1,Sg=null,X2={onError:function(t){Ec=!0,Ph=t}};function Z2(t,e,n,r,s,i,o,l,c){Ec=!1,Ph=null,J2.apply(X2,arguments)}function eP(t,e,n,r,s,i,o,l,c){if(Z2.apply(this,arguments),Ec){if(Ec){var u=Ph;Ec=!1,Ph=null}else throw Error(K(198));Rh||(Rh=!0,Sg=u)}}function $o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fw(t){if($o(t)!==t)throw Error(K(188))}function tP(t){var e=t.alternate;if(!e){if(e=$o(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Fw(s),t;if(i===r)return Fw(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function TS(t){return t=tP(t),t!==null?NS(t):null}function NS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NS(t);if(e!==null)return e;t=t.sibling}return null}var jS=Mn.unstable_scheduleCallback,$w=Mn.unstable_cancelCallback,nP=Mn.unstable_shouldYield,rP=Mn.unstable_requestPaint,ht=Mn.unstable_now,sP=Mn.unstable_getCurrentPriorityLevel,Ov=Mn.unstable_ImmediatePriority,CS=Mn.unstable_UserBlockingPriority,Oh=Mn.unstable_NormalPriority,iP=Mn.unstable_LowPriority,kS=Mn.unstable_IdlePriority,Mf=null,Mr=null;function oP(t){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Mf,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:cP,aP=Math.log,lP=Math.LN2;function cP(t){return t>>>=0,t===0?32:31-(aP(t)/lP|0)|0}var yd=64,vd=4194304;function fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=fc(l):(i&=o,i!==0&&(r=fc(i)))}else o=n&~s,o!==0?r=fc(o):i!==0&&(r=fc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),s=1<<n,r|=t[n],e&=~s;return r}function uP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=uP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IS(){var t=yd;return yd<<=1,!(yd&4194240)&&(yd=64),t}function ip(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ju(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function hP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Fe=0;function AS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PS,Mv,RS,OS,DS,Ng=!1,xd=[],mi=null,pi=null,gi=null,Hc=new Map,Wc=new Map,Ys=[],fP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uw(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(e.pointerId)}}function nc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ku(e),e!==null&&Mv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function mP(t,e,n,r,s){switch(e){case"focusin":return mi=nc(mi,t,e,n,r,s),!0;case"dragenter":return pi=nc(pi,t,e,n,r,s),!0;case"mouseover":return gi=nc(gi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hc.set(i,nc(Hc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wc.set(i,nc(Wc.get(i)||null,t,e,n,r,s)),!0}return!1}function MS(t){var e=uo(t.target);if(e!==null){var n=$o(e);if(n!==null){if(e=n.tag,e===13){if(e=SS(n),e!==null){t.blockedOn=e,DS(t.priority,function(){RS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_g=r,n.target.dispatchEvent(r),_g=null}else return e=ku(n),e!==null&&Mv(e),t.blockedOn=n,!1;e.shift()}return!0}function zw(t,e,n){eh(t)&&n.delete(e)}function pP(){Ng=!1,mi!==null&&eh(mi)&&(mi=null),pi!==null&&eh(pi)&&(pi=null),gi!==null&&eh(gi)&&(gi=null),Hc.forEach(zw),Wc.forEach(zw)}function rc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ng||(Ng=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,pP)))}function qc(t){function e(s){return rc(s,t)}if(0<xd.length){rc(xd[0],t);for(var n=1;n<xd.length;n++){var r=xd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&rc(mi,t),pi!==null&&rc(pi,t),gi!==null&&rc(gi,t),Hc.forEach(e),Wc.forEach(e),n=0;n<Ys.length;n++)r=Ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)MS(n),n.blockedOn===null&&Ys.shift()}var Ma=Cs.ReactCurrentBatchConfig,Mh=!0;function gP(t,e,n,r){var s=Fe,i=Ma.transition;Ma.transition=null;try{Fe=1,Lv(t,e,n,r)}finally{Fe=s,Ma.transition=i}}function yP(t,e,n,r){var s=Fe,i=Ma.transition;Ma.transition=null;try{Fe=4,Lv(t,e,n,r)}finally{Fe=s,Ma.transition=i}}function Lv(t,e,n,r){if(Mh){var s=jg(t,e,n,r);if(s===null)pp(t,e,r,Lh,n),Uw(t,r);else if(mP(s,t,e,n,r))r.stopPropagation();else if(Uw(t,r),e&4&&-1<fP.indexOf(t)){for(;s!==null;){var i=ku(s);if(i!==null&&PS(i),i=jg(t,e,n,r),i===null&&pp(t,e,r,Lh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pp(t,e,r,null,n)}}var Lh=null;function jg(t,e,n,r){if(Lh=null,t=Rv(r),t=uo(t),t!==null)if(e=$o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lh=t,null}function LS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sP()){case Ov:return 1;case CS:return 4;case Oh:case iP:return 16;case kS:return 536870912;default:return 16}default:return 16}}var ui=null,Vv=null,th=null;function VS(){if(th)return th;var t,e=Vv,n=e.length,r,s="value"in ui?ui.value:ui.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return th=s.slice(t,1<r?1-r:void 0)}function nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wd(){return!0}function Bw(){return!1}function Fn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wd:Bw,this.isPropagationStopped=Bw,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fv=Fn(wl),Cu=it({},wl,{view:0,detail:0}),vP=Fn(Cu),op,ap,sc,Lf=it({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$v,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sc&&(sc&&t.type==="mousemove"?(op=t.screenX-sc.screenX,ap=t.screenY-sc.screenY):ap=op=0,sc=t),op)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),Hw=Fn(Lf),xP=it({},Lf,{dataTransfer:0}),wP=Fn(xP),_P=it({},Cu,{relatedTarget:0}),lp=Fn(_P),bP=it({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),EP=Fn(bP),SP=it({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TP=Fn(SP),NP=it({},wl,{data:0}),Ww=Fn(NP),jP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kP[t])?!!e[t]:!1}function $v(){return IP}var AP=it({},Cu,{key:function(t){if(t.key){var e=jP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$v,charCode:function(t){return t.type==="keypress"?nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PP=Fn(AP),RP=it({},Lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qw=Fn(RP),OP=it({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$v}),DP=Fn(OP),MP=it({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),LP=Fn(MP),VP=it({},Lf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FP=Fn(VP),$P=[9,13,27,32],Uv=ms&&"CompositionEvent"in window,Sc=null;ms&&"documentMode"in document&&(Sc=document.documentMode);var UP=ms&&"TextEvent"in window&&!Sc,FS=ms&&(!Uv||Sc&&8<Sc&&11>=Sc),Kw=" ",Gw=!1;function $S(t,e){switch(t){case"keyup":return $P.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function US(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function zP(t,e){switch(t){case"compositionend":return US(e);case"keypress":return e.which!==32?null:(Gw=!0,Kw);case"textInput":return t=e.data,t===Kw&&Gw?null:t;default:return null}}function BP(t,e){if(_a)return t==="compositionend"||!Uv&&$S(t,e)?(t=VS(),th=Vv=ui=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FS&&e.locale!=="ko"?null:e.data;default:return null}}var HP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HP[t.type]:e==="textarea"}function zS(t,e,n,r){xS(r),e=Vh(e,"onChange"),0<e.length&&(n=new Fv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tc=null,Kc=null;function WP(t){ZS(t,0)}function Vf(t){var e=Sa(t);if(hS(e))return t}function qP(t,e){if(t==="change")return e}var BS=!1;if(ms){var cp;if(ms){var up="oninput"in document;if(!up){var Yw=document.createElement("div");Yw.setAttribute("oninput","return;"),up=typeof Yw.oninput=="function"}cp=up}else cp=!1;BS=cp&&(!document.documentMode||9<document.documentMode)}function Jw(){Tc&&(Tc.detachEvent("onpropertychange",HS),Kc=Tc=null)}function HS(t){if(t.propertyName==="value"&&Vf(Kc)){var e=[];zS(e,Kc,t,Rv(t)),ES(WP,e)}}function KP(t,e,n){t==="focusin"?(Jw(),Tc=e,Kc=n,Tc.attachEvent("onpropertychange",HS)):t==="focusout"&&Jw()}function GP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vf(Kc)}function QP(t,e){if(t==="click")return Vf(e)}function YP(t,e){if(t==="input"||t==="change")return Vf(e)}function JP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:JP;function Gc(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cg.call(e,s)||!gr(t[s],e[s]))return!1}return!0}function Xw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zw(t,e){var n=Xw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xw(n)}}function WS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qS(){for(var t=window,e=Ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ah(t.document)}return e}function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XP(t){var e=qS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WS(n.ownerDocument.documentElement,n)){if(r!==null&&zv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Zw(n,i);var o=Zw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZP=ms&&"documentMode"in document&&11>=document.documentMode,ba=null,Cg=null,Nc=null,kg=!1;function e_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kg||ba==null||ba!==Ah(r)||(r=ba,"selectionStart"in r&&zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nc&&Gc(Nc,r)||(Nc=r,r=Vh(Cg,"onSelect"),0<r.length&&(e=new Fv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ba)))}function _d(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ea={animationend:_d("Animation","AnimationEnd"),animationiteration:_d("Animation","AnimationIteration"),animationstart:_d("Animation","AnimationStart"),transitionend:_d("Transition","TransitionEnd")},dp={},KS={};ms&&(KS=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ff(t){if(dp[t])return dp[t];if(!Ea[t])return t;var e=Ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KS)return dp[t]=e[n];return t}var GS=Ff("animationend"),QS=Ff("animationiteration"),YS=Ff("animationstart"),JS=Ff("transitionend"),XS=new Map,t_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(t,e){XS.set(t,e),Fo(e,[t])}for(var hp=0;hp<t_.length;hp++){var fp=t_[hp],eR=fp.toLowerCase(),tR=fp[0].toUpperCase()+fp.slice(1);Fi(eR,"on"+tR)}Fi(GS,"onAnimationEnd");Fi(QS,"onAnimationIteration");Fi(YS,"onAnimationStart");Fi("dblclick","onDoubleClick");Fi("focusin","onFocus");Fi("focusout","onBlur");Fi(JS,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nR=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function n_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eP(r,e,void 0,t),t.currentTarget=null}function ZS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;n_(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;n_(s,l,u),i=c}}}if(Rh)throw t=Sg,Rh=!1,Sg=null,t}function Qe(t,e){var n=e[Og];n===void 0&&(n=e[Og]=new Set);var r=t+"__bubble";n.has(r)||(eT(e,t,2,!1),n.add(r))}function mp(t,e,n){var r=0;e&&(r|=4),eT(n,t,r,e)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[bd]){t[bd]=!0,aS.forEach(function(n){n!=="selectionchange"&&(nR.has(n)||mp(n,!1,t),mp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bd]||(e[bd]=!0,mp("selectionchange",!1,e))}}function eT(t,e,n,r){switch(LS(e)){case 1:var s=gP;break;case 4:s=yP;break;default:s=Lv}n=s.bind(null,e,n,t),s=void 0,!Eg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=uo(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}ES(function(){var u=i,h=Rv(n),f=[];e:{var m=XS.get(t);if(m!==void 0){var y=Fv,S=t;switch(t){case"keypress":if(nh(n)===0)break e;case"keydown":case"keyup":y=PP;break;case"focusin":S="focus",y=lp;break;case"focusout":S="blur",y=lp;break;case"beforeblur":case"afterblur":y=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=wP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=DP;break;case GS:case QS:case YS:y=EP;break;case JS:y=LP;break;case"scroll":y=vP;break;case"wheel":y=FP;break;case"copy":case"cut":case"paste":y=TP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=qw}var x=(e&4)!==0,w=!x&&t==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,g!==null&&(k=Bc(v,g),k!=null&&x.push(Yc(v,k,b)))),w)break;v=v.return}0<x.length&&(m=new y(m,S,null,n,h),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==_g&&(S=n.relatedTarget||n.fromElement)&&(uo(S)||S[ps]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=u,S=S?uo(S):null,S!==null&&(w=$o(S),S!==w||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=u),y!==S)){if(x=Hw,k="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=qw,k="onPointerLeave",g="onPointerEnter",v="pointer"),w=y==null?m:Sa(y),b=S==null?m:Sa(S),m=new x(k,v+"leave",y,n,h),m.target=w,m.relatedTarget=b,k=null,uo(h)===u&&(x=new x(g,v+"enter",S,n,h),x.target=b,x.relatedTarget=w,k=x),w=k,y&&S)t:{for(x=y,g=S,v=0,b=x;b;b=ra(b))v++;for(b=0,k=g;k;k=ra(k))b++;for(;0<v-b;)x=ra(x),v--;for(;0<b-v;)g=ra(g),b--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=ra(x),g=ra(g)}x=null}else x=null;y!==null&&r_(f,m,y,x,!1),S!==null&&w!==null&&r_(f,w,S,x,!0)}}e:{if(m=u?Sa(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var R=qP;else if(Qw(m))if(BS)R=YP;else{R=GP;var D=KP}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=QP);if(R&&(R=R(t,u))){zS(f,R,n,h);break e}D&&D(t,m,u),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&gg(m,"number",m.value)}switch(D=u?Sa(u):window,t){case"focusin":(Qw(D)||D.contentEditable==="true")&&(ba=D,Cg=u,Nc=null);break;case"focusout":Nc=Cg=ba=null;break;case"mousedown":kg=!0;break;case"contextmenu":case"mouseup":case"dragend":kg=!1,e_(f,n,h);break;case"selectionchange":if(ZP)break;case"keydown":case"keyup":e_(f,n,h)}var N;if(Uv)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _a?$S(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(FS&&n.locale!=="ko"&&(_a||T!=="onCompositionStart"?T==="onCompositionEnd"&&_a&&(N=VS()):(ui=h,Vv="value"in ui?ui.value:ui.textContent,_a=!0)),D=Vh(u,T),0<D.length&&(T=new Ww(T,t,null,n,h),f.push({event:T,listeners:D}),N?T.data=N:(N=US(n),N!==null&&(T.data=N)))),(N=UP?zP(t,n):BP(t,n))&&(u=Vh(u,"onBeforeInput"),0<u.length&&(h=new Ww("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=N))}ZS(f,e)})}function Yc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bc(t,n),i!=null&&r.unshift(Yc(t,i,s)),i=Bc(t,e),i!=null&&r.push(Yc(t,i,s))),t=t.return}return r}function ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Bc(n,i),c!=null&&o.unshift(Yc(n,c,l))):s||(c=Bc(n,i),c!=null&&o.push(Yc(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rR=/\r\n?/g,sR=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(rR,`
`).replace(sR,"")}function Ed(t,e,n){if(e=s_(e),s_(t)!==e&&n)throw Error(K(425))}function Fh(){}var Ig=null,Ag=null;function Pg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,iR=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(t){return i_.resolve(null).then(t).catch(aR)}:Rg;function aR(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),qc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qc(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _l=Math.random().toString(36).slice(2),Pr="__reactFiber$"+_l,Jc="__reactProps$"+_l,ps="__reactContainer$"+_l,Og="__reactEvents$"+_l,lR="__reactListeners$"+_l,cR="__reactHandles$"+_l;function uo(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ps]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o_(t);t!==null;){if(n=t[Pr])return n;t=o_(t)}return e}t=n,n=t.parentNode}return null}function ku(t){return t=t[Pr]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function $f(t){return t[Jc]||null}var Dg=[],Ta=-1;function $i(t){return{current:t}}function Je(t){0>Ta||(t.current=Dg[Ta],Dg[Ta]=null,Ta--)}function qe(t,e){Ta++,Dg[Ta]=t.current,t.current=e}var Ii={},rn=$i(Ii),Tn=$i(!1),To=Ii;function nl(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nn(t){return t=t.childContextTypes,t!=null}function $h(){Je(Tn),Je(rn)}function a_(t,e,n){if(rn.current!==Ii)throw Error(K(168));qe(rn,e),qe(Tn,n)}function tT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,K2(t)||"Unknown",s));return it({},n,r)}function Uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,To=rn.current,qe(rn,t),qe(Tn,Tn.current),!0}function l_(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=tT(t,e,To),r.__reactInternalMemoizedMergedChildContext=t,Je(Tn),Je(rn),qe(rn,t)):Je(Tn),qe(Tn,n)}var ss=null,Uf=!1,yp=!1;function nT(t){ss===null?ss=[t]:ss.push(t)}function uR(t){Uf=!0,nT(t)}function Ui(){if(!yp&&ss!==null){yp=!0;var t=0,e=Fe;try{var n=ss;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ss=null,Uf=!1}catch(s){throw ss!==null&&(ss=ss.slice(t+1)),jS(Ov,Ui),s}finally{Fe=e,yp=!1}}return null}var Na=[],ja=0,zh=null,Bh=0,Bn=[],Hn=0,No=null,os=1,as="";function so(t,e){Na[ja++]=Bh,Na[ja++]=zh,zh=t,Bh=e}function rT(t,e,n){Bn[Hn++]=os,Bn[Hn++]=as,Bn[Hn++]=No,No=t;var r=os;t=as;var s=32-fr(r)-1;r&=~(1<<s),n+=1;var i=32-fr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,os=1<<32-fr(e)+s|n<<s|r,as=i+t}else os=1<<i|n<<s|r,as=t}function Bv(t){t.return!==null&&(so(t,1),rT(t,1,0))}function Hv(t){for(;t===zh;)zh=Na[--ja],Na[ja]=null,Bh=Na[--ja],Na[ja]=null;for(;t===No;)No=Bn[--Hn],Bn[Hn]=null,as=Bn[--Hn],Bn[Hn]=null,os=Bn[--Hn],Bn[Hn]=null}var On=null,Rn=null,nt=!1,ur=null;function sT(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,Rn=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=No!==null?{id:os,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,Rn=null,!0):!1;default:return!1}}function Mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lg(t){if(nt){var e=Rn;if(e){var n=e;if(!c_(t,e)){if(Mg(t))throw Error(K(418));e=yi(n.nextSibling);var r=On;e&&c_(t,e)?sT(r,n):(t.flags=t.flags&-4097|2,nt=!1,On=t)}}else{if(Mg(t))throw Error(K(418));t.flags=t.flags&-4097|2,nt=!1,On=t}}}function u_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function Sd(t){if(t!==On)return!1;if(!nt)return u_(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pg(t.type,t.memoizedProps)),e&&(e=Rn)){if(Mg(t))throw iT(),Error(K(418));for(;e;)sT(t,e),e=yi(e.nextSibling)}if(u_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=On?yi(t.stateNode.nextSibling):null;return!0}function iT(){for(var t=Rn;t;)t=yi(t.nextSibling)}function rl(){Rn=On=null,nt=!1}function Wv(t){ur===null?ur=[t]:ur.push(t)}var dR=Cs.ReactCurrentBatchConfig;function ic(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Td(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d_(t){var e=t._init;return e(t._payload)}function oT(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=_i(g,v),g.index=0,g.sibling=null,g}function i(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,v,b,k){return v===null||v.tag!==6?(v=Sp(b,g.mode,k),v.return=g,v):(v=s(v,b),v.return=g,v)}function c(g,v,b,k){var R=b.type;return R===wa?h(g,v,b.props.children,k,b.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gs&&d_(R)===v.type)?(k=s(v,b.props),k.ref=ic(g,v,b),k.return=g,k):(k=ch(b.type,b.key,b.props,null,g.mode,k),k.ref=ic(g,v,b),k.return=g,k)}function u(g,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Tp(b,g.mode,k),v.return=g,v):(v=s(v,b.children||[]),v.return=g,v)}function h(g,v,b,k,R){return v===null||v.tag!==7?(v=bo(b,g.mode,k,R),v.return=g,v):(v=s(v,b),v.return=g,v)}function f(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sp(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case md:return b=ch(v.type,v.key,v.props,null,g.mode,b),b.ref=ic(g,null,v),b.return=g,b;case xa:return v=Tp(v,g.mode,b),v.return=g,v;case Gs:var k=v._init;return f(g,k(v._payload),b)}if(hc(v)||ec(v))return v=bo(v,g.mode,b,null),v.return=g,v;Td(g,v)}return null}function m(g,v,b,k){var R=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:l(g,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case md:return b.key===R?c(g,v,b,k):null;case xa:return b.key===R?u(g,v,b,k):null;case Gs:return R=b._init,m(g,v,R(b._payload),k)}if(hc(b)||ec(b))return R!==null?null:h(g,v,b,k,null);Td(g,b)}return null}function y(g,v,b,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(b)||null,l(v,g,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case md:return g=g.get(k.key===null?b:k.key)||null,c(v,g,k,R);case xa:return g=g.get(k.key===null?b:k.key)||null,u(v,g,k,R);case Gs:var D=k._init;return y(g,v,b,D(k._payload),R)}if(hc(k)||ec(k))return g=g.get(b)||null,h(v,g,k,R,null);Td(v,k)}return null}function S(g,v,b,k){for(var R=null,D=null,N=v,T=v=0,j=null;N!==null&&T<b.length;T++){N.index>T?(j=N,N=null):j=N.sibling;var A=m(g,N,b[T],k);if(A===null){N===null&&(N=j);break}t&&N&&A.alternate===null&&e(g,N),v=i(A,v,T),D===null?R=A:D.sibling=A,D=A,N=j}if(T===b.length)return n(g,N),nt&&so(g,T),R;if(N===null){for(;T<b.length;T++)N=f(g,b[T],k),N!==null&&(v=i(N,v,T),D===null?R=N:D.sibling=N,D=N);return nt&&so(g,T),R}for(N=r(g,N);T<b.length;T++)j=y(N,g,T,b[T],k),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?T:j.key),v=i(j,v,T),D===null?R=j:D.sibling=j,D=j);return t&&N.forEach(function(P){return e(g,P)}),nt&&so(g,T),R}function x(g,v,b,k){var R=ec(b);if(typeof R!="function")throw Error(K(150));if(b=R.call(b),b==null)throw Error(K(151));for(var D=R=null,N=v,T=v=0,j=null,A=b.next();N!==null&&!A.done;T++,A=b.next()){N.index>T?(j=N,N=null):j=N.sibling;var P=m(g,N,A.value,k);if(P===null){N===null&&(N=j);break}t&&N&&P.alternate===null&&e(g,N),v=i(P,v,T),D===null?R=P:D.sibling=P,D=P,N=j}if(A.done)return n(g,N),nt&&so(g,T),R;if(N===null){for(;!A.done;T++,A=b.next())A=f(g,A.value,k),A!==null&&(v=i(A,v,T),D===null?R=A:D.sibling=A,D=A);return nt&&so(g,T),R}for(N=r(g,N);!A.done;T++,A=b.next())A=y(N,g,T,A.value,k),A!==null&&(t&&A.alternate!==null&&N.delete(A.key===null?T:A.key),v=i(A,v,T),D===null?R=A:D.sibling=A,D=A);return t&&N.forEach(function(O){return e(g,O)}),nt&&so(g,T),R}function w(g,v,b,k){if(typeof b=="object"&&b!==null&&b.type===wa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case md:e:{for(var R=b.key,D=v;D!==null;){if(D.key===R){if(R=b.type,R===wa){if(D.tag===7){n(g,D.sibling),v=s(D,b.props.children),v.return=g,g=v;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gs&&d_(R)===D.type){n(g,D.sibling),v=s(D,b.props),v.ref=ic(g,D,b),v.return=g,g=v;break e}n(g,D);break}else e(g,D);D=D.sibling}b.type===wa?(v=bo(b.props.children,g.mode,k,b.key),v.return=g,g=v):(k=ch(b.type,b.key,b.props,null,g.mode,k),k.ref=ic(g,v,b),k.return=g,g=k)}return o(g);case xa:e:{for(D=b.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=s(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Tp(b,g.mode,k),v.return=g,g=v}return o(g);case Gs:return D=b._init,w(g,v,D(b._payload),k)}if(hc(b))return S(g,v,b,k);if(ec(b))return x(g,v,b,k);Td(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,b),v.return=g,g=v):(n(g,v),v=Sp(b,g.mode,k),v.return=g,g=v),o(g)):n(g,v)}return w}var sl=oT(!0),aT=oT(!1),Hh=$i(null),Wh=null,Ca=null,qv=null;function Kv(){qv=Ca=Wh=null}function Gv(t){var e=Hh.current;Je(Hh),t._currentValue=e}function Vg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function La(t,e){Wh=t,qv=Ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(qv!==t)if(t={context:t,memoizedValue:e,next:null},Ca===null){if(Wh===null)throw Error(K(308));Ca=t,Wh.dependencies={lanes:0,firstContext:t}}else Ca=Ca.next=t;return e}var ho=null;function Qv(t){ho===null?ho=[t]:ho.push(t)}function lT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Qv(e)):(n.next=s.next,s.next=n),e.interleaved=n,gs(t,r)}function gs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qs=!1;function Yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gs(t,n)}return s=r.interleaved,s===null?(e.next=e,Qv(r)):(e.next=s.next,s.next=e),r.interleaved=e,gs(t,n)}function rh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}function h_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qh(t,e,n,r){var s=t.updateQueue;Qs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,x=l;switch(m=e,y=n,x.tag){case 1:if(S=x.payload,typeof S=="function"){f=S.call(y,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,m=typeof S=="function"?S.call(y,f,m):S,m==null)break e;f=it({},f,m);break e;case 2:Qs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=f):h=h.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Co|=o,t.lanes=o,t.memoizedState=f}}function f_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Iu={},Lr=$i(Iu),Xc=$i(Iu),Zc=$i(Iu);function fo(t){if(t===Iu)throw Error(K(174));return t}function Jv(t,e){switch(qe(Zc,e),qe(Xc,t),qe(Lr,Iu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vg(e,t)}Je(Lr),qe(Lr,e)}function il(){Je(Lr),Je(Xc),Je(Zc)}function uT(t){fo(Zc.current);var e=fo(Lr.current),n=vg(e,t.type);e!==n&&(qe(Xc,t),qe(Lr,n))}function Xv(t){Xc.current===t&&(Je(Lr),Je(Xc))}var rt=$i(0);function Kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vp=[];function Zv(){for(var t=0;t<vp.length;t++)vp[t]._workInProgressVersionPrimary=null;vp.length=0}var sh=Cs.ReactCurrentDispatcher,xp=Cs.ReactCurrentBatchConfig,jo=0,st=null,jt=null,Mt=null,Gh=!1,jc=!1,eu=0,hR=0;function Yt(){throw Error(K(321))}function ex(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function tx(t,e,n,r,s,i){if(jo=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sh.current=t===null||t.memoizedState===null?gR:yR,t=n(r,s),jc){i=0;do{if(jc=!1,eu=0,25<=i)throw Error(K(301));i+=1,Mt=jt=null,e.updateQueue=null,sh.current=vR,t=n(r,s)}while(jc)}if(sh.current=Qh,e=jt!==null&&jt.next!==null,jo=0,Mt=jt=st=null,Gh=!1,e)throw Error(K(300));return t}function nx(){var t=eu!==0;return eu=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?st.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Xn(){if(jt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Mt===null?st.memoizedState:Mt.next;if(e!==null)Mt=e,jt=t;else{if(t===null)throw Error(K(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Mt===null?st.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function tu(t,e){return typeof e=="function"?e(t):e}function wp(t){var e=Xn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((jo&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,st.lanes|=h,Co|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,gr(r,e.memoizedState)||(Sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,Co|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _p(t){var e=Xn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gr(i,e.memoizedState)||(Sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function dT(){}function hT(t,e){var n=st,r=Xn(),s=e(),i=!gr(r.memoizedState,s);if(i&&(r.memoizedState=s,Sn=!0),r=r.queue,rx(pT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,nu(9,mT.bind(null,n,r,s,e),void 0,null),Vt===null)throw Error(K(349));jo&30||fT(n,e,s)}return s}function fT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mT(t,e,n,r){e.value=n,e.getSnapshot=r,gT(e)&&yT(t)}function pT(t,e,n){return n(function(){gT(e)&&yT(t)})}function gT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function yT(t){var e=gs(t,1);e!==null&&mr(e,t,1,-1)}function m_(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=pR.bind(null,st,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vT(){return Xn().memoizedState}function ih(t,e,n,r){var s=Nr();st.flags|=t,s.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function zf(t,e,n,r){var s=Xn();r=r===void 0?null:r;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,r!==null&&ex(r,o.deps)){s.memoizedState=nu(e,n,i,r);return}}st.flags|=t,s.memoizedState=nu(1|e,n,i,r)}function p_(t,e){return ih(8390656,8,t,e)}function rx(t,e){return zf(2048,8,t,e)}function xT(t,e){return zf(4,2,t,e)}function wT(t,e){return zf(4,4,t,e)}function _T(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bT(t,e,n){return n=n!=null?n.concat([t]):null,zf(4,4,_T.bind(null,e,t),n)}function sx(){}function ET(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ex(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ST(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ex(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function TT(t,e,n){return jo&21?(gr(n,e)||(n=IS(),st.lanes|=n,Co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function fR(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=xp.transition;xp.transition={};try{t(!1),e()}finally{Fe=n,xp.transition=r}}function NT(){return Xn().memoizedState}function mR(t,e,n){var r=wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jT(t))CT(e,n);else if(n=lT(t,e,n,r),n!==null){var s=fn();mr(n,t,r,s),kT(n,e,r)}}function pR(t,e,n){var r=wi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jT(t))CT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,gr(l,o)){var c=e.interleaved;c===null?(s.next=s,Qv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=lT(t,e,s,r),n!==null&&(s=fn(),mr(n,t,r,s),kT(n,e,r))}}function jT(t){var e=t.alternate;return t===st||e!==null&&e===st}function CT(t,e){jc=Gh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}var Qh={readContext:Jn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},gR={readContext:Jn,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:p_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ih(4194308,4,_T.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return ih(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mR.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:m_,useDebugValue:sx,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=m_(!1),e=t[0];return t=fR.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=Nr();if(nt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Vt===null)throw Error(K(349));jo&30||fT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,p_(pT.bind(null,r,i,t),[t]),r.flags|=2048,nu(9,mT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nr(),e=Vt.identifierPrefix;if(nt){var n=as,r=os;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yR={readContext:Jn,useCallback:ET,useContext:Jn,useEffect:rx,useImperativeHandle:bT,useInsertionEffect:xT,useLayoutEffect:wT,useMemo:ST,useReducer:wp,useRef:vT,useState:function(){return wp(tu)},useDebugValue:sx,useDeferredValue:function(t){var e=Xn();return TT(e,jt.memoizedState,t)},useTransition:function(){var t=wp(tu)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:hT,useId:NT,unstable_isNewReconciler:!1},vR={readContext:Jn,useCallback:ET,useContext:Jn,useEffect:rx,useImperativeHandle:bT,useInsertionEffect:xT,useLayoutEffect:wT,useMemo:ST,useReducer:_p,useRef:vT,useState:function(){return _p(tu)},useDebugValue:sx,useDeferredValue:function(t){var e=Xn();return jt===null?e.memoizedState=t:TT(e,jt.memoizedState,t)},useTransition:function(){var t=_p(tu)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:hT,useId:NT,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bf={isMounted:function(t){return(t=t._reactInternals)?$o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),s=wi(t),i=us(r,s);i.payload=e,n!=null&&(i.callback=n),e=vi(t,i,s),e!==null&&(mr(e,t,s,r),rh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),s=wi(t),i=us(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vi(t,i,s),e!==null&&(mr(e,t,s,r),rh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=wi(t),s=us(n,r);s.tag=2,e!=null&&(s.callback=e),e=vi(t,s,r),e!==null&&(mr(e,t,r,n),rh(e,t,r))}};function g_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Gc(n,r)||!Gc(s,i):!0}function IT(t,e,n){var r=!1,s=Ii,i=e.contextType;return typeof i=="object"&&i!==null?i=Jn(i):(s=Nn(e)?To:rn.current,r=e.contextTypes,i=(r=r!=null)?nl(t,s):Ii),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function y_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bf.enqueueReplaceState(e,e.state,null)}function $g(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Yv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Jn(i):(i=Nn(e)?To:rn.current,s.context=nl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bf.enqueueReplaceState(s,s.state,null),qh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ol(t,e){try{var n="",r=e;do n+=q2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xR=typeof WeakMap=="function"?WeakMap:Map;function AT(t,e,n){n=us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jh||(Jh=!0,Jg=r),Ug(t,e)},n}function PT(t,e,n){n=us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ug(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ug(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function v_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=RR.bind(null,t,e,n),e.then(t,t))}function x_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=us(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var wR=Cs.ReactCurrentOwner,Sn=!1;function dn(t,e,n,r){e.child=t===null?aT(e,null,n,r):sl(e,t.child,n,r)}function __(t,e,n,r,s){n=n.render;var i=e.ref;return La(e,s),r=tx(t,e,n,r,i,s),n=nx(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ys(t,e,s)):(nt&&n&&Bv(e),e.flags|=1,dn(t,e,r,s),e.child)}function b_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RT(t,e,i,r,s)):(t=ch(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gc,n(o,r)&&t.ref===e.ref)return ys(t,e,s)}return e.flags|=1,t=_i(i,r),t.ref=e.ref,t.return=e,e.child=t}function RT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Gc(i,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,ys(t,e,s)}return zg(t,e,n,r,s)}function OT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ia,An),An|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Ia,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qe(Ia,An),An|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qe(Ia,An),An|=r;return dn(t,e,s,n),e.child}function DT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zg(t,e,n,r,s){var i=Nn(n)?To:rn.current;return i=nl(e,i),La(e,s),n=tx(t,e,n,r,i,s),r=nx(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ys(t,e,s)):(nt&&r&&Bv(e),e.flags|=1,dn(t,e,n,s),e.child)}function E_(t,e,n,r,s){if(Nn(n)){var i=!0;Uh(e)}else i=!1;if(La(e,s),e.stateNode===null)oh(t,e),IT(e,n,r),$g(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=Nn(n)?To:rn.current,u=nl(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&y_(e,o,r,u),Qs=!1;var m=e.memoizedState;o.state=m,qh(e,r,o,s),c=e.memoizedState,l!==r||m!==c||Tn.current||Qs?(typeof h=="function"&&(Fg(e,n,h,r),c=e.memoizedState),(l=Qs||g_(e,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,cT(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:sr(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Jn(c):(c=Nn(n)?To:rn.current,c=nl(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&y_(e,o,r,c),Qs=!1,m=e.memoizedState,o.state=m,qh(e,r,o,s);var S=e.memoizedState;l!==f||m!==S||Tn.current||Qs?(typeof y=="function"&&(Fg(e,n,y,r),S=e.memoizedState),(u=Qs||g_(e,n,u,r,m,S,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Bg(t,e,n,r,i,s)}function Bg(t,e,n,r,s,i){DT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&l_(e,n,!1),ys(t,e,i);r=e.stateNode,wR.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sl(e,t.child,null,i),e.child=sl(e,null,l,i)):dn(t,e,l,i),e.memoizedState=r.state,s&&l_(e,n,!0),e.child}function MT(t){var e=t.stateNode;e.pendingContext?a_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a_(t,e.context,!1),Jv(t,e.containerInfo)}function S_(t,e,n,r,s){return rl(),Wv(s),e.flags|=256,dn(t,e,n,r),e.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function Wg(t){return{baseLanes:t,cachePool:null,transitions:null}}function LT(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(rt,s&1),t===null)return Lg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qf(o,r,0,null),t=bo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wg(n),e.memoizedState=Hg,t):ix(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return _R(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=_i(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=_i(l,i):(i=bo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Wg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Hg,r}return i=t.child,t=i.sibling,r=_i(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ix(t,e){return e=qf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nd(t,e,n,r){return r!==null&&Wv(r),sl(e,t.child,null,n),t=ix(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _R(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bp(Error(K(422))),Nd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qf({mode:"visible",children:r.children},s,0,null),i=bo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&sl(e,t.child,null,o),e.child.memoizedState=Wg(o),e.memoizedState=Hg,i);if(!(e.mode&1))return Nd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(K(419)),r=bp(i,r,void 0),Nd(t,e,o,r)}if(l=(o&t.childLanes)!==0,Sn||l){if(r=Vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gs(t,s),mr(r,t,s,-1))}return dx(),r=bp(Error(K(421))),Nd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=OR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rn=yi(s.nextSibling),On=e,nt=!0,ur=null,t!==null&&(Bn[Hn++]=os,Bn[Hn++]=as,Bn[Hn++]=No,os=t.id,as=t.overflow,No=e),e=ix(e,r.children),e.flags|=4096,e)}function T_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vg(t.return,e,n)}function Ep(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function VT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(dn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T_(t,n,e);else if(t.tag===19)T_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Kh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ep(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Kh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ep(e,!0,n,null,i);break;case"together":Ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=_i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bR(t,e,n){switch(e.tag){case 3:MT(e),rl();break;case 5:uT(e);break;case 1:Nn(e.type)&&Uh(e);break;case 4:Jv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(Hh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?LT(t,e,n):(qe(rt,rt.current&1),t=ys(t,e,n),t!==null?t.sibling:null);qe(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,OT(t,e,n)}return ys(t,e,n)}var FT,qg,$T,UT;FT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qg=function(){};$T=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fo(Lr.current);var i=null;switch(n){case"input":s=mg(t,s),r=mg(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=yg(t,s),r=yg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fh)}xg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};UT=function(t,e,n,r){n!==r&&(e.flags|=4)};function oc(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ER(t,e,n){var r=e.pendingProps;switch(Hv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Nn(e.type)&&$h(),Jt(e),null;case 3:return r=e.stateNode,il(),Je(Tn),Je(rn),Zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(ey(ur),ur=null))),qg(t,e),Jt(e),null;case 5:Xv(e);var s=fo(Zc.current);if(n=e.type,t!==null&&e.stateNode!=null)$T(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Jt(e),null}if(t=fo(Lr.current),Sd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Pr]=e,r[Jc]=i,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(s=0;s<mc.length;s++)Qe(mc[s],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Ow(r,i),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",r);break;case"textarea":Mw(r,i),Qe("invalid",r)}xg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ed(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ed(r.textContent,l,t),s=["children",""+l]):Uc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":pd(r),Dw(r,i,!0);break;case"textarea":pd(r),Lw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pr]=e,t[Jc]=r,FT(t,e,!1,!1),e.stateNode=t;e:{switch(o=wg(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),s=r;break;case"iframe":case"object":case"embed":Qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<mc.length;s++)Qe(mc[s],t);s=r;break;case"source":Qe("error",t),s=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),s=r;break;case"details":Qe("toggle",t),s=r;break;case"input":Ow(t,r),s=mg(t,r),Qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":Mw(t,r),s=yg(t,r),Qe("invalid",t);break;default:s=r}xg(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?vS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zc(t,c):typeof c=="number"&&zc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Uc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",t):c!=null&&kv(t,i,c,o))}switch(n){case"input":pd(t),Dw(t,r,!1);break;case"textarea":pd(t),Lw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ra(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)UT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=fo(Zc.current),fo(Lr.current),Sd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(i=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:Ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ed(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Jt(e),null;case 13:if(Je(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Rn!==null&&e.mode&1&&!(e.flags&128))iT(),rl(),e.flags|=98560,i=!1;else if(i=Sd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Pr]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else ur!==null&&(ey(ur),ur=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Ct===0&&(Ct=3):dx())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return il(),qg(t,e),t===null&&Qc(e.stateNode.containerInfo),Jt(e),null;case 10:return Gv(e.type._context),Jt(e),null;case 17:return Nn(e.type)&&$h(),Jt(e),null;case 19:if(Je(rt),i=e.memoizedState,i===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)oc(i,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kh(t),o!==null){for(e.flags|=128,oc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ht()>al&&(e.flags|=128,r=!0,oc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Kh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nt)return Jt(e),null}else 2*ht()-i.renderingStartTime>al&&n!==1073741824&&(e.flags|=128,r=!0,oc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ht(),e.sibling=null,n=rt.current,qe(rt,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return ux(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function SR(t,e){switch(Hv(e),e.tag){case 1:return Nn(e.type)&&$h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return il(),Je(Tn),Je(rn),Zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xv(e),null;case 13:if(Je(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(rt),null;case 4:return il(),null;case 10:return Gv(e.type._context),null;case 22:case 23:return ux(),null;case 24:return null;default:return null}}var jd=!1,en=!1,TR=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Kg(t,e,n){try{n()}catch(r){ct(t,e,r)}}var N_=!1;function NR(t,e){if(Ig=Mh,t=qS(),zv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ag={focusedElem:t,selectionRange:n},Mh=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,w=S.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:sr(e.type,x),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(k){ct(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return S=N_,N_=!1,S}function Cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kg(e,n,i)}s=s.next}while(s!==r)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zT(t){var e=t.alternate;e!==null&&(t.alternate=null,zT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[Jc],delete e[Og],delete e[lR],delete e[cR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BT(t){return t.tag===5||t.tag===3||t.tag===4}function j_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fh));else if(r!==4&&(t=t.child,t!==null))for(Qg(t,e,n),t=t.sibling;t!==null;)Qg(t,e,n),t=t.sibling}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}var Ut=null,lr=!1;function Fs(t,e,n){for(n=n.child;n!==null;)HT(t,e,n),n=n.sibling}function HT(t,e,n){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Mf,n)}catch{}switch(n.tag){case 5:en||ka(n,e);case 6:var r=Ut,s=lr;Ut=null,Fs(t,e,n),Ut=r,lr=s,Ut!==null&&(lr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(lr?(t=Ut,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),qc(t)):gp(Ut,n.stateNode));break;case 4:r=Ut,s=lr,Ut=n.stateNode.containerInfo,lr=!0,Fs(t,e,n),Ut=r,lr=s;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kg(n,e,o),s=s.next}while(s!==r)}Fs(t,e,n);break;case 1:if(!en&&(ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ct(n,e,l)}Fs(t,e,n);break;case 21:Fs(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Fs(t,e,n),en=r):Fs(t,e,n);break;default:Fs(t,e,n)}}function C_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TR),e.forEach(function(r){var s=DR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,lr=!1;break e;case 3:Ut=l.stateNode.containerInfo,lr=!0;break e;case 4:Ut=l.stateNode.containerInfo,lr=!0;break e}l=l.return}if(Ut===null)throw Error(K(160));HT(i,o,s),Ut=null,lr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ct(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WT(e,t),e=e.sibling}function WT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),Sr(t),r&4){try{Cc(3,t,t.return),Hf(3,t)}catch(x){ct(t,t.return,x)}try{Cc(5,t,t.return)}catch(x){ct(t,t.return,x)}}break;case 1:tr(e,t),Sr(t),r&512&&n!==null&&ka(n,n.return);break;case 5:if(tr(e,t),Sr(t),r&512&&n!==null&&ka(n,n.return),t.flags&32){var s=t.stateNode;try{zc(s,"")}catch(x){ct(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&fS(s,i),wg(l,o);var u=wg(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?vS(s,f):h==="dangerouslySetInnerHTML"?gS(s,f):h==="children"?zc(s,f):kv(s,h,f,u)}switch(l){case"input":pg(s,i);break;case"textarea":mS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ra(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ra(s,!!i.multiple,i.defaultValue,!0):Ra(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jc]=i}catch(x){ct(t,t.return,x)}}break;case 6:if(tr(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ct(t,t.return,x)}}break;case 3:if(tr(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qc(e.containerInfo)}catch(x){ct(t,t.return,x)}break;case 4:tr(e,t),Sr(t);break;case 13:tr(e,t),Sr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lx=ht())),r&4&&C_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||h,tr(e,t),en=u):tr(e,t),Sr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ie=t,h=t.child;h!==null;){for(f=ie=h;ie!==null;){switch(m=ie,y=m.child,m.tag){case 0:case 11:case 14:case 15:Cc(4,m,m.return);break;case 1:ka(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(x){ct(r,n,x)}}break;case 5:ka(m,m.return);break;case 22:if(m.memoizedState!==null){I_(f);continue}}y!==null?(y.return=m,ie=y):I_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yS("display",o))}catch(x){ct(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ct(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),Sr(t),r&4&&C_(t);break;case 21:break;default:tr(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BT(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zc(s,""),r.flags&=-33);var i=j_(t);Yg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=j_(t);Qg(t,l,o);break;default:throw Error(K(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jR(t,e,n){ie=t,qT(t)}function qT(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var s=ie,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||jd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||en;l=jd;var u=en;if(jd=o,(en=c)&&!u)for(ie=s;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?A_(s):c!==null?(c.return=o,ie=c):A_(s);for(;i!==null;)ie=i,qT(i),i=i.sibling;ie=s,jd=l,en=u}k_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ie=i):k_(t)}}function k_(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Hf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&f_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f_(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&qc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}en||e.flags&512&&Gg(e)}catch(m){ct(e,e.return,m)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function I_(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function A_(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hf(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ct(e,s,c)}}var i=e.return;try{Gg(e)}catch(c){ct(e,i,c)}break;case 5:var o=e.return;try{Gg(e)}catch(c){ct(e,o,c)}}}catch(c){ct(e,e.return,c)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var CR=Math.ceil,Yh=Cs.ReactCurrentDispatcher,ox=Cs.ReactCurrentOwner,Qn=Cs.ReactCurrentBatchConfig,Oe=0,Vt=null,mt=null,Wt=0,An=0,Ia=$i(0),Ct=0,ru=null,Co=0,Wf=0,ax=0,kc=null,bn=null,lx=0,al=1/0,ns=null,Jh=!1,Jg=null,xi=null,Cd=!1,di=null,Xh=0,Ic=0,Xg=null,ah=-1,lh=0;function fn(){return Oe&6?ht():ah!==-1?ah:ah=ht()}function wi(t){return t.mode&1?Oe&2&&Wt!==0?Wt&-Wt:dR.transition!==null?(lh===0&&(lh=IS()),lh):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:LS(t.type)),t):1}function mr(t,e,n,r){if(50<Ic)throw Ic=0,Xg=null,Error(K(185));ju(t,n,r),(!(Oe&2)||t!==Vt)&&(t===Vt&&(!(Oe&2)&&(Wf|=n),Ct===4&&Js(t,Wt)),jn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(al=ht()+500,Uf&&Ui()))}function jn(t,e){var n=t.callbackNode;dP(t,e);var r=Dh(t,t===Vt?Wt:0);if(r===0)n!==null&&$w(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$w(n),e===1)t.tag===0?uR(P_.bind(null,t)):nT(P_.bind(null,t)),oR(function(){!(Oe&6)&&Ui()}),n=null;else{switch(AS(r)){case 1:n=Ov;break;case 4:n=CS;break;case 16:n=Oh;break;case 536870912:n=kS;break;default:n=Oh}n=eN(n,KT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KT(t,e){if(ah=-1,lh=0,Oe&6)throw Error(K(327));var n=t.callbackNode;if(Va()&&t.callbackNode!==n)return null;var r=Dh(t,t===Vt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zh(t,r);else{e=r;var s=Oe;Oe|=2;var i=QT();(Vt!==t||Wt!==e)&&(ns=null,al=ht()+500,_o(t,e));do try{AR();break}catch(l){GT(t,l)}while(!0);Kv(),Yh.current=i,Oe=s,mt!==null?e=0:(Vt=null,Wt=0,e=Ct)}if(e!==0){if(e===2&&(s=Tg(t),s!==0&&(r=s,e=Zg(t,s))),e===1)throw n=ru,_o(t,0),Js(t,r),jn(t,ht()),n;if(e===6)Js(t,r);else{if(s=t.current.alternate,!(r&30)&&!kR(s)&&(e=Zh(t,r),e===2&&(i=Tg(t),i!==0&&(r=i,e=Zg(t,i))),e===1))throw n=ru,_o(t,0),Js(t,r),jn(t,ht()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:io(t,bn,ns);break;case 3:if(Js(t,r),(r&130023424)===r&&(e=lx+500-ht(),10<e)){if(Dh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rg(io.bind(null,t,bn,ns),e);break}io(t,bn,ns);break;case 4:if(Js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CR(r/1960))-r,10<r){t.timeoutHandle=Rg(io.bind(null,t,bn,ns),r);break}io(t,bn,ns);break;case 5:io(t,bn,ns);break;default:throw Error(K(329))}}}return jn(t,ht()),t.callbackNode===n?KT.bind(null,t):null}function Zg(t,e){var n=kc;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=Zh(t,e),t!==2&&(e=bn,bn=n,e!==null&&ey(e)),t}function ey(t){bn===null?bn=t:bn.push.apply(bn,t)}function kR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Js(t,e){for(e&=~ax,e&=~Wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function P_(t){if(Oe&6)throw Error(K(327));Va();var e=Dh(t,0);if(!(e&1))return jn(t,ht()),null;var n=Zh(t,e);if(t.tag!==0&&n===2){var r=Tg(t);r!==0&&(e=r,n=Zg(t,r))}if(n===1)throw n=ru,_o(t,0),Js(t,e),jn(t,ht()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,bn,ns),jn(t,ht()),null}function cx(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(al=ht()+500,Uf&&Ui())}}function ko(t){di!==null&&di.tag===0&&!(Oe&6)&&Va();var e=Oe;Oe|=1;var n=Qn.transition,r=Fe;try{if(Qn.transition=null,Fe=1,t)return t()}finally{Fe=r,Qn.transition=n,Oe=e,!(Oe&6)&&Ui()}}function ux(){An=Ia.current,Je(Ia)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iR(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(Hv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$h();break;case 3:il(),Je(Tn),Je(rn),Zv();break;case 5:Xv(r);break;case 4:il();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Gv(r.type._context);break;case 22:case 23:ux()}n=n.return}if(Vt=t,mt=t=_i(t.current,null),Wt=An=e,Ct=0,ru=null,ax=Wf=Co=0,bn=kc=null,ho!==null){for(e=0;e<ho.length;e++)if(n=ho[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ho=null}return t}function GT(t,e){do{var n=mt;try{if(Kv(),sh.current=Qh,Gh){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gh=!1}if(jo=0,Mt=jt=st=null,jc=!1,eu=0,ox.current=null,n===null||n.return===null){Ct=1,ru=e,mt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=x_(o);if(y!==null){y.flags&=-257,w_(y,o,l,i,e),y.mode&1&&v_(i,u,e),e=y,c=u;var S=e.updateQueue;if(S===null){var x=new Set;x.add(c),e.updateQueue=x}else S.add(c);break e}else{if(!(e&1)){v_(i,u,e),dx();break e}c=Error(K(426))}}else if(nt&&l.mode&1){var w=x_(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),w_(w,o,l,i,e),Wv(ol(c,l));break e}}i=c=ol(c,l),Ct!==4&&(Ct=2),kc===null?kc=[i]:kc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=AT(i,c,e);h_(i,g);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xi===null||!xi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=PT(i,l,e);h_(i,k);break e}}i=i.return}while(i!==null)}JT(n)}catch(R){e=R,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function QT(){var t=Yh.current;return Yh.current=Qh,t===null?Qh:t}function dx(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Vt===null||!(Co&268435455)&&!(Wf&268435455)||Js(Vt,Wt)}function Zh(t,e){var n=Oe;Oe|=2;var r=QT();(Vt!==t||Wt!==e)&&(ns=null,_o(t,e));do try{IR();break}catch(s){GT(t,s)}while(!0);if(Kv(),Oe=n,Yh.current=r,mt!==null)throw Error(K(261));return Vt=null,Wt=0,Ct}function IR(){for(;mt!==null;)YT(mt)}function AR(){for(;mt!==null&&!nP();)YT(mt)}function YT(t){var e=ZT(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?JT(t):mt=e,ox.current=null}function JT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SR(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,mt=null;return}}else if(n=ER(n,e,An),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);Ct===0&&(Ct=5)}function io(t,e,n){var r=Fe,s=Qn.transition;try{Qn.transition=null,Fe=1,PR(t,e,n,r)}finally{Qn.transition=s,Fe=r}return null}function PR(t,e,n,r){do Va();while(di!==null);if(Oe&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(hP(t,i),t===Vt&&(mt=Vt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cd||(Cd=!0,eN(Oh,function(){return Va(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qn.transition,Qn.transition=null;var o=Fe;Fe=1;var l=Oe;Oe|=4,ox.current=null,NR(t,n),WT(n,t),XP(Ag),Mh=!!Ig,Ag=Ig=null,t.current=n,jR(n),rP(),Oe=l,Fe=o,Qn.transition=i}else t.current=n;if(Cd&&(Cd=!1,di=t,Xh=s),i=t.pendingLanes,i===0&&(xi=null),oP(n.stateNode),jn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jh)throw Jh=!1,t=Jg,Jg=null,t;return Xh&1&&t.tag!==0&&Va(),i=t.pendingLanes,i&1?t===Xg?Ic++:(Ic=0,Xg=t):Ic=0,Ui(),null}function Va(){if(di!==null){var t=AS(Xh),e=Qn.transition,n=Fe;try{if(Qn.transition=null,Fe=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,Xh=0,Oe&6)throw Error(K(331));var s=Oe;for(Oe|=4,ie=t.current;ie!==null;){var i=ie,o=i.child;if(ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:Cc(8,h,i)}var f=h.child;if(f!==null)f.return=h,ie=f;else for(;ie!==null;){h=ie;var m=h.sibling,y=h.return;if(zT(h),h===u){ie=null;break}if(m!==null){m.return=y,ie=m;break}ie=y}}}var S=i.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ie=o;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ie=g;break e}ie=i.return}}var v=t.current;for(ie=v;ie!==null;){o=ie;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ie=b;else e:for(o=v;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hf(9,l)}}catch(R){ct(l,l.return,R)}if(l===o){ie=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ie=k;break e}ie=l.return}}if(Oe=s,Ui(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Mf,t)}catch{}r=!0}return r}finally{Fe=n,Qn.transition=e}}return!1}function R_(t,e,n){e=ol(n,e),e=AT(t,e,1),t=vi(t,e,1),e=fn(),t!==null&&(ju(t,1,e),jn(t,e))}function ct(t,e,n){if(t.tag===3)R_(t,t,n);else for(;e!==null;){if(e.tag===3){R_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=ol(n,t),t=PT(e,t,1),e=vi(e,t,1),t=fn(),e!==null&&(ju(e,1,t),jn(e,t));break}}e=e.return}}function RR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Wt&n)===n&&(Ct===4||Ct===3&&(Wt&130023424)===Wt&&500>ht()-lx?_o(t,0):ax|=n),jn(t,e)}function XT(t,e){e===0&&(t.mode&1?(e=vd,vd<<=1,!(vd&130023424)&&(vd=4194304)):e=1);var n=fn();t=gs(t,e),t!==null&&(ju(t,e,n),jn(t,n))}function OR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XT(t,n)}function DR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),XT(t,n)}var ZT;ZT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,bR(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,nt&&e.flags&1048576&&rT(e,Bh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;oh(t,e),t=e.pendingProps;var s=nl(e,rn.current);La(e,n),s=tx(null,e,r,t,s,n);var i=nx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(i=!0,Uh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yv(e),s.updater=Bf,e.stateNode=s,s._reactInternals=e,$g(e,r,t,n),e=Bg(null,e,r,!0,i,n)):(e.tag=0,nt&&i&&Bv(e),dn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(oh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=LR(r),t=sr(r,t),s){case 0:e=zg(null,e,r,t,n);break e;case 1:e=E_(null,e,r,t,n);break e;case 11:e=__(null,e,r,t,n);break e;case 14:e=b_(null,e,r,sr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),zg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),E_(t,e,r,s,n);case 3:e:{if(MT(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,cT(t,e),qh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ol(Error(K(423)),e),e=S_(t,e,r,n,s);break e}else if(r!==s){s=ol(Error(K(424)),e),e=S_(t,e,r,n,s);break e}else for(Rn=yi(e.stateNode.containerInfo.firstChild),On=e,nt=!0,ur=null,n=aT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===s){e=ys(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return uT(e),t===null&&Lg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Pg(r,s)?o=null:i!==null&&Pg(r,i)&&(e.flags|=32),DT(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&Lg(e),null;case 13:return LT(t,e,n);case 4:return Jv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sl(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),__(t,e,r,s,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qe(Hh,r._currentValue),r._currentValue=o,i!==null)if(gr(i.value,o)){if(i.children===s.children&&!Tn.current){e=ys(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=us(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Vg(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,La(e,n),s=Jn(s),r=r(s),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,s=sr(r,e.pendingProps),s=sr(r.type,s),b_(t,e,r,s,n);case 15:return RT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),oh(t,e),e.tag=1,Nn(r)?(t=!0,Uh(e)):t=!1,La(e,n),IT(e,r,s),$g(e,r,s,n),Bg(null,e,r,!0,t,n);case 19:return VT(t,e,n);case 22:return OT(t,e,n)}throw Error(K(156,e.tag))};function eN(t,e){return jS(t,e)}function MR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new MR(t,e,n,r)}function hx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LR(t){if(typeof t=="function")return hx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Av)return 11;if(t===Pv)return 14}return 2}function _i(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ch(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")hx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wa:return bo(n.children,s,i,e);case Iv:o=8,s|=8;break;case ug:return t=Gn(12,n,e,s|2),t.elementType=ug,t.lanes=i,t;case dg:return t=Gn(13,n,e,s),t.elementType=dg,t.lanes=i,t;case hg:return t=Gn(19,n,e,s),t.elementType=hg,t.lanes=i,t;case uS:return qf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lS:o=10;break e;case cS:o=9;break e;case Av:o=11;break e;case Pv:o=14;break e;case Gs:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function bo(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function qf(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=uS,t.lanes=n,t.stateNode={isHidden:!1},t}function Sp(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Tp(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ip(0),this.expirationTimes=ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ip(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fx(t,e,n,r,s,i,o,l,c){return t=new VR(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Gn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(i),t}function FR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tN(t){if(!t)return Ii;t=t._reactInternals;e:{if($o(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Nn(n))return tT(t,n,e)}return e}function nN(t,e,n,r,s,i,o,l,c){return t=fx(n,r,!0,t,s,i,o,l,c),t.context=tN(null),n=t.current,r=fn(),s=wi(n),i=us(r,s),i.callback=e??null,vi(n,i,s),t.current.lanes=s,ju(t,s,r),jn(t,r),t}function Kf(t,e,n,r){var s=e.current,i=fn(),o=wi(s);return n=tN(n),e.context===null?e.context=n:e.pendingContext=n,e=us(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(s,e,o),t!==null&&(mr(t,s,o,i),rh(t,s,o)),o}function ef(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mx(t,e){O_(t,e),(t=t.alternate)&&O_(t,e)}function $R(){return null}var rN=typeof reportError=="function"?reportError:function(t){console.error(t)};function px(t){this._internalRoot=t}Gf.prototype.render=px.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Kf(t,e,null,null)};Gf.prototype.unmount=px.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ko(function(){Kf(null,t,null,null)}),e[ps]=null}};function Gf(t){this._internalRoot=t}Gf.prototype.unstable_scheduleHydration=function(t){if(t){var e=OS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ys.length&&e!==0&&e<Ys[n].priority;n++);Ys.splice(n,0,t),n===0&&MS(t)}};function gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function D_(){}function UR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ef(o);i.call(u)}}var o=nN(e,r,t,0,null,!1,!1,"",D_);return t._reactRootContainer=o,t[ps]=o.current,Qc(t.nodeType===8?t.parentNode:t),ko(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ef(c);l.call(u)}}var c=fx(t,0,!1,null,null,!1,!1,"",D_);return t._reactRootContainer=c,t[ps]=c.current,Qc(t.nodeType===8?t.parentNode:t),ko(function(){Kf(e,c,n,r)}),c}function Yf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ef(o);l.call(c)}}Kf(e,o,t,s)}else o=UR(n,e,t,s,r);return ef(o)}PS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fc(e.pendingLanes);n!==0&&(Dv(e,n|1),jn(e,ht()),!(Oe&6)&&(al=ht()+500,Ui()))}break;case 13:ko(function(){var r=gs(t,1);if(r!==null){var s=fn();mr(r,t,1,s)}}),mx(t,1)}};Mv=function(t){if(t.tag===13){var e=gs(t,134217728);if(e!==null){var n=fn();mr(e,t,134217728,n)}mx(t,134217728)}};RS=function(t){if(t.tag===13){var e=wi(t),n=gs(t,e);if(n!==null){var r=fn();mr(n,t,e,r)}mx(t,e)}};OS=function(){return Fe};DS=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};bg=function(t,e,n){switch(e){case"input":if(pg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$f(r);if(!s)throw Error(K(90));hS(r),pg(r,s)}}}break;case"textarea":mS(t,n);break;case"select":e=n.value,e!=null&&Ra(t,!!n.multiple,e,!1)}};_S=cx;bS=ko;var zR={usingClientEntryPoint:!1,Events:[ku,Sa,$f,xS,wS,cx]},ac={findFiberByHostInstance:uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BR={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TS(t),t===null?null:t.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||$R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{Mf=kd.inject(BR),Mr=kd}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gx(e))throw Error(K(200));return FR(t,e,null,n)};Vn.createRoot=function(t,e){if(!gx(t))throw Error(K(299));var n=!1,r="",s=rN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fx(t,1,!1,null,null,n,!1,r,s),t[ps]=e.current,Qc(t.nodeType===8?t.parentNode:t),new px(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=TS(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return ko(t)};Vn.hydrate=function(t,e,n){if(!Qf(e))throw Error(K(200));return Yf(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!gx(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nN(e,null,t,1,n??null,s,!1,i,o),t[ps]=e.current,Qc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gf(e)};Vn.render=function(t,e,n){if(!Qf(e))throw Error(K(200));return Yf(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!Qf(t))throw Error(K(40));return t._reactRootContainer?(ko(function(){Yf(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Vn.unstable_batchedUpdates=cx;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qf(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Yf(t,e,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function sN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sN)}catch(t){console.error(t)}}sN(),sS.exports=Vn;var Uo=sS.exports;const iN=qE(Uo);var M_=Uo;lg.createRoot=M_.createRoot,lg.hydrateRoot=M_.hydrateRoot;var Jf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HR={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},si,_v,LE,WR=(LE=class{constructor(){Pe(this,si,HR);Pe(this,_v,!1)}setTimeoutProvider(t){ge(this,si,t)}setTimeout(t,e){return z(this,si).setTimeout(t,e)}clearTimeout(t){z(this,si).clearTimeout(t)}setInterval(t,e){return z(this,si).setInterval(t,e)}clearInterval(t){z(this,si).clearInterval(t)}},si=new WeakMap,_v=new WeakMap,LE),ty=new WR;function qR(t){setTimeout(t,0)}var Xf=typeof window>"u"||"Deno"in globalThis;function ir(){}function KR(t,e){return typeof t=="function"?t(e):t}function GR(t){return typeof t=="number"&&t>=0&&t!==1/0}function QR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ny(t,e){return typeof t=="function"?t(e):t}function YR(t,e){return typeof t=="function"?t(e):t}function L_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==yx(o,e.options))return!1}else if(!iu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function V_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(su(e.options.mutationKey)!==su(i))return!1}else if(!iu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function yx(t,e){return((e==null?void 0:e.queryKeyHashFn)||su)(t)}function su(t){return JSON.stringify(t,(e,n)=>ry(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function iu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>iu(t[n],e[n])):!1}var JR=Object.prototype.hasOwnProperty;function oN(t,e){if(t===e)return t;const n=F_(t)&&F_(e);if(!n&&!(ry(t)&&ry(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const h=n?u:i[u],f=t[h],m=e[h];if(f===m){l[h]=f,(n?u<s:JR.call(t,h))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[h]=m;continue}const y=oN(f,m);l[h]=y,y===f&&c++}return s===o&&c===s?t:l}function F_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ry(t){if(!$_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $_(t){return Object.prototype.toString.call(t)==="[object Object]"}function XR(t){return new Promise(e=>{ty.setTimeout(e,t)})}function ZR(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?oN(t,e):e}function eO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vx=Symbol();function aN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var po,ii,Ka,VE,nO=(VE=class extends Jf{constructor(){super();Pe(this,po);Pe(this,ii);Pe(this,Ka);ge(this,Ka,e=>{if(!Xf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,ii)||this.setEventListener(z(this,Ka))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ii))==null||e.call(this),ge(this,ii,void 0))}setEventListener(e){var n;ge(this,Ka,e),(n=z(this,ii))==null||n.call(this),ge(this,ii,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,po)!==e&&(ge(this,po,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,po)=="boolean"?z(this,po):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},po=new WeakMap,ii=new WeakMap,Ka=new WeakMap,VE),lN=new nO;function rO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var sO=qR;function iO(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=sO;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var hn=iO(),Ga,oi,Qa,FE,oO=(FE=class extends Jf{constructor(){super();Pe(this,Ga,!0);Pe(this,oi);Pe(this,Qa);ge(this,Qa,e=>{if(!Xf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,oi)||this.setEventListener(z(this,Qa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,oi))==null||e.call(this),ge(this,oi,void 0))}setEventListener(e){var n;ge(this,Qa,e),(n=z(this,oi))==null||n.call(this),ge(this,oi,e(this.setOnline.bind(this)))}setOnline(e){z(this,Ga)!==e&&(ge(this,Ga,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Ga)}},Ga=new WeakMap,oi=new WeakMap,Qa=new WeakMap,FE),tf=new oO;function aO(t){return Math.min(1e3*2**t,3e4)}function cN(t){return(t??"online")==="online"?tf.isOnline():!0}var sy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function uN(t){let e=!1,n=0,r;const s=rO(),i=()=>s.status!=="pending",o=x=>{var w;if(!i()){const g=new sy(x);m(g),(w=t.onCancel)==null||w.call(t,g)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>lN.isFocused()&&(t.networkMode==="always"||tf.isOnline())&&t.canRun(),h=()=>cN(t.networkMode)&&t.canRun(),f=x=>{i()||(r==null||r(),s.resolve(x))},m=x=>{i()||(r==null||r(),s.reject(x))},y=()=>new Promise(x=>{var w;r=g=>{(i()||u())&&x(g)},(w=t.onPause)==null||w.call(t)}).then(()=>{var x;r=void 0,i()||(x=t.onContinue)==null||x.call(t)}),S=()=>{if(i())return;let x;const w=n===0?t.initialPromise:void 0;try{x=w??t.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(f).catch(g=>{var D;if(i())return;const v=t.retry??(Xf?0:3),b=t.retryDelay??aO,k=typeof b=="function"?b(n,g):b,R=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(e||!R){m(g);return}n++,(D=t.onFail)==null||D.call(t,n,g),XR(k).then(()=>u()?void 0:y()).then(()=>{e?m(g):S()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?S():y().then(S),s)}}var go,$E,dN=($E=class{constructor(){Pe(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GR(this.gcTime)&&ge(this,go,ty.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xf?1/0:5*60*1e3))}clearGcTimeout(){z(this,go)&&(ty.clearTimeout(z(this,go)),ge(this,go,void 0))}},go=new WeakMap,$E),yo,Ya,zn,vo,Ot,Eu,xo,or,es,UE,lO=(UE=class extends dN{constructor(n){super();Pe(this,or);Pe(this,yo);Pe(this,Ya);Pe(this,zn);Pe(this,vo);Pe(this,Ot);Pe(this,Eu);Pe(this,xo);ge(this,xo,!1),ge(this,Eu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ge(this,vo,n.client),ge(this,zn,z(this,vo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ge(this,yo,U_(this.options)),this.state=n.state??z(this,yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Ot))==null?void 0:n.promise}setOptions(n){if(this.options={...z(this,Eu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=U_(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ge(this,yo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,zn).remove(this)}setData(n,r){const s=ZR(this.state.data,n,this.options);return Qt(this,or,es).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Qt(this,or,es).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,Ot))==null?void 0:s.promise;return(i=z(this,Ot))==null||i.cancel(n),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,yo))}isActive(){return this.observers.some(n=>YR(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ny(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!QR(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Ot))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Ot))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,zn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Ot)&&(z(this,xo)?z(this,Ot).cancel({revert:!0}):z(this,Ot).cancelRetry()),this.scheduleGc()),z(this,zn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,or,es).call(this,{type:"invalidate"})}async fetch(n,r){var u,h,f,m,y,S,x,w,g,v,b,k;if(this.state.fetchStatus!=="idle"&&((u=z(this,Ot))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Ot))return z(this,Ot).continueRetry(),z(this,Ot).promise}if(n&&this.setOptions(n),!this.options.queryFn){const R=this.observers.find(D=>D.options.queryFn);R&&this.setOptions(R.options)}const s=new AbortController,i=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(ge(this,xo,!0),s.signal)})},o=()=>{const R=aN(this.options,r),N=(()=>{const T={client:z(this,vo),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return ge(this,xo,!1),this.options.persister?this.options.persister(R,N,this):R(N)},c=(()=>{const R={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,vo),state:this.state,fetchFn:o};return i(R),R})();(h=this.options.behavior)==null||h.onFetch(c,this),ge(this,Ya,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Qt(this,or,es).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),ge(this,Ot,uN({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:R=>{R instanceof sy&&R.revert&&this.setState({...z(this,Ya),fetchStatus:"idle"}),s.abort()},onFail:(R,D)=>{Qt(this,or,es).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{Qt(this,or,es).call(this,{type:"pause"})},onContinue:()=>{Qt(this,or,es).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const R=await z(this,Ot).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(S=(y=z(this,zn).config).onSuccess)==null||S.call(y,R,this),(w=(x=z(this,zn).config).onSettled)==null||w.call(x,R,this.state.error,this),R}catch(R){if(R instanceof sy){if(R.silent)return z(this,Ot).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw Qt(this,or,es).call(this,{type:"error",error:R}),(v=(g=z(this,zn).config).onError)==null||v.call(g,R,this),(k=(b=z(this,zn).config).onSettled)==null||k.call(b,this.state.data,R,this),R}finally{this.scheduleGc()}}},yo=new WeakMap,Ya=new WeakMap,zn=new WeakMap,vo=new WeakMap,Ot=new WeakMap,Eu=new WeakMap,xo=new WeakMap,or=new WeakSet,es=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...cO(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Ya,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),hn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,zn).notify({query:this,type:"updated",action:n})})},UE);function cO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function U_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function z_(t){return{onFetch:(e,n)=>{var h,f,m,y,S;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},g=aN(e.options,e.fetchOptions),v=async(b,k,R)=>{if(x)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:k,direction:R?"backward":"forward",meta:e.options.meta};return w(P),P})(),T=await g(N),{maxPages:j}=e.options,A=R?tO:eO;return{pages:A(b.pages,T,j),pageParams:A(b.pageParams,k,j)}};if(s&&i.length){const b=s==="backward",k=b?uO:B_,R={pages:i,pageParams:o},D=k(r,R);l=await v(R,D,b)}else{const b=t??i.length;do{const k=c===0?o[0]??r.initialPageParam:B_(r,l);if(c>0&&k==null)break;l=await v(l,k),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var x,w;return(w=(x=e.options).persister)==null?void 0:w.call(x,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function B_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function uO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Su,kr,un,wo,Ir,Hs,zE,dO=(zE=class extends dN{constructor(n){super();Pe(this,Ir);Pe(this,Su);Pe(this,kr);Pe(this,un);Pe(this,wo);ge(this,Su,n.client),this.mutationId=n.mutationId,ge(this,un,n.mutationCache),ge(this,kr,[]),this.state=n.state||hO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,kr).includes(n)||(z(this,kr).push(n),this.clearGcTimeout(),z(this,un).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ge(this,kr,z(this,kr).filter(r=>r!==n)),this.scheduleGc(),z(this,un).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,kr).length||(this.state.status==="pending"?this.scheduleGc():z(this,un).remove(this))}continue(){var n;return((n=z(this,wo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var l,c,u,h,f,m,y,S,x,w,g,v,b,k,R,D,N,T,j,A;const r=()=>{Qt(this,Ir,Hs).call(this,{type:"continue"})},s={client:z(this,Su),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,wo,uN({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Qt(this,Ir,Hs).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Qt(this,Ir,Hs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,un).canRun(this)}));const i=this.state.status==="pending",o=!z(this,wo).canStart();try{if(i)r();else{Qt(this,Ir,Hs).call(this,{type:"pending",variables:n,isPaused:o}),await((c=(l=z(this,un).config).onMutate)==null?void 0:c.call(l,n,this,s));const O=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,n,s));O!==this.state.context&&Qt(this,Ir,Hs).call(this,{type:"pending",context:O,variables:n,isPaused:o})}const P=await z(this,wo).start();return await((m=(f=z(this,un).config).onSuccess)==null?void 0:m.call(f,P,n,this.state.context,this,s)),await((S=(y=this.options).onSuccess)==null?void 0:S.call(y,P,n,this.state.context,s)),await((w=(x=z(this,un).config).onSettled)==null?void 0:w.call(x,P,null,this.state.variables,this.state.context,this,s)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,P,null,n,this.state.context,s)),Qt(this,Ir,Hs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((k=(b=z(this,un).config).onError)==null?void 0:k.call(b,P,n,this.state.context,this,s)),await((D=(R=this.options).onError)==null?void 0:D.call(R,P,n,this.state.context,s)),await((T=(N=z(this,un).config).onSettled)==null?void 0:T.call(N,void 0,P,this.state.variables,this.state.context,this,s)),await((A=(j=this.options).onSettled)==null?void 0:A.call(j,void 0,P,n,this.state.context,s)),P}finally{Qt(this,Ir,Hs).call(this,{type:"error",error:P})}}finally{z(this,un).runNext(this)}}},Su=new WeakMap,kr=new WeakMap,un=new WeakMap,wo=new WeakMap,Ir=new WeakSet,Hs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),hn.batch(()=>{z(this,kr).forEach(s=>{s.onMutationUpdate(n)}),z(this,un).notify({mutation:this,type:"updated",action:n})})},zE);function hO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var is,ar,Tu,BE,fO=(BE=class extends Jf{constructor(e={}){super();Pe(this,is);Pe(this,ar);Pe(this,Tu);this.config=e,ge(this,is,new Set),ge(this,ar,new Map),ge(this,Tu,0)}build(e,n,r){const s=new dO({client:e,mutationCache:this,mutationId:++hd(this,Tu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,is).add(e);const n=Id(e);if(typeof n=="string"){const r=z(this,ar).get(n);r?r.push(e):z(this,ar).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,is).delete(e)){const n=Id(e);if(typeof n=="string"){const r=z(this,ar).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,ar).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Id(e);if(typeof n=="string"){const r=z(this,ar).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Id(e);if(typeof n=="string"){const s=(r=z(this,ar).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hn.batch(()=>{z(this,is).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,is).clear(),z(this,ar).clear()})}getAll(){return Array.from(z(this,is))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>V_(n,r))}findAll(e={}){return this.getAll().filter(n=>V_(e,n))}notify(e){hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return hn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ir))))}},is=new WeakMap,ar=new WeakMap,Tu=new WeakMap,BE);function Id(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ar,HE,mO=(HE=class extends Jf{constructor(e={}){super();Pe(this,Ar);this.config=e,ge(this,Ar,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??yx(s,n);let o=this.get(i);return o||(o=new lO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Ar).has(e.queryHash)||(z(this,Ar).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Ar).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Ar).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Ar).get(e)}getAll(){return[...z(this,Ar).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>L_(e,r)):n}notify(e){hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ar=new WeakMap,HE),lt,ai,li,Ja,Xa,ci,Za,el,WE,pO=(WE=class{constructor(t={}){Pe(this,lt);Pe(this,ai);Pe(this,li);Pe(this,Ja);Pe(this,Xa);Pe(this,ci);Pe(this,Za);Pe(this,el);ge(this,lt,t.queryCache||new mO),ge(this,ai,t.mutationCache||new fO),ge(this,li,t.defaultOptions||{}),ge(this,Ja,new Map),ge(this,Xa,new Map),ge(this,ci,0)}mount(){hd(this,ci)._++,z(this,ci)===1&&(ge(this,Za,lN.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,lt).onFocus())})),ge(this,el,tf.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,lt).onOnline())})))}unmount(){var t,e;hd(this,ci)._--,z(this,ci)===0&&((t=z(this,Za))==null||t.call(this),ge(this,Za,void 0),(e=z(this,el))==null||e.call(this),ge(this,el,void 0))}isFetching(t){return z(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,ai).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ny(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,lt).get(r.queryHash),i=s==null?void 0:s.state.data,o=KR(e,i);if(o!==void 0)return z(this,lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return hn.batch(()=>z(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,lt);hn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,lt);return hn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=hn.batch(()=>z(this,lt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ir).catch(ir)}invalidateQueries(t,e={}){return hn.batch(()=>(z(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=hn.batch(()=>z(this,lt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ir)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ir)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,lt).build(this,e);return n.isStaleByTime(ny(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ir).catch(ir)}fetchInfiniteQuery(t){return t.behavior=z_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ir).catch(ir)}ensureInfiniteQueryData(t){return t.behavior=z_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tf.isOnline()?z(this,ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,lt)}getMutationCache(){return z(this,ai)}getDefaultOptions(){return z(this,li)}setDefaultOptions(t){ge(this,li,t)}setQueryDefaults(t,e){z(this,Ja).set(su(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Ja).values()],n={};return e.forEach(r=>{iu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,Xa).set(su(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Xa).values()],n={};return e.forEach(r=>{iu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,li).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,li).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,lt).clear(),z(this,ai).clear()}},lt=new WeakMap,ai=new WeakMap,li=new WeakMap,Ja=new WeakMap,Xa=new WeakMap,ci=new WeakMap,Za=new WeakMap,el=new WeakMap,WE),gO=_.createContext(void 0),yO=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(gO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}var hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hi||(hi={}));const H_="popstate";function vO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return iy("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:nf(s)}return wO(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xO(){return Math.random().toString(36).substr(2,8)}function W_(t,e){return{usr:t.state,key:t.key,idx:e}}function iy(t,e,n,r){return n===void 0&&(n=null),ou({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bl(e):e,{state:n,key:e&&e.key||r||xO()})}function nf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=hi.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(ou({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=hi.Pop;let w=h(),g=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:g})}function m(w,g){l=hi.Push;let v=iy(x.location,w,g);u=h()+1;let b=W_(v,u),k=x.createHref(v);try{o.pushState(b,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(k)}i&&c&&c({action:l,location:x.location,delta:1})}function y(w,g){l=hi.Replace;let v=iy(x.location,w,g);u=h();let b=W_(v,u),k=x.createHref(v);o.replaceState(b,"",k),i&&c&&c({action:l,location:x.location,delta:0})}function S(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:nf(w);return v=v.replace(/ $/,"%20"),vt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let x={get action(){return l},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(H_,f),c=w,()=>{s.removeEventListener(H_,f),c=null}},createHref(w){return e(s,w)},createURL:S,encodeLocation(w){let g=S(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:y,go(w){return o.go(w)}};return x}var q_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(q_||(q_={}));function _O(t,e,n){return n===void 0&&(n="/"),bO(t,e,n)}function bO(t,e,n,r){let s=typeof e=="string"?bl(e):e,i=xx(s.pathname||"/",n);if(i==null)return null;let o=fN(t);EO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=DO(i);l=PO(o[c],u)}return l}function fN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=bi([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fN(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:IO(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of mN(i.path))s(i,o,c)}),e}function mN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=mN(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function EO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SO=/^:[\w-]+$/,TO=3,NO=2,jO=1,CO=10,kO=-2,K_=t=>t==="*";function IO(t,e){let n=t.split("/"),r=n.length;return n.some(K_)&&(r+=kO),e&&(r+=NO),n.filter(s=>!K_(s)).reduce((s,i)=>s+(SO.test(i)?TO:i===""?jO:CO),r)}function AO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function PO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=RO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bi([i,f.pathname]),pathnameBase:FO(bi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=bi([i,f.pathnameBase]))}return o}function RO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const S=l[f];return y&&!S?u[m]=void 0:u[m]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function OO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function DO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?bl(t):t;return{pathname:n?n.startsWith("/")?n:LO(n,e):e,search:$O(r),hash:UO(s)}}function LO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Np(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pN(t,e){let n=VO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=bl(t):(s=ou({},t),vt(!s.pathname||!s.pathname.includes("?"),Np("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Np("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Np("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=MO(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),FO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$O=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yN=["post","put","patch","delete"];new Set(yN);const BO=["get",...yN];new Set(BO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}const wx=_.createContext(null),HO=_.createContext(null),zo=_.createContext(null),Zf=_.createContext(null),Bo=_.createContext({outlet:null,matches:[],isDataRoute:!1}),vN=_.createContext(null);function WO(t,e){let{relative:n}=e===void 0?{}:e;Au()||vt(!1);let{basename:r,navigator:s}=_.useContext(zo),{hash:i,pathname:o,search:l}=wN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:bi([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Au(){return _.useContext(Zf)!=null}function Pu(){return Au()||vt(!1),_.useContext(Zf).location}function xN(t){_.useContext(zo).static||_.useLayoutEffect(t)}function Ho(){let{isDataRoute:t}=_.useContext(Bo);return t?s4():qO()}function qO(){Au()||vt(!1);let t=_.useContext(wx),{basename:e,future:n,navigator:r}=_.useContext(zo),{matches:s}=_.useContext(Bo),{pathname:i}=Pu(),o=JSON.stringify(pN(s,n.v7_relativeSplatPath)),l=_.useRef(!1);return xN(()=>{l.current=!0}),_.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=gN(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function wN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(zo),{matches:s}=_.useContext(Bo),{pathname:i}=Pu(),o=JSON.stringify(pN(s,r.v7_relativeSplatPath));return _.useMemo(()=>gN(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function KO(t,e){return GO(t,e)}function GO(t,e,n,r){Au()||vt(!1);let{navigator:s}=_.useContext(zo),{matches:i}=_.useContext(Bo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Pu(),h;if(e){var f;let w=typeof e=="string"?bl(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||vt(!1),h=w}else h=u;let m=h.pathname||"/",y=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=_O(t,{pathname:y}),x=ZO(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:bi([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:bi([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&x?_.createElement(Zf.Provider,{value:{location:au({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:hi.Pop}},x):x}function QO(){let t=r4(),e=zO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,null)}const YO=_.createElement(QO,null);class JO extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Bo.Provider,{value:this.props.routeContext},_.createElement(vN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XO(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(wx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Bo.Provider,{value:e},r)}function ZO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||vt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:y}=n,S=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,S=!1,x=null,w=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||YO,c&&(u<0&&m===0?(i4("route-fallback"),S=!0,w=null):u===m&&(S=!0,w=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,m+1)),v=()=>{let b;return y?b=x:S?b=w:f.route.Component?b=_.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,_.createElement(XO,{match:f,routeContext:{outlet:h,matches:g,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?_.createElement(JO,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var _N=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_N||{}),bN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bN||{});function e4(t){let e=_.useContext(wx);return e||vt(!1),e}function t4(t){let e=_.useContext(HO);return e||vt(!1),e}function n4(t){let e=_.useContext(Bo);return e||vt(!1),e}function EN(t){let e=n4(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function r4(){var t;let e=_.useContext(vN),n=t4(),r=EN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function s4(){let{router:t}=e4(_N.UseNavigateStable),e=EN(bN.UseNavigateStable),n=_.useRef(!1);return xN(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,au({fromRouteId:e},i)))},[t,e])}const G_={};function i4(t,e,n){G_[t]||(G_[t]=!0)}function o4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Rt(t){vt(!1)}function a4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=hi.Pop,navigator:i,static:o=!1,future:l}=t;Au()&&vt(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:au({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=bl(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:S="default"}=r,x=_.useMemo(()=>{let w=xx(h,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:y,key:S},navigationType:s}},[c,h,f,m,y,S,s]);return x==null?null:_.createElement(zo.Provider,{value:u},_.createElement(Zf.Provider,{children:n,value:x}))}function l4(t){let{children:e,location:n}=t;return KO(oy(e),n)}new Promise(()=>{});function oy(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){n.push.apply(n,oy(r.props.children,i));return}r.type!==Rt&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=oy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}function c4(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function u4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d4(t,e){return t.button===0&&(!e||e==="_self")&&!u4(t)}const h4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f4="6";try{window.__reactRouterVersion=f4}catch{}const m4="startTransition",Q_=Nv[m4];function p4(t){let{basename:e,children:n,future:r,window:s}=t,i=_.useRef();i.current==null&&(i.current=vO({window:s,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=_.useCallback(f=>{u&&Q_?Q_(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>o.listen(h),[o,h]),_.useEffect(()=>o4(r),[r]),_.createElement(a4,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const g4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=_.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=c4(e,h4),{basename:y}=_.useContext(zo),S,x=!1;if(typeof u=="string"&&y4.test(u)&&(S=u,g4))try{let b=new URL(window.location.href),k=u.startsWith("//")?new URL(b.protocol+u):new URL(u),R=xx(k.pathname,y);k.origin===b.origin&&R!=null?u=R+k.search+k.hash:x=!0}catch{}let w=WO(u,{relative:s}),g=v4(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||g(b)}return _.createElement("a",ay({},m,{href:S||w,onClick:x||i?r:v,ref:n,target:c}))});var Y_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var J_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function v4(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ho(),u=Pu(),h=wN(t,{relative:o});return _.useCallback(f=>{if(d4(f,n)){f.preventDefault();let m=r!==void 0?r:nf(u)===nf(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,h,r,s,n,t,i,o,l])}const x4=1,w4=1e6;let jp=0;function _4(){return jp=(jp+1)%Number.MAX_SAFE_INTEGER,jp.toString()}const Cp=new Map,X_=t=>{if(Cp.has(t))return;const e=setTimeout(()=>{Cp.delete(t),Ac({type:"REMOVE_TOAST",toastId:t})},w4);Cp.set(t,e)},b4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,x4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?X_(n):t.toasts.forEach(r=>X_(r.id)),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},uh=[];let dh={toasts:[]};function Ac(t){dh=b4(dh,t),uh.forEach(e=>e(dh))}function E4({...t}){const e=_4(),n=s=>Ac({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ac({type:"DISMISS_TOAST",toastId:e});return Ac({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function El(){const[t,e]=_.useState(dh);return _.useEffect(()=>(uh.push(e),()=>{const n=uh.indexOf(e);n>-1&&uh.splice(n,1)}),[t]),{...t,toast:E4,dismiss:n=>Ac({type:"DISMISS_TOAST",toastId:n})}}function ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Z_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SN(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Z_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Z_(t[s],null)}}}}function ut(...t){return _.useCallback(SN(...t),t)}function Ru(t,e=[]){let n=[];function r(i,o){const l=_.createContext(o),c=n.length;n=[...n,o];const u=f=>{var g;const{scope:m,children:y,...S}=f,x=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,w=_.useMemo(()=>S,Object.values(S));return a.jsx(x.Provider,{value:w,children:y})};u.displayName=i+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,S=_.useContext(y);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,S4(s,...e)]}function S4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function lu(t){const e=N4(t),n=_.forwardRef((r,s)=>{const{children:i,...o}=r,l=_.Children.toArray(i),c=l.find(C4);if(c){const u=c.props.children,h=l.map(f=>f===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var T4=lu("Slot");function N4(t){const e=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const o=I4(s),l=k4(i,s.props);return s.type!==_.Fragment&&(l.ref=r?SN(r,o):o),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TN=Symbol("radix.slottable");function j4(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=TN,e}function C4(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TN}function k4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function I4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NN(t){const e=t+"CollectionProvider",[n,r]=Ru(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:g}=x,v=q.useRef(null),b=q.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:b,collectionRef:v,children:g})};o.displayName=e;const l=t+"CollectionSlot",c=lu(l),u=q.forwardRef((x,w)=>{const{scope:g,children:v}=x,b=i(l,g),k=ut(w,b.collectionRef);return a.jsx(c,{ref:k,children:v})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=lu(h),y=q.forwardRef((x,w)=>{const{scope:g,children:v,...b}=x,k=q.useRef(null),R=ut(w,k),D=i(h,g);return q.useEffect(()=>(D.itemMap.set(k,{ref:k,...b}),()=>void D.itemMap.delete(k))),a.jsx(m,{[f]:"",ref:R,children:v})});y.displayName=h;function S(x){const w=i(t+"CollectionConsumer",x);return q.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((D,N)=>b.indexOf(D.ref.current)-b.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},S,r]}var A4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=A4.reduce((t,e)=>{const n=lu(`Primitive.${e}`),r=_.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function jN(t,e){t&&Uo.flushSync(()=>t.dispatchEvent(e))}function yr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function P4(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var R4="DismissableLayer",ly="dismissableLayer.update",O4="dismissableLayer.pointerDownOutside",D4="dismissableLayer.focusOutside",eb,CN=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),em=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=_.useContext(CN),[h,f]=_.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),S=ut(e,N=>f(N)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(w),v=h?x.indexOf(h):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=g,R=L4(N=>{const T=N.target,j=[...u.branches].some(A=>A.contains(T));!k||j||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),D=V4(N=>{const T=N.target;[...u.branches].some(A=>A.contains(T))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return P4(N=>{v===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),_.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eb=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),tb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=eb)}},[h,m,n,u]),_.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),tb())},[h,u]),_.useEffect(()=>{const N=()=>y({});return document.addEventListener(ly,N),()=>document.removeEventListener(ly,N)},[]),a.jsx($e.div,{...c,ref:S,style:{pointerEvents:b?k?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,D.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,R.onPointerDownCapture)})});em.displayName=R4;var M4="DismissableLayerBranch",kN=_.forwardRef((t,e)=>{const n=_.useContext(CN),r=_.useRef(null),s=ut(e,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx($e.div,{...t,ref:s})});kN.displayName=M4;function L4(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){IN(O4,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function V4(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&IN(D4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tb(){const t=new CustomEvent(ly);document.dispatchEvent(t)}function IN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?jN(s,i):s.dispatchEvent(i)}var F4=em,$4=kN,Kt=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},U4="Portal",_x=_.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=_.useState(!1);Kt(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?iN.createPortal(a.jsx($e.div,{...r,ref:e}),o):null});_x.displayName=U4;function z4(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var bx=t=>{const{present:e,children:n}=t,r=B4(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=ut(r.ref,H4(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};bx.displayName="Presence";function B4(t){const[e,n]=_.useState(),r=_.useRef(null),s=_.useRef(t),i=_.useRef("none"),o=t?"mounted":"unmounted",[l,c]=z4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Ad(r.current);i.current=l==="mounted"?u:"none"},[l]),Kt(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,y=Ad(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Kt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=y=>{const x=Ad(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&x&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=y=>{y.target===e&&(i.current=Ad(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ad(t){return(t==null?void 0:t.animationName)||"none"}function H4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var W4=Nv[" useInsertionEffect ".trim().toString()]||Kt;function cy({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=q4({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=_.useCallback(h=>{var f;if(l){const m=K4(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[l,t,i,o]);return[c,u]}function q4({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),s=_.useRef(n),i=_.useRef(e);return W4(()=>{i.current=e},[e]),_.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function K4(t){return typeof t=="function"}var AN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),G4="VisuallyHidden",tm=_.forwardRef((t,e)=>a.jsx($e.span,{...t,ref:e,style:{...AN,...t.style}}));tm.displayName=G4;var Q4=tm,Ex="ToastProvider",[Sx,Y4,J4]=NN("Toast"),[PN,Eq]=Ru("Toast",[J4]),[X4,nm]=PN(Ex),RN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=_.useState(null),[u,h]=_.useState(0),f=_.useRef(!1),m=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ex}\`. Expected non-empty \`string\`.`),a.jsx(Sx.Provider,{scope:e,children:a.jsx(X4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>h(y=>y+1),[]),onToastRemove:_.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};RN.displayName=Ex;var ON="ToastViewport",Z4=["F8"],uy="toast.viewportPause",dy="toast.viewportResume",DN=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Z4,label:s="Notifications ({hotkey})",...i}=t,o=nm(ON,n),l=Y4(n),c=_.useRef(null),u=_.useRef(null),h=_.useRef(null),f=_.useRef(null),m=ut(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;_.useEffect(()=>{const w=g=>{var b;r.length!==0&&r.every(k=>g[k]||g.code===k)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),_.useEffect(()=>{const w=c.current,g=f.current;if(S&&w&&g){const v=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(uy);g.dispatchEvent(D),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(dy);g.dispatchEvent(D),o.isClosePausedRef.current=!1}},k=D=>{!w.contains(D.relatedTarget)&&b()},R=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",k),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",R),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",k),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",R),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[S,o.isClosePausedRef]);const x=_.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const k=b.ref.current,R=[k,...hD(k)];return w==="forwards"?R:R.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return _.useEffect(()=>{const w=f.current;if(w){const g=v=>{var R,D,N;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const T=document.activeElement,j=v.shiftKey;if(v.target===w&&j){(R=u.current)==null||R.focus();return}const O=x({tabbingDirection:j?"backwards":"forwards"}),I=O.findIndex(M=>M===T);kp(O.slice(I+1))?v.preventDefault():j?(D=u.current)==null||D.focus():(N=h.current)==null||N.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[l,x]),a.jsxs($4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&a.jsx(hy,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});kp(w)}}),a.jsx(Sx.Slot,{scope:n,children:a.jsx($e.ol,{tabIndex:-1,...i,ref:m})}),S&&a.jsx(hy,{ref:h,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});kp(w)}})]})});DN.displayName=ON;var MN="ToastFocusProxy",hy=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=nm(MN,n);return a.jsx(tm,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});hy.displayName=MN;var Ou="Toast",eD="toast.swipeStart",tD="toast.swipeMove",nD="toast.swipeCancel",rD="toast.swipeEnd",LN=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,c]=cy({prop:r,defaultProp:s??!0,onChange:i,caller:Ou});return a.jsx(bx,{present:n||l,children:a.jsx(oD,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:yr(t.onPause),onResume:yr(t.onResume),onSwipeStart:ke(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ke(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});LN.displayName=Ou;var[sD,iD]=PN(Ou,{onClose(){}}),oD=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...S}=t,x=nm(Ou,n),[w,g]=_.useState(null),v=ut(e,M=>g(M)),b=_.useRef(null),k=_.useRef(null),R=s||x.duration,D=_.useRef(0),N=_.useRef(R),T=_.useRef(0),{onToastAdd:j,onToastRemove:A}=x,P=yr(()=>{var V;(w==null?void 0:w.contains(document.activeElement))&&((V=x.viewport)==null||V.focus()),o()}),O=_.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),D.current=new Date().getTime(),T.current=window.setTimeout(P,M))},[P]);_.useEffect(()=>{const M=x.viewport;if(M){const V=()=>{O(N.current),u==null||u()},B=()=>{const ee=new Date().getTime()-D.current;N.current=N.current-ee,window.clearTimeout(T.current),c==null||c()};return M.addEventListener(uy,B),M.addEventListener(dy,V),()=>{M.removeEventListener(uy,B),M.removeEventListener(dy,V)}}},[x.viewport,R,c,u,O]),_.useEffect(()=>{i&&!x.isClosePausedRef.current&&O(R)},[i,R,x.isClosePausedRef,O]),_.useEffect(()=>(j(),()=>A()),[j,A]);const I=_.useMemo(()=>w?HN(w):null,[w]);return x.viewport?a.jsxs(a.Fragment,{children:[I&&a.jsx(aD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:I}),a.jsx(sD,{scope:n,onClose:P,children:Uo.createPortal(a.jsx(Sx.ItemSlot,{scope:n,children:a.jsx(F4,{asChild:!0,onEscapeKeyDown:ke(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx($e.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...S,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ke(t.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ke(t.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:ke(t.onPointerMove,M=>{if(!b.current)return;const V=M.clientX-b.current.x,B=M.clientY-b.current.y,ee=!!k.current,L=["left","right"].includes(x.swipeDirection),Q=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,te=L?Q(0,V):0,he=L?0:Q(0,B),we=M.pointerType==="touch"?10:2,U={x:te,y:he},G={originalEvent:M,delta:U};ee?(k.current=U,Pd(tD,f,G,{discrete:!1})):nb(U,x.swipeDirection,we)?(k.current=U,Pd(eD,h,G,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(V)>we||Math.abs(B)>we)&&(b.current=null)}),onPointerUp:ke(t.onPointerUp,M=>{const V=k.current,B=M.target;if(B.hasPointerCapture(M.pointerId)&&B.releasePointerCapture(M.pointerId),k.current=null,b.current=null,V){const ee=M.currentTarget,L={originalEvent:M,delta:V};nb(V,x.swipeDirection,x.swipeThreshold)?Pd(rD,y,L,{discrete:!0}):Pd(nD,m,L,{discrete:!0}),ee.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),aD=t=>{const{__scopeToast:e,children:n,...r}=t,s=nm(Ou,e),[i,o]=_.useState(!1),[l,c]=_.useState(!1);return uD(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(_x,{asChild:!0,children:a.jsx(tm,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},lD="ToastTitle",VN=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx($e.div,{...r,ref:e})});VN.displayName=lD;var cD="ToastDescription",FN=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx($e.div,{...r,ref:e})});FN.displayName=cD;var $N="ToastAction",UN=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(BN,{altText:n,asChild:!0,children:a.jsx(Tx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$N}\`. Expected non-empty \`string\`.`),null)});UN.displayName=$N;var zN="ToastClose",Tx=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=iD(zN,n);return a.jsx(BN,{asChild:!0,children:a.jsx($e.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,s.onClose)})})});Tx.displayName=zN;var BN=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function HN(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),dD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...HN(r))}}),e}function Pd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?jN(s,i):s.dispatchEvent(i)}var nb=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function uD(t=()=>{}){const e=yr(t);Kt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function dD(t){return t.nodeType===t.ELEMENT_NODE}function hD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var fD=RN,WN=DN,qN=LN,KN=VN,GN=FN,QN=UN,YN=Tx;function JN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=JN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function XN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=JN(t))&&(r&&(r+=" "),r+=e);return r}const rb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sb=XN,Sl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=rb(h)||rb(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(S=>{let[x,w]=S;return Array.isArray(w)?w.includes({...i,...l}[x]):{...i,...l}[x]===w})?[...u,f,m]:u},[]);return sb(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ib=t=>{const e=pD(t);return e.charAt(0).toUpperCase()+e.slice(1)},ZN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),gD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...yD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ZN("lucide",s),...!i&&!gD(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>_.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(vD,{ref:i,iconNode:e,className:ZN(`lucide-${mD(ib(t))}`,`lucide-${t}`,r),...s}));return n.displayName=ib(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ks=ce("arrow-left",xD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ob=ce("arrow-right",wD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ej=ce("award",_D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tj=ce("bell",bD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],SD=ce("book-open",ED);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ND=ce("briefcase",TD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Nx=ce("building-2",jD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jx=ce("calendar",CD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hh=ce("camera",kD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AD=ce("check",ID);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nj=ce("chevron-down",PD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ip=ce("chevron-right",RD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],DD=ce("chevron-up",OD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ze=ce("circle-alert",MD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nn=ce("circle-check-big",LD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],FD=ce("circle-x",VD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UD=ce("clock",$D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lc=ce("copy",zD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Cx=ce("credit-card",BD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],kx=ce("dollar-sign",HD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rf=ce("download",WD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ab=ce("eye-off",qD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Io=ce("eye",KD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QD=ce("file-text",GD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],JD=ce("funnel",YD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ZD=ce("globe",XD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],lb=ce("hash",eM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nM=ce("heart",tM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sM=ce("info",rM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],oM=ce("key",iM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],rm=ce("leaf",aM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fa=ce("loader-circle",lM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rj=ce("lock",cM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dM=ce("log-out",uM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fh=ce("mail",hM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ds=ce("map-pin",fM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],pM=ce("message-circle",mM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yM=ce("pencil",gM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],mh=ce("phone",vM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ph=ce("plus",xM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_M=ce("rotate-ccw",wM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],EM=ce("save",bM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],TM=ce("search",SM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],jM=ce("server",NM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kM=ce("settings",CM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ln=ce("shield",IM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],sj=ce("smartphone",AM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cb=ce("square-pen",PM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ij=ce("star",RM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oj=ce("target",OM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],MM=ce("trash-2",DM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Du=ce("trending-up",LM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ub=ce("triangle-alert",VM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],aj=ce("upload",FM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UM=ce("user-check",$M);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fy=ce("user",zM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vs=ce("users",BM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lj=ce("x",HM),Ix="-",WM=t=>{const e=KM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Ix);return l[0]===""&&l.length!==1&&l.shift(),cj(l,e)||qM(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},cj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?cj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ix);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},db=/^\[(.+)\]$/,qM=t=>{if(db.test(t)){const e=db.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},KM=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)my(n[s],r,s,e);return r},my=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:hb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(GM(s)){my(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{my(o,hb(e,i),n,r)})})},hb=(t,e)=>{let n=t;return e.split(Ix).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GM=t=>t.isThemeGetter,QM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},py="!",gy=":",YM=gy.length,JM=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,l=0,c=0,u;for(let S=0;S<s.length;S++){let x=s[S];if(o===0&&l===0){if(x===gy){i.push(s.slice(c,S)),c=S+YM;continue}if(x==="/"){u=S;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const h=i.length===0?s:s.substring(c),f=XM(h),m=f!==h,y=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:y}};if(e){const s=e+gy,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},XM=t=>t.endsWith(py)?t.substring(0,t.length-1):t.startsWith(py)?t.substring(1):t,ZM=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},eL=t=>({cache:QM(t.cacheSize),parseClassName:JM(t),sortModifiers:ZM(t),...WM(t)}),tL=/\s+/,nL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],l=t.trim().split(tL);let c="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{isExternal:f,modifiers:m,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:x}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let w=!!x,g=r(w?S.substring(0,x):S);if(!g){if(!w){c=h+(c.length>0?" "+c:c);continue}if(g=r(S),!g){c=h+(c.length>0?" "+c:c);continue}w=!1}const v=i(m).join(":"),b=y?v+py:v,k=b+g;if(o.includes(k))continue;o.push(k);const R=s(g,w);for(let D=0;D<R.length;++D){const N=R[D];o.push(b+N)}c=h+(c.length>0?" "+c:c)}return c};function rL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uj(e))&&(r&&(r+=" "),r+=n);return r}const uj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uj(t[r]))&&(n&&(n+=" "),n+=e);return n};function sL(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return n=eL(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=nL(c,n);return s(c,h),h}return function(){return i(rL.apply(null,arguments))}}const Et=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iL=/^\d+\/\d+$/,oL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sa=t=>iL.test(t),Se=t=>!!t&&!Number.isNaN(Number(t)),$s=t=>!!t&&Number.isInteger(Number(t)),Ap=t=>t.endsWith("%")&&Se(t.slice(0,-1)),Xr=t=>oL.test(t),dL=()=>!0,hL=t=>aL.test(t)&&!lL.test(t),fj=()=>!1,fL=t=>cL.test(t),mL=t=>uL.test(t),pL=t=>!oe(t)&&!ae(t),gL=t=>Tl(t,gj,fj),oe=t=>dj.test(t),to=t=>Tl(t,yj,hL),Pp=t=>Tl(t,_L,Se),fb=t=>Tl(t,mj,fj),yL=t=>Tl(t,pj,mL),Rd=t=>Tl(t,vj,fL),ae=t=>hj.test(t),cc=t=>Nl(t,yj),vL=t=>Nl(t,bL),mb=t=>Nl(t,mj),xL=t=>Nl(t,gj),wL=t=>Nl(t,pj),Od=t=>Nl(t,vj,!0),Tl=(t,e,n)=>{const r=dj.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Nl=(t,e,n=!1)=>{const r=hj.exec(t);return r?r[1]?e(r[1]):n:!1},mj=t=>t==="position"||t==="percentage",pj=t=>t==="image"||t==="url",gj=t=>t==="length"||t==="size"||t==="bg-size",yj=t=>t==="length",_L=t=>t==="number",bL=t=>t==="family-name",vj=t=>t==="shadow",EL=()=>{const t=Et("color"),e=Et("font"),n=Et("text"),r=Et("font-weight"),s=Et("tracking"),i=Et("leading"),o=Et("breakpoint"),l=Et("container"),c=Et("spacing"),u=Et("radius"),h=Et("shadow"),f=Et("inset-shadow"),m=Et("text-shadow"),y=Et("drop-shadow"),S=Et("blur"),x=Et("perspective"),w=Et("aspect"),g=Et("ease"),v=Et("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...k(),ae,oe],D=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],T=()=>[ae,oe,c],j=()=>[sa,"full","auto",...T()],A=()=>[$s,"none","subgrid",ae,oe],P=()=>["auto",{span:["full",$s,ae,oe]},$s,ae,oe],O=()=>[$s,"auto",ae,oe],I=()=>["auto","min","max","fr",ae,oe],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...T()],ee=()=>[sa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],L=()=>[t,ae,oe],Q=()=>[...k(),mb,fb,{position:[ae,oe]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],he=()=>["auto","cover","contain",xL,gL,{size:[ae,oe]}],we=()=>[Ap,cc,to],U=()=>["","none","full",u,ae,oe],G=()=>["",Se,cc,to],le=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[Se,Ap,mb,fb],se=()=>["","none",S,ae,oe],Me=()=>["none",Se,ae,oe],Te=()=>["none",Se,ae,oe],Ee=()=>[Se,ae,oe],xe=()=>[sa,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xr],breakpoint:[Xr],color:[dL],container:[Xr],"drop-shadow":[Xr],ease:["in","out","in-out"],font:[pL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xr],shadow:[Xr],spacing:["px",Se],text:[Xr],"text-shadow":[Xr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",sa,oe,ae,w]}],container:["container"],columns:[{columns:[Se,oe,ae,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[$s,"auto",ae,oe]}],basis:[{basis:[sa,"full","auto",l,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Se,sa,"auto","initial","none",oe]}],grow:[{grow:["",Se,ae,oe]}],shrink:[{shrink:["",Se,ae,oe]}],order:[{order:[$s,"first","last","none",ae,oe]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[l,"screen",...ee()]}],"min-w":[{"min-w":[l,"screen","none",...ee()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,cc,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ae,Pp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ap,oe]}],"font-family":[{font:[vL,oe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ae,oe]}],"line-clamp":[{"line-clamp":[Se,"none",ae,Pp]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",ae,oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ae,oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[Se,"from-font","auto",ae,to]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Se,"auto",ae,oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae,oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae,oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:he()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$s,ae,oe],radial:["",ae,oe],conic:[$s,ae,oe]},wL,yL]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:we()}],"gradient-via-pos":[{via:we()}],"gradient-to-pos":[{to:we()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Se,ae,oe]}],"outline-w":[{outline:["",Se,cc,to]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",h,Od,Rd]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",f,Od,Rd]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Se,to]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",m,Od,Rd]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[Se,ae,oe]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Se]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[ae,oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Se]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:he()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ae,oe]}],filter:[{filter:["","none",ae,oe]}],blur:[{blur:se()}],brightness:[{brightness:[Se,ae,oe]}],contrast:[{contrast:[Se,ae,oe]}],"drop-shadow":[{"drop-shadow":["","none",y,Od,Rd]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",Se,ae,oe]}],"hue-rotate":[{"hue-rotate":[Se,ae,oe]}],invert:[{invert:["",Se,ae,oe]}],saturate:[{saturate:[Se,ae,oe]}],sepia:[{sepia:["",Se,ae,oe]}],"backdrop-filter":[{"backdrop-filter":["","none",ae,oe]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[Se,ae,oe]}],"backdrop-contrast":[{"backdrop-contrast":[Se,ae,oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Se,ae,oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Se,ae,oe]}],"backdrop-invert":[{"backdrop-invert":["",Se,ae,oe]}],"backdrop-opacity":[{"backdrop-opacity":[Se,ae,oe]}],"backdrop-saturate":[{"backdrop-saturate":[Se,ae,oe]}],"backdrop-sepia":[{"backdrop-sepia":["",Se,ae,oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ae,oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Se,"initial",ae,oe]}],ease:[{ease:["linear","initial",g,ae,oe]}],delay:[{delay:[Se,ae,oe]}],animate:[{animate:["none",v,ae,oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,ae,oe]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[ae,oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae,oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae,oe]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Se,cc,to,Pp]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SL=sL(EL);function Ke(...t){return SL(XN(t))}const TL=fD,xj=_.forwardRef(({className:t,...e},n)=>a.jsx(WN,{ref:n,className:Ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xj.displayName=WN.displayName;const NL=Sl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wj=_.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(qN,{ref:r,className:Ke(NL({variant:e}),t),...n}));wj.displayName=qN.displayName;const jL=_.forwardRef(({className:t,...e},n)=>a.jsx(QN,{ref:n,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));jL.displayName=QN.displayName;const _j=_.forwardRef(({className:t,...e},n)=>a.jsx(YN,{ref:n,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(lj,{className:"h-4 w-4"})}));_j.displayName=YN.displayName;const bj=_.forwardRef(({className:t,...e},n)=>a.jsx(KN,{ref:n,className:Ke("text-sm font-semibold",t),...e}));bj.displayName=KN.displayName;const Ej=_.forwardRef(({className:t,...e},n)=>a.jsx(GN,{ref:n,className:Ke("text-sm opacity-90",t),...e}));Ej.displayName=GN.displayName;function CL(){const{toasts:t}=El();return a.jsxs(TL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(wj,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(bj,{children:n}),r&&a.jsx(Ej,{children:r})]}),s,a.jsx(_j,{})]},e)}),a.jsx(xj,{})]})}var kL=(t,e,n,r,s,i,o,l)=>{let c=document.documentElement,u=["light","dark"];function h(y){(Array.isArray(t)?t:[t]).forEach(S=>{let x=S==="class",w=x&&i?s.map(g=>i[g]||g):s;x?(c.classList.remove(...w),c.classList.add(i&&i[y]?i[y]:y)):c.setAttribute(S,y)}),f(y)}function f(y){l&&u.includes(y)&&(c.style.colorScheme=y)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let y=localStorage.getItem(e)||n,S=o&&y==="system"?m():y;h(S)}catch{}},IL=_.createContext(void 0),AL={setTheme:t=>{},themes:[]},PL=()=>{var t;return(t=_.useContext(IL))!=null?t:AL};_.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:u})=>{let h=JSON.stringify([n,e,i,t,l,o,r,s]).slice(1,-1);return _.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${kL.toString()})(${h})`}})});function RL(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const OL=t=>{switch(t){case"success":return LL;case"info":return FL;case"warning":return VL;case"error":return $L;default:return null}},DL=Array(12).fill(0),ML=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},DL.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),LL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$L=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UL=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zL=()=>{const[t,e]=q.useState(document.hidden);return q.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let yy=1;class BL{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:yy++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const l=s.then(async u=>{if(o=["resolve",u],q.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(WL(u)&&!u.ok){i=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,S=typeof f=="object"&&!q.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...S})}else if(u instanceof Error){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,S=typeof f=="object"&&!q.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...S})}else if(n.success!==void 0){i=!1;const f=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description,S=typeof f=="object"&&!q.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:m,...S})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description,y=typeof h=="object"&&!q.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...y})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||yy++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const wn=new BL,HL=(t,e)=>{const n=(e==null?void 0:e.id)||yy++;return wn.addToast({title:t,...e,id:n}),n},WL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qL=HL,KL=()=>wn.toasts,GL=()=>wn.getActiveToasts(),St=Object.assign(qL,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:KL,getToasts:GL});RL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Dd(t){return t.label!==void 0}const QL=3,YL="24px",JL="16px",pb=4e3,XL=356,ZL=14,e3=45,t3=200;function Tr(...t){return t.filter(Boolean).join(" ")}function n3(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const r3=t=>{var e,n,r,s,i,o,l,c,u;const{invert:h,toast:f,unstyled:m,interacting:y,setHeights:S,visibleToasts:x,heights:w,index:g,toasts:v,expanded:b,removeToast:k,defaultRichColors:R,closeButton:D,style:N,cancelButtonStyle:T,actionButtonStyle:j,className:A="",descriptionClassName:P="",duration:O,position:I,gap:M,expandByDefault:V,classNames:B,icons:ee,closeButtonAriaLabel:L="Close toast"}=t,[Q,te]=q.useState(null),[he,we]=q.useState(null),[U,G]=q.useState(!1),[le,de]=q.useState(!1),[Y,se]=q.useState(!1),[Me,Te]=q.useState(!1),[Ee,xe]=q.useState(!1),[wt,Ft]=q.useState(0),[Gr,Un]=q.useState(0),on=q.useRef(f.duration||O||pb),qi=q.useRef(null),Le=q.useRef(null),$t=g===0,Jo=g+1<=x,an=f.type,Qr=f.dismissible!==!1,Fm=f.className||"",Ki=f.descriptionClassName||"",Gi=q.useMemo(()=>w.findIndex(me=>me.toastId===f.id)||0,[w,f.id]),ed=q.useMemo(()=>{var me;return(me=f.closeButton)!=null?me:D},[f.closeButton,D]),Xo=q.useMemo(()=>f.duration||O||pb,[f.duration,O]),$l=q.useRef(0),As=q.useRef(0),Ul=q.useRef(0),Yr=q.useRef(null),[Qi,zl]=I.split("-"),Zo=q.useMemo(()=>w.reduce((me,Xe,At)=>At>=Gi?me:me+Xe.height,0),[w,Gi]),_r=zL(),td=f.invert||h,Ps=an==="loading";As.current=q.useMemo(()=>Gi*M+Zo,[Gi,Zo]),q.useEffect(()=>{on.current=Xo},[Xo]),q.useEffect(()=>{G(!0)},[]),q.useEffect(()=>{const me=Le.current;if(me){const Xe=me.getBoundingClientRect().height;return Un(Xe),S(At=>[{toastId:f.id,height:Xe,position:f.position},...At]),()=>S(At=>At.filter(ln=>ln.toastId!==f.id))}},[S,f.id]),q.useLayoutEffect(()=>{if(!U)return;const me=Le.current,Xe=me.style.height;me.style.height="auto";const At=me.getBoundingClientRect().height;me.style.height=Xe,Un(At),S(ln=>ln.find(_t=>_t.toastId===f.id)?ln.map(_t=>_t.toastId===f.id?{..._t,height:At}:_t):[{toastId:f.id,height:At,position:f.position},...ln])},[U,f.title,f.description,S,f.id,f.jsx,f.action,f.cancel]);const Zn=q.useCallback(()=>{de(!0),Ft(As.current),S(me=>me.filter(Xe=>Xe.toastId!==f.id)),setTimeout(()=>{k(f)},t3)},[f,k,S,As]);q.useEffect(()=>{if(f.promise&&an==="loading"||f.duration===1/0||f.type==="loading")return;let me;return b||y||_r?(()=>{if(Ul.current<$l.current){const ln=new Date().getTime()-$l.current;on.current=on.current-ln}Ul.current=new Date().getTime()})():(()=>{on.current!==1/0&&($l.current=new Date().getTime(),me=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Zn()},on.current))})(),()=>clearTimeout(me)},[b,y,f,an,_r,Zn]),q.useEffect(()=>{f.delete&&(Zn(),f.onDismiss==null||f.onDismiss.call(f,f))},[Zn,f.delete]);function Yi(){var me;if(ee!=null&&ee.loading){var Xe;return q.createElement("div",{className:Tr(B==null?void 0:B.loader,f==null||(Xe=f.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":an==="loading"},ee.loading)}return q.createElement(ML,{className:Tr(B==null?void 0:B.loader,f==null||(me=f.classNames)==null?void 0:me.loader),visible:an==="loading"})}const nd=f.icon||(ee==null?void 0:ee[an])||OL(an);var It,Bl;return q.createElement("li",{tabIndex:0,ref:Le,className:Tr(A,Fm,B==null?void 0:B.toast,f==null||(e=f.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[an],f==null||(n=f.classNames)==null?void 0:n[an]),"data-sonner-toast":"","data-rich-colors":(It=f.richColors)!=null?It:R,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":U,"data-promise":!!f.promise,"data-swiped":Ee,"data-removed":le,"data-visible":Jo,"data-y-position":Qi,"data-x-position":zl,"data-index":g,"data-front":$t,"data-swiping":Y,"data-dismissible":Qr,"data-type":an,"data-invert":td,"data-swipe-out":Me,"data-swipe-direction":he,"data-expanded":!!(b||V&&U),"data-testid":f.testId,style:{"--index":g,"--toasts-before":g,"--z-index":v.length-g,"--offset":`${le?wt:As.current}px`,"--initial-height":V?"auto":`${Gr}px`,...N,...f.style},onDragEnd:()=>{se(!1),te(null),Yr.current=null},onPointerDown:me=>{me.button!==2&&(Ps||!Qr||(qi.current=new Date,Ft(As.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(se(!0),Yr.current={x:me.clientX,y:me.clientY})))},onPointerUp:()=>{var me,Xe,At;if(Me||!Qr)return;Yr.current=null;const ln=Number(((me=Le.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),er=Number(((Xe=Le.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_t=new Date().getTime()-((At=qi.current)==null?void 0:At.getTime()),gn=Q==="x"?ln:er,Jr=Math.abs(gn)/_t;if(Math.abs(gn)>=e3||Jr>.11){Ft(As.current),f.onDismiss==null||f.onDismiss.call(f,f),we(Q==="x"?ln>0?"right":"left":er>0?"down":"up"),Zn(),Te(!0);return}else{var yn,vn;(yn=Le.current)==null||yn.style.setProperty("--swipe-amount-x","0px"),(vn=Le.current)==null||vn.style.setProperty("--swipe-amount-y","0px")}xe(!1),se(!1),te(null)},onPointerMove:me=>{var Xe,At,ln;if(!Yr.current||!Qr||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;const _t=me.clientY-Yr.current.y,gn=me.clientX-Yr.current.x;var Jr;const yn=(Jr=t.swipeDirections)!=null?Jr:n3(I);!Q&&(Math.abs(gn)>1||Math.abs(_t)>1)&&te(Math.abs(gn)>Math.abs(_t)?"x":"y");let vn={x:0,y:0};const ea=kn=>1/(1.5+Math.abs(kn)/20);if(Q==="y"){if(yn.includes("top")||yn.includes("bottom"))if(yn.includes("top")&&_t<0||yn.includes("bottom")&&_t>0)vn.y=_t;else{const kn=_t*ea(_t);vn.y=Math.abs(kn)<Math.abs(_t)?kn:_t}}else if(Q==="x"&&(yn.includes("left")||yn.includes("right")))if(yn.includes("left")&&gn<0||yn.includes("right")&&gn>0)vn.x=gn;else{const kn=gn*ea(gn);vn.x=Math.abs(kn)<Math.abs(gn)?kn:gn}(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&xe(!0),(At=Le.current)==null||At.style.setProperty("--swipe-amount-x",`${vn.x}px`),(ln=Le.current)==null||ln.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},ed&&!f.jsx&&an!=="loading"?q.createElement("button",{"aria-label":L,"data-disabled":Ps,"data-close-button":!0,onClick:Ps||!Qr?()=>{}:()=>{Zn(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Tr(B==null?void 0:B.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(Bl=ee==null?void 0:ee.close)!=null?Bl:UL):null,(an||f.icon||f.promise)&&f.icon!==null&&((ee==null?void 0:ee[an])!==null||f.icon)?q.createElement("div",{"data-icon":"",className:Tr(B==null?void 0:B.icon,f==null||(s=f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Yi():null,f.type!=="loading"?nd:null):null,q.createElement("div",{"data-content":"",className:Tr(B==null?void 0:B.content,f==null||(i=f.classNames)==null?void 0:i.content)},q.createElement("div",{"data-title":"",className:Tr(B==null?void 0:B.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?q.createElement("div",{"data-description":"",className:Tr(P,Ki,B==null?void 0:B.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),q.isValidElement(f.cancel)?f.cancel:f.cancel&&Dd(f.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||T,onClick:me=>{Dd(f.cancel)&&Qr&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,me),Zn())},className:Tr(B==null?void 0:B.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,q.isValidElement(f.action)?f.action:f.action&&Dd(f.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||j,onClick:me=>{Dd(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,me),!me.defaultPrevented&&Zn())},className:Tr(B==null?void 0:B.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function gb(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function s3(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?JL:YL;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}const Sj=q.forwardRef(function(e,n){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:h,mobileOffset:f,theme:m="light",richColors:y,duration:S,style:x,visibleToasts:w=QL,toastOptions:g,dir:v=gb(),gap:b=ZL,icons:k,containerAriaLabel:R="Notifications"}=e,[D,N]=q.useState([]),T=q.useMemo(()=>r?D.filter(U=>U.toasterId===r):D.filter(U=>!U.toasterId),[D,r]),j=q.useMemo(()=>Array.from(new Set([i].concat(T.filter(U=>U.position).map(U=>U.position)))),[T,i]),[A,P]=q.useState([]),[O,I]=q.useState(!1),[M,V]=q.useState(!1),[B,ee]=q.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=q.useRef(null),Q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=q.useRef(null),he=q.useRef(!1),we=q.useCallback(U=>{N(G=>{var le;return(le=G.find(de=>de.id===U.id))!=null&&le.delete||wn.dismiss(U.id),G.filter(({id:de})=>de!==U.id)})},[]);return q.useEffect(()=>wn.subscribe(U=>{if(U.dismiss){requestAnimationFrame(()=>{N(G=>G.map(le=>le.id===U.id?{...le,delete:!0}:le))});return}setTimeout(()=>{iN.flushSync(()=>{N(G=>{const le=G.findIndex(de=>de.id===U.id);return le!==-1?[...G.slice(0,le),{...G[le],...U},...G.slice(le+1)]:[U,...G]})})})}),[D]),q.useEffect(()=>{if(m!=="system"){ee(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:G})=>{ee(G?"dark":"light")})}catch{U.addListener(({matches:le})=>{try{ee(le?"dark":"light")}catch(de){console.error(de)}})}},[m]),q.useEffect(()=>{D.length<=1&&I(!1)},[D]),q.useEffect(()=>{const U=G=>{var le;if(o.every(se=>G[se]||G.code===se)){var Y;I(!0),(Y=L.current)==null||Y.focus()}G.code==="Escape"&&(document.activeElement===L.current||(le=L.current)!=null&&le.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[o]),q.useEffect(()=>{if(L.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,he.current=!1)}},[L.current]),q.createElement("section",{ref:n,"aria-label":`${R} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((U,G)=>{var le;const[de,Y]=U.split("-");return T.length?q.createElement("ol",{key:U,dir:v==="auto"?gb():v,tabIndex:-1,ref:L,className:u,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":de,"data-x-position":Y,style:{"--front-toast-height":`${((le=A[0])==null?void 0:le.height)||0}px`,"--width":`${XL}px`,"--gap":`${b}px`,...x,...s3(h,f)},onBlur:se=>{he.current&&!se.currentTarget.contains(se.relatedTarget)&&(he.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||he.current||(he.current=!0,te.current=se.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{M||I(!1)},onDragEnd:()=>I(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},T.filter(se=>!se.position&&G===0||se.position===U).map((se,Me)=>{var Te,Ee;return q.createElement(r3,{key:se.id,icons:k,index:Me,toast:se,defaultRichColors:y,duration:(Te=g==null?void 0:g.duration)!=null?Te:S,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:s,visibleToasts:w,closeButton:(Ee=g==null?void 0:g.closeButton)!=null?Ee:c,interacting:M,position:U,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,closeButtonAriaLabel:g==null?void 0:g.closeButtonAriaLabel,removeToast:we,toasts:T.filter(xe=>xe.position==se.position),heights:A.filter(xe=>xe.position==se.position),setHeights:P,expandByDefault:l,gap:b,expanded:O,swipeDirections:e.swipeDirections})})):null}))}),i3=({...t})=>{const{theme:e="system"}=PL();return a.jsx(Sj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var o3=Nv[" useId ".trim().toString()]||(()=>{}),a3=0;function Ax(t){const[e,n]=_.useState(o3());return Kt(()=>{n(r=>r??String(a3++))},[t]),e?`radix-${e}`:""}const l3=["top","right","bottom","left"],Ai=Math.min,Pn=Math.max,sf=Math.round,Md=Math.floor,Vr=t=>({x:t,y:t}),c3={left:"right",right:"left",bottom:"top",top:"bottom"},u3={start:"end",end:"start"};function vy(t,e,n){return Pn(t,Ai(e,n))}function xs(t,e){return typeof t=="function"?t(e):t}function ws(t){return t.split("-")[0]}function jl(t){return t.split("-")[1]}function Px(t){return t==="x"?"y":"x"}function Rx(t){return t==="y"?"height":"width"}const d3=new Set(["top","bottom"]);function Or(t){return d3.has(ws(t))?"y":"x"}function Ox(t){return Px(Or(t))}function h3(t,e,n){n===void 0&&(n=!1);const r=jl(t),s=Ox(t),i=Rx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=of(o)),[o,of(o)]}function f3(t){const e=of(t);return[xy(t),e,xy(e)]}function xy(t){return t.replace(/start|end/g,e=>u3[e])}const yb=["left","right"],vb=["right","left"],m3=["top","bottom"],p3=["bottom","top"];function g3(t,e,n){switch(t){case"top":case"bottom":return n?e?vb:yb:e?yb:vb;case"left":case"right":return e?m3:p3;default:return[]}}function y3(t,e,n,r){const s=jl(t);let i=g3(ws(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(xy)))),i}function of(t){return t.replace(/left|right|bottom|top/g,e=>c3[e])}function v3(t){return{top:0,right:0,bottom:0,left:0,...t}}function Tj(t){return typeof t!="number"?v3(t):{top:t,right:t,bottom:t,left:t}}function af(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function xb(t,e,n){let{reference:r,floating:s}=t;const i=Or(e),o=Ox(e),l=Rx(o),c=ws(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(jl(e)){case"start":y[o]-=m*(n&&u?-1:1);break;case"end":y[o]+=m*(n&&u?-1:1);break}return y}const x3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=xb(u,r,c),m=r,y={},S=0;for(let x=0;x<l.length;x++){const{name:w,fn:g}=l[x],{x:v,y:b,data:k,reset:R}=await g({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});h=v??h,f=b??f,y={...y,[w]:{...y[w],...k}},R&&S<=50&&(S++,typeof R=="object"&&(R.placement&&(m=R.placement),R.rects&&(u=R.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:h,y:f}=xb(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function cu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=xs(e,t),S=Tj(y),w=l[m?f==="floating"?"reference":"floating":f],g=af(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},R=af(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(g.top-R.top+S.top)/k.y,bottom:(R.bottom-g.bottom+S.bottom)/k.y,left:(g.left-R.left+S.left)/k.x,right:(R.right-g.right+S.right)/k.x}}const w3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=xs(t,e)||{};if(u==null)return{};const f=Tj(h),m={x:n,y:r},y=Ox(s),S=Rx(y),x=await o.getDimensions(u),w=y==="y",g=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",k=i.reference[S]+i.reference[y]-m[y]-i.floating[S],R=m[y]-i.reference[y],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=D?D[b]:0;(!N||!await(o.isElement==null?void 0:o.isElement(D)))&&(N=l.floating[b]||i.floating[S]);const T=k/2-R/2,j=N/2-x[S]/2-1,A=Ai(f[g],j),P=Ai(f[v],j),O=A,I=N-x[S]-P,M=N/2-x[S]/2+T,V=vy(O,M,I),B=!c.arrow&&jl(s)!=null&&M!==V&&i.reference[S]/2-(M<O?A:P)-x[S]/2<0,ee=B?M<O?M-O:M-I:0;return{[y]:m[y]+ee,data:{[y]:V,centerOffset:M-V-ee,...B&&{alignmentOffset:ee}},reset:B}}}),_3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...w}=xs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=ws(s),v=Or(l),b=ws(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=m||(b||!x?[of(l)]:f3(l)),D=S!=="none";!m&&D&&R.push(...y3(l,x,S,k));const N=[l,...R],T=await cu(e,w),j=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&j.push(T[g]),f){const M=h3(s,o,k);j.push(T[M[0]],T[M[1]])}if(A=[...A,{placement:s,overflows:j}],!j.every(M=>M<=0)){var P,O;const M=(((P=i.flip)==null?void 0:P.index)||0)+1,V=N[M];if(V&&(!(f==="alignment"?v!==Or(V):!1)||A.every(L=>Or(L.placement)===v?L.overflows[0]>0:!0)))return{data:{index:M,overflows:A},reset:{placement:V}};let B=(O=A.filter(ee=>ee.overflows[0]<=0).sort((ee,L)=>ee.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(y){case"bestFit":{var I;const ee=(I=A.filter(L=>{if(D){const Q=Or(L.placement);return Q===v||Q==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(Q=>Q>0).reduce((Q,te)=>Q+te,0)]).sort((L,Q)=>L[1]-Q[1])[0])==null?void 0:I[0];ee&&(B=ee);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function wb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _b(t){return l3.some(e=>t[e]>=0)}const b3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=xs(t,e);switch(r){case"referenceHidden":{const i=await cu(e,{...s,elementContext:"reference"}),o=wb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_b(o)}}}case"escaped":{const i=await cu(e,{...s,altBoundary:!0}),o=wb(i,n.floating);return{data:{escapedOffsets:o,escaped:_b(o)}}}default:return{}}}}},Nj=new Set(["left","top"]);async function E3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ws(n),l=jl(n),c=Or(n)==="y",u=Nj.has(o)?-1:1,h=i&&c?-1:1,f=xs(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(y=l==="end"?S*-1:S),c?{x:y*h,y:m*u}:{x:m*u,y:y*h}}const S3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await E3(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},T3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:g,y:v}=w;return{x:g,y:v}}},...c}=xs(t,e),u={x:n,y:r},h=await cu(e,c),f=Or(ws(s)),m=Px(f);let y=u[m],S=u[f];if(i){const w=m==="y"?"top":"left",g=m==="y"?"bottom":"right",v=y+h[w],b=y-h[g];y=vy(v,y,b)}if(o){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=S+h[w],b=S-h[g];S=vy(v,S,b)}const x=l.fn({...e,[m]:y,[f]:S});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:o}}}}}},N3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=xs(t,e),h={x:n,y:r},f=Or(s),m=Px(f);let y=h[m],S=h[f];const x=xs(l,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=m==="y"?"height":"width",k=i.reference[m]-i.floating[b]+w.mainAxis,R=i.reference[m]+i.reference[b]-w.mainAxis;y<k?y=k:y>R&&(y=R)}if(u){var g,v;const b=m==="y"?"width":"height",k=Nj.has(ws(s)),R=i.reference[f]-i.floating[b]+(k&&((g=o.offset)==null?void 0:g[f])||0)+(k?0:w.crossAxis),D=i.reference[f]+i.reference[b]+(k?0:((v=o.offset)==null?void 0:v[f])||0)-(k?w.crossAxis:0);S<R?S=R:S>D&&(S=D)}return{[m]:y,[f]:S}}}},j3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=xs(t,e),h=await cu(e,u),f=ws(s),m=jl(s),y=Or(s)==="y",{width:S,height:x}=i.floating;let w,g;f==="top"||f==="bottom"?(w=f,g=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,w=m==="end"?"top":"bottom");const v=x-h.top-h.bottom,b=S-h.left-h.right,k=Ai(x-h[w],v),R=Ai(S-h[g],b),D=!e.middlewareData.shift;let N=k,T=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=v),D&&!m){const A=Pn(h.left,0),P=Pn(h.right,0),O=Pn(h.top,0),I=Pn(h.bottom,0);y?T=S-2*(A!==0||P!==0?A+P:Pn(h.left,h.right)):N=x-2*(O!==0||I!==0?O+I:Pn(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:N});const j=await o.getDimensions(l.floating);return S!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function sm(){return typeof window<"u"}function Cl(t){return jj(t)?(t.nodeName||"").toLowerCase():"#document"}function Dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Kr(t){var e;return(e=(jj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jj(t){return sm()?t instanceof Node||t instanceof Dn(t).Node:!1}function vr(t){return sm()?t instanceof Element||t instanceof Dn(t).Element:!1}function Wr(t){return sm()?t instanceof HTMLElement||t instanceof Dn(t).HTMLElement:!1}function bb(t){return!sm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dn(t).ShadowRoot}const C3=new Set(["inline","contents"]);function Mu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=xr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!C3.has(s)}const k3=new Set(["table","td","th"]);function I3(t){return k3.has(Cl(t))}const A3=[":popover-open",":modal"];function im(t){return A3.some(e=>{try{return t.matches(e)}catch{return!1}})}const P3=["transform","translate","scale","rotate","perspective"],R3=["transform","translate","scale","rotate","perspective","filter"],O3=["paint","layout","strict","content"];function Dx(t){const e=Mx(),n=vr(t)?xr(t):t;return P3.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||R3.some(r=>(n.willChange||"").includes(r))||O3.some(r=>(n.contain||"").includes(r))}function D3(t){let e=Pi(t);for(;Wr(e)&&!ll(e);){if(Dx(e))return e;if(im(e))return null;e=Pi(e)}return null}function Mx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const M3=new Set(["html","body","#document"]);function ll(t){return M3.has(Cl(t))}function xr(t){return Dn(t).getComputedStyle(t)}function om(t){return vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pi(t){if(Cl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bb(t)&&t.host||Kr(t);return bb(e)?e.host:e}function Cj(t){const e=Pi(t);return ll(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wr(e)&&Mu(e)?e:Cj(e)}function uu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Cj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Dn(s);if(i){const l=wy(o);return e.concat(o,o.visualViewport||[],Mu(s)?s:[],l&&n?uu(l):[])}return e.concat(s,uu(s,[],n))}function wy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kj(t){const e=xr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Wr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=sf(n)!==i||sf(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Lx(t){return vr(t)?t:t.contextElement}function $a(t){const e=Lx(t);if(!Wr(e))return Vr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=kj(e);let o=(i?sf(n.width):n.width)/r,l=(i?sf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const L3=Vr(0);function Ij(t){const e=Dn(t);return!Mx()||!e.visualViewport?L3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dn(t)?!1:e}function Ao(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Lx(t);let o=Vr(1);e&&(r?vr(r)&&(o=$a(r)):o=$a(t));const l=V3(i,n,r)?Ij(i):Vr(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Dn(i),y=r&&vr(r)?Dn(r):r;let S=m,x=wy(S);for(;x&&r&&y!==S;){const w=$a(x),g=x.getBoundingClientRect(),v=xr(x),b=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*w.x,k=g.top+(x.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,f*=w.y,c+=b,u+=k,S=Dn(x),x=wy(S)}}return af({width:h,height:f,x:c,y:u})}function am(t,e){const n=om(t).scrollLeft;return e?e.left+n:Ao(Kr(t)).left+n}function Aj(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-am(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function F3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Kr(r),l=e?im(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Vr(1);const h=Vr(0),f=Wr(r);if((f||!f&&!i)&&((Cl(r)!=="body"||Mu(o))&&(c=om(r)),Wr(r))){const y=Ao(r);u=$a(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=o&&!f&&!i?Aj(o,c):Vr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function $3(t){return Array.from(t.getClientRects())}function U3(t){const e=Kr(t),n=om(t),r=t.ownerDocument.body,s=Pn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Pn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+am(t);const l=-n.scrollTop;return xr(r).direction==="rtl"&&(o+=Pn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const Eb=25;function z3(t,e){const n=Dn(t),r=Kr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const h=Mx();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=am(r);if(u<=0){const h=r.ownerDocument,f=h.body,m=getComputedStyle(f),y=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-y);S<=Eb&&(i-=S)}else u<=Eb&&(i+=u);return{width:i,height:o,x:l,y:c}}const B3=new Set(["absolute","fixed"]);function H3(t,e){const n=Ao(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Wr(t)?$a(t):Vr(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function Sb(t,e,n){let r;if(e==="viewport")r=z3(t,n);else if(e==="document")r=U3(Kr(t));else if(vr(e))r=H3(e,n);else{const s=Ij(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return af(r)}function Pj(t,e){const n=Pi(t);return n===e||!vr(n)||ll(n)?!1:xr(n).position==="fixed"||Pj(n,e)}function W3(t,e){const n=e.get(t);if(n)return n;let r=uu(t,[],!1).filter(l=>vr(l)&&Cl(l)!=="body"),s=null;const i=xr(t).position==="fixed";let o=i?Pi(t):t;for(;vr(o)&&!ll(o);){const l=xr(o),c=Dx(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&B3.has(s.position)||Mu(o)&&!c&&Pj(t,o))?r=r.filter(h=>h!==o):s=l,o=Pi(o)}return e.set(t,r),r}function q3(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?im(e)?[]:W3(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,h)=>{const f=Sb(e,h,s);return u.top=Pn(f.top,u.top),u.right=Ai(f.right,u.right),u.bottom=Ai(f.bottom,u.bottom),u.left=Pn(f.left,u.left),u},Sb(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function K3(t){const{width:e,height:n}=kj(t);return{width:e,height:n}}function G3(t,e,n){const r=Wr(e),s=Kr(e),i=n==="fixed",o=Ao(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Vr(0);function u(){c.x=am(s)}if(r||!r&&!i)if((Cl(e)!=="body"||Mu(s))&&(l=om(e)),r){const y=Ao(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?Aj(s,l):Vr(0),f=o.left+l.scrollLeft-c.x-h.x,m=o.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function Rp(t){return xr(t).position==="static"}function Tb(t,e){if(!Wr(t)||xr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Kr(t)===n&&(n=n.ownerDocument.body),n}function Rj(t,e){const n=Dn(t);if(im(t))return n;if(!Wr(t)){let s=Pi(t);for(;s&&!ll(s);){if(vr(s)&&!Rp(s))return s;s=Pi(s)}return n}let r=Tb(t,e);for(;r&&I3(r)&&Rp(r);)r=Tb(r,e);return r&&ll(r)&&Rp(r)&&!Dx(r)?n:r||D3(t)||n}const Q3=async function(t){const e=this.getOffsetParent||Rj,n=this.getDimensions,r=await n(t.floating);return{reference:G3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y3(t){return xr(t).direction==="rtl"}const J3={convertOffsetParentRelativeRectToViewportRelativeRect:F3,getDocumentElement:Kr,getClippingRect:q3,getOffsetParent:Rj,getElementRects:Q3,getClientRects:$3,getDimensions:K3,getScale:$a,isElement:vr,isRTL:Y3};function Oj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function X3(t,e){let n=null,r;const s=Kr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=u;if(l||e(),!m||!y)return;const S=Md(f),x=Md(s.clientWidth-(h+m)),w=Md(s.clientHeight-(f+y)),g=Md(h),b={rootMargin:-S+"px "+-x+"px "+-w+"px "+-g+"px",threshold:Pn(0,Ai(1,c))||1};let k=!0;function R(D){const N=D[0].intersectionRatio;if(N!==c){if(!k)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!Oj(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(R,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,b)}n.observe(t)}return o(!0),i}function Z3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Lx(t),h=s||i?[...u?uu(u):[],...uu(e)]:[];h.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const f=u&&l?X3(u,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(e)})),n()}),u&&!c&&y.observe(u),y.observe(e));let S,x=c?Ao(t):null;c&&w();function w(){const g=Ao(t);x&&!Oj(x,g)&&n(),x=g,S=requestAnimationFrame(w)}return n(),()=>{var g;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(g=y)==null||g.disconnect(),y=null,c&&cancelAnimationFrame(S)}}const eV=S3,tV=T3,nV=_3,rV=j3,sV=b3,Nb=w3,iV=N3,oV=(t,e,n)=>{const r=new Map,s={platform:J3,...n},i={...s.platform,_c:r};return x3(t,e,{...s,platform:i})};var aV=typeof document<"u",lV=function(){},gh=aV?_.useLayoutEffect:lV;function lf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!lf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!lf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Dj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jb(t,e){const n=Dj(t);return Math.round(e*n)/n}function Op(t){const e=_.useRef(t);return gh(()=>{e.current=t}),e}function cV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=_.useState(r);lf(m,r)||y(r);const[S,x]=_.useState(null),[w,g]=_.useState(null),v=_.useCallback(L=>{L!==D.current&&(D.current=L,x(L))},[]),b=_.useCallback(L=>{L!==N.current&&(N.current=L,g(L))},[]),k=i||S,R=o||w,D=_.useRef(null),N=_.useRef(null),T=_.useRef(h),j=c!=null,A=Op(c),P=Op(s),O=Op(u),I=_.useCallback(()=>{if(!D.current||!N.current)return;const L={placement:e,strategy:n,middleware:m};P.current&&(L.platform=P.current),oV(D.current,N.current,L).then(Q=>{const te={...Q,isPositioned:O.current!==!1};M.current&&!lf(T.current,te)&&(T.current=te,Uo.flushSync(()=>{f(te)}))})},[m,e,n,P,O]);gh(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const M=_.useRef(!1);gh(()=>(M.current=!0,()=>{M.current=!1}),[]),gh(()=>{if(k&&(D.current=k),R&&(N.current=R),k&&R){if(A.current)return A.current(k,R,I);I()}},[k,R,I,A,j]);const V=_.useMemo(()=>({reference:D,floating:N,setReference:v,setFloating:b}),[v,b]),B=_.useMemo(()=>({reference:k,floating:R}),[k,R]),ee=_.useMemo(()=>{const L={position:n,left:0,top:0};if(!B.floating)return L;const Q=jb(B.floating,h.x),te=jb(B.floating,h.y);return l?{...L,transform:"translate("+Q+"px, "+te+"px)",...Dj(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:te}},[n,l,B.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:I,refs:V,elements:B,floatingStyles:ee}),[h,I,V,B,ee])}const uV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Nb({element:r.current,padding:s}).fn(n):{}:r?Nb({element:r,padding:s}).fn(n):{}}}},dV=(t,e)=>({...eV(t),options:[t,e]}),hV=(t,e)=>({...tV(t),options:[t,e]}),fV=(t,e)=>({...iV(t),options:[t,e]}),mV=(t,e)=>({...nV(t),options:[t,e]}),pV=(t,e)=>({...rV(t),options:[t,e]}),gV=(t,e)=>({...sV(t),options:[t,e]}),yV=(t,e)=>({...uV(t),options:[t,e]});var vV="Arrow",Mj=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx($e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mj.displayName=vV;var xV=Mj;function wV(t){const[e,n]=_.useState(void 0);return Kt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vx="Popper",[Lj,lm]=Ru(Vx),[_V,Vj]=Lj(Vx),Fj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=_.useState(null);return a.jsx(_V,{scope:e,anchor:r,onAnchorChange:s,children:n})};Fj.displayName=Vx;var $j="PopperAnchor",Uj=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Vj($j,n),o=_.useRef(null),l=ut(e,o),c=_.useRef(null);return _.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:a.jsx($e.div,{...s,ref:l})});Uj.displayName=$j;var Fx="PopperContent",[bV,EV]=Lj(Fx),zj=_.forwardRef((t,e)=>{var Y,se,Me,Te,Ee,xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:S,...x}=t,w=Vj(Fx,n),[g,v]=_.useState(null),b=ut(e,wt=>v(wt)),[k,R]=_.useState(null),D=wV(k),N=(D==null?void 0:D.width)??0,T=(D==null?void 0:D.height)??0,j=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(u)?u:[u],O=P.length>0,I={padding:A,boundary:P.filter(TV),altBoundary:O},{refs:M,floatingStyles:V,placement:B,isPositioned:ee,middlewareData:L}=cV({strategy:"fixed",placement:j,whileElementsMounted:(...wt)=>Z3(...wt,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[dV({mainAxis:s+T,alignmentAxis:o}),c&&hV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?fV():void 0,...I}),c&&mV({...I}),pV({...I,apply:({elements:wt,rects:Ft,availableWidth:Gr,availableHeight:Un})=>{const{width:on,height:qi}=Ft.reference,Le=wt.floating.style;Le.setProperty("--radix-popper-available-width",`${Gr}px`),Le.setProperty("--radix-popper-available-height",`${Un}px`),Le.setProperty("--radix-popper-anchor-width",`${on}px`),Le.setProperty("--radix-popper-anchor-height",`${qi}px`)}}),k&&yV({element:k,padding:l}),NV({arrowWidth:N,arrowHeight:T}),m&&gV({strategy:"referenceHidden",...I})]}),[Q,te]=Wj(B),he=yr(S);Kt(()=>{ee&&(he==null||he())},[ee,he]);const we=(Y=L.arrow)==null?void 0:Y.x,U=(se=L.arrow)==null?void 0:se.y,G=((Me=L.arrow)==null?void 0:Me.centerOffset)!==0,[le,de]=_.useState();return Kt(()=>{g&&de(window.getComputedStyle(g).zIndex)},[g]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:ee?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(Te=L.transformOrigin)==null?void 0:Te.x,(Ee=L.transformOrigin)==null?void 0:Ee.y].join(" "),...((xe=L.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(bV,{scope:n,placedSide:Q,onArrowChange:R,arrowX:we,arrowY:U,shouldHideArrow:G,children:a.jsx($e.div,{"data-side":Q,"data-align":te,...x,ref:b,style:{...x.style,animation:ee?void 0:"none"}})})})});zj.displayName=Fx;var Bj="PopperArrow",SV={top:"bottom",right:"left",bottom:"top",left:"right"},Hj=_.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=EV(Bj,r),o=SV[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(xV,{...s,ref:n,style:{...s.style,display:"block"}})})});Hj.displayName=Bj;function TV(t){return t!==null}var NV=t=>({name:"transformOrigin",options:t,fn(e){var w,g,v;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=Wj(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,y=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let S="",x="";return u==="bottom"?(S=o?f:`${m}px`,x=`${-c}px`):u==="top"?(S=o?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,x=o?f:`${y}px`):u==="left"&&(S=`${r.floating.width+c}px`,x=o?f:`${y}px`),{data:{x:S,y:x}}}});function Wj(t){const[e,n="center"]=t.split("-");return[e,n]}var jV=Fj,qj=Uj,Kj=zj,Gj=Hj,[cm,Sq]=Ru("Tooltip",[lm]),$x=lm(),Qj="TooltipProvider",CV=700,Cb="tooltip.open",[kV,Yj]=cm(Qj),Jj=t=>{const{__scopeTooltip:e,delayDuration:n=CV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(kV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};Jj.displayName=Qj;var Xj="Tooltip",[Tq,um]=cm(Xj),_y="TooltipTrigger",IV=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=um(_y,n),i=Yj(_y,n),o=$x(n),l=_.useRef(null),c=ut(e,l,s.onTriggerChange),u=_.useRef(!1),h=_.useRef(!1),f=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(qj,{asChild:!0,...o,children:a.jsx($e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ke(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ke(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ke(t.onBlur,s.onClose),onClick:ke(t.onClick,s.onClose)})})});IV.displayName=_y;var AV="TooltipPortal",[Nq,PV]=cm(AV,{forceMount:void 0}),cl="TooltipContent",Zj=_.forwardRef((t,e)=>{const n=PV(cl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=um(cl,t.__scopeTooltip);return a.jsx(bx,{present:r||o.open,children:o.disableHoverableContent?a.jsx(eC,{side:s,...i,ref:e}):a.jsx(RV,{side:s,...i,ref:e})})}),RV=_.forwardRef((t,e)=>{const n=um(cl,t.__scopeTooltip),r=Yj(cl,t.__scopeTooltip),s=_.useRef(null),i=ut(e,s),[o,l]=_.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=_.useCallback(()=>{l(null),f(!1)},[f]),y=_.useCallback((S,x)=>{const w=S.currentTarget,g={x:S.clientX,y:S.clientY},v=VV(g,w.getBoundingClientRect()),b=FV(g,v),k=$V(x.getBoundingClientRect()),R=zV([...b,...k]);l(R),f(!0)},[f]);return _.useEffect(()=>()=>m(),[m]),_.useEffect(()=>{if(c&&h){const S=w=>y(w,h),x=w=>y(w,c);return c.addEventListener("pointerleave",S),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",x)}}},[c,h,y,m]),_.useEffect(()=>{if(o){const S=x=>{const w=x.target,g={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(w))||(h==null?void 0:h.contains(w)),b=!UV(g,o);v?m():b&&(m(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,h,o,u,m]),a.jsx(eC,{...t,ref:i})}),[OV,DV]=cm(Xj,{isInside:!1}),MV=j4("TooltipContent"),eC=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=um(cl,n),u=$x(n),{onClose:h}=c;return _.useEffect(()=>(document.addEventListener(Cb,h),()=>document.removeEventListener(Cb,h)),[h]),_.useEffect(()=>{if(c.trigger){const f=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),a.jsx(em,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(Kj,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(MV,{children:r}),a.jsx(OV,{scope:n,isInside:!0,children:a.jsx(Q4,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Zj.displayName=cl;var tC="TooltipArrow",LV=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=$x(n);return DV(tC,n).isInside?null:a.jsx(Gj,{...s,...r,ref:e})});LV.displayName=tC;function VV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function $V(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function UV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function zV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),BV(e)}function BV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var HV=Jj,nC=Zj;const WV=HV,qV=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(nC,{ref:r,sideOffset:e,className:Ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));qV.displayName=nC.displayName;const KV="modulepreload",GV=function(t){return"/"+t},kb={},Lu=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=GV(c),c in kb)return;kb[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":KV,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},QV=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Lu(async()=>{const{default:r}=await Promise.resolve().then(()=>kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ux extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class YV extends Ux{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ib extends Ux{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ab extends Ux{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var by;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(by||(by={}));var JV=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class XV{constructor(e,{headers:n={},customFetch:r,region:s=by.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=QV(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return JV(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h}).catch(x=>{throw new YV(x)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Ib(f);if(!f.ok)throw new Ab(f);let y=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield f.json():y==="application/octet-stream"?S=yield f.blob():y==="text/event-stream"?S=f:y==="multipart/form-data"?S=yield f.formData():S=yield f.text(),{data:S,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Ab||s instanceof Ib?s.context:void 0}}})}}var En={},zx={},dm={},Vu={},hm={},fm={},ZV=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ul=ZV();const e5=ul.fetch,rC=ul.fetch.bind(ul),sC=ul.Headers,t5=ul.Request,n5=ul.Response,kl=Object.freeze(Object.defineProperty({__proto__:null,Headers:sC,Request:t5,Response:n5,default:rC,fetch:e5},Symbol.toStringTag,{value:"Module"})),r5=v2(kl);var mm={};Object.defineProperty(mm,"__esModule",{value:!0});let s5=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};mm.default=s5;var iC=Yn&&Yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fm,"__esModule",{value:!0});const i5=iC(r5),o5=iC(mm);let a5=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=i5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let h=null,f=null,m=null,y=i.status,S=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,y=406,S="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{h=JSON.parse(w),Array.isArray(h)&&i.status===404&&(f=[],h=null,y=200,S="OK")}catch{i.status===404&&w===""?(y=204,S="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,y=200,S="OK"),h&&this.shouldThrowOnError)throw new o5.default(h)}return{error:h,data:f,count:m,status:y,statusText:S}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};fm.default=a5;var l5=Yn&&Yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hm,"__esModule",{value:!0});const c5=l5(fm);let u5=class extends c5.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};hm.default=u5;var d5=Yn&&Yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vu,"__esModule",{value:!0});const h5=d5(hm);let f5=class extends h5.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Vu.default=f5;var m5=Yn&&Yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dm,"__esModule",{value:!0});const uc=m5(Vu);let p5=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new uc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new uc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new uc.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new uc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new uc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};dm.default=p5;var oC=Yn&&Yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zx,"__esModule",{value:!0});const g5=oC(dm),y5=oC(Vu);let v5=class aC{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new g5.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new aC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new y5.default({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};zx.default=v5;var Il=Yn&&Yn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(En,"__esModule",{value:!0});En.PostgrestError=En.PostgrestBuilder=En.PostgrestTransformBuilder=En.PostgrestFilterBuilder=En.PostgrestQueryBuilder=En.PostgrestClient=void 0;const lC=Il(zx);En.PostgrestClient=lC.default;const cC=Il(dm);En.PostgrestQueryBuilder=cC.default;const uC=Il(Vu);En.PostgrestFilterBuilder=uC.default;const dC=Il(hm);En.PostgrestTransformBuilder=dC.default;const hC=Il(fm);En.PostgrestBuilder=hC.default;const fC=Il(mm);En.PostgrestError=fC.default;var x5=En.default={PostgrestClient:lC.default,PostgrestQueryBuilder:cC.default,PostgrestFilterBuilder:uC.default,PostgrestTransformBuilder:dC.default,PostgrestBuilder:hC.default,PostgrestError:fC.default};const{PostgrestClient:w5,PostgrestQueryBuilder:Pq,PostgrestFilterBuilder:Rq,PostgrestTransformBuilder:Oq,PostgrestBuilder:Dq,PostgrestError:Mq}=x5;class _5{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const b5="2.15.5",E5=`realtime-js/${b5}`,S5="1.0.0",Ey=1e4,T5=1e3,N5=100;var Pc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pc||(Pc={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var cr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cr||(cr={}));var Sy;(function(t){t.websocket="websocket"})(Sy||(Sy={}));var lo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(lo||(lo={}));class j5{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class mC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(He||(He={}));const Pb=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=C5(o,t,e,s),i),{})},C5=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?pC(i,o):Ty(o)},pC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return P5(e,n)}switch(t){case He.bool:return k5(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return I5(e);case He.json:case He.jsonb:return A5(e);case He.timestamp:return R5(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Ty(e);default:return Ty(e)}},Ty=t=>t,k5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},I5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},P5=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>pC(e,l))}return t},R5=t=>typeof t=="string"?t.replace(" ","T"):t,gC=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Dp{constructor(e,n,r={},s=Ey){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Rb||(Rb={}));class Rc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Rc.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rc.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(i,(u,h)=>{o[u]||(c[u]=h)}),this.map(o,(u,h)=>{const f=i[u];if(f){const m=h.map(w=>w.presence_ref),y=f.map(w=>w.presence_ref),S=h.filter(w=>y.indexOf(w.presence_ref)<0),x=f.filter(w=>m.indexOf(w.presence_ref)<0);S.length>0&&(l[u]=S),x.length>0&&(c[u]=x)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),h.length>0){const f=e[l].map(y=>y.presence_ref),m=h.filter(y=>f.indexOf(y.presence_ref)<0);e[l].unshift(...m)}r(l,h,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ob;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ob||(Ob={}));var Oc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Oc||(Oc={}));var rs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rs||(rs={}));class Bx{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dp(this,cr.join,this.params,this.timeout),this.rejoinTimer=new mC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Rc(this),this.broadcastEndpointURL=gC(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Oc.PRESENCE]&&this.bindings[Oc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(rs.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(rs.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var S;if(this.socket.setAuth(),y===void 0){e==null||e(rs.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(S=x==null?void 0:x.length)!==null&&S!==void 0?S:0,g=[];for(let v=0;v<w;v++){const b=x[v],{filter:{event:k,schema:R,table:D,filter:N}}=b,T=y&&y[v];if(T&&T.event===k&&T.schema===R&&T.table===D&&T.filter===N)g.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=Tt.errored,e==null||e(rs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(rs.SUBSCRIBED);return}}).receive("error",y=>{this.state=Tt.errored,e==null||e(rs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Tt.joined&&e===Oc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Dp(this,cr.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Dp(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>N5){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=cr;if(r&&[l,c,u,h].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var S,x,w;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((w=(x=y.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var S,x,w,g,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const k=y.id,R=(S=y.filter)===null||S===void 0?void 0:S.event;return k&&((x=n.ids)===null||x===void 0?void 0:x.includes(k))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(v=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return k==="*"||k===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const S=m.data,{schema:x,table:w,commit_timestamp:g,type:v,errors:b}=S;m=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(S))}y.callback(m,r)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Bx.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cr.close,{},e)}_onError(e){this._on(cr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Pb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Pb(e.columns,e.old_record)),n}}const Mp=()=>{},Ld={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},O5=[1e3,2e3,5e3,1e4],D5=1e4,M5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L5{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ey,this.transport=null,this.heartbeatIntervalMs=Ld.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mp,this.ref=0,this.reconnectTimer=null,this.logger=Mp,this.conn=null,this.sendBuffer=[],this.serializer=new j5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Lu(async()=>{const{default:l}=await Promise.resolve().then(()=>kl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sy.websocket}`,this.httpEndpoint=gC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:S5}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pc.connecting:return lo.Connecting;case Pc.open:return lo.Open;case Pc.closing:return lo.Closing;default:return lo.Closed}}isConnected(){return this.connectionState()===lo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Bx(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(T5,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ld.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(cr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([M5],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:E5};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(cr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ld.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,c,u,h;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ey,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ld.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Mp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>O5[f-1]||D5,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Hx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class V5 extends Hx{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ny extends Hx{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var F5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const yC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Lu(async()=>{const{default:r}=await Promise.resolve().then(()=>kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$5=()=>F5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Lu(()=>Promise.resolve().then(()=>kl),void 0)).Response:Response}),jy=t=>{if(Array.isArray(t))return t.map(n=>jy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=jy(r)}),e},U5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Wo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Lp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),z5=(t,e,n)=>Wo(void 0,void 0,void 0,function*(){const r=yield $5();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new V5(Lp(s),i,o))}).catch(s=>{e(new Ny(Lp(s),s))}):e(new Ny(Lp(t),t))}),B5=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(U5(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Fu(t,e,n,r,s,i){return Wo(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,B5(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>z5(c,l,r))})})}function cf(t,e,n,r){return Wo(this,void 0,void 0,function*(){return Fu(t,"GET",e,n,r)})}function jr(t,e,n,r,s){return Wo(this,void 0,void 0,function*(){return Fu(t,"POST",e,r,s,n)})}function Cy(t,e,n,r,s){return Wo(this,void 0,void 0,function*(){return Fu(t,"PUT",e,r,s,n)})}function H5(t,e,n,r){return Wo(this,void 0,void 0,function*(){return Fu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vC(t,e,n,r,s){return Wo(this,void 0,void 0,function*(){return Fu(t,"DELETE",e,r,s,n)})}var cn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const W5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Db={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q5{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=yC(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return cn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Db),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),f=yield(e=="PUT"?Cy:jr)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return cn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return cn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Db.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield Cy(this.fetch,l.toString(),c,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Nt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return cn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield jr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Hx("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}update(e,n,r){return cn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return cn(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return cn(this,void 0,void 0,function*(){try{return{data:{path:(yield jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return cn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield jr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return cn(this,void 0,void 0,function*(){try{const s=yield jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}download(e,n){return cn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield cf(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}})}info(e){return cn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield cf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jy(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}exists(e){return cn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield H5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r)&&r instanceof Ny){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return cn(this,void 0,void 0,function*(){try{return{data:yield vC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}list(e,n,r){return cn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},W5),n),{prefix:e||""});return{data:yield jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}listV2(e,n){return cn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield jr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const K5="2.12.1",G5={"X-Client-Info":`storage-js/${K5}`};var ia=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class Q5{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},G5),n),this.fetch=yC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ia(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Nt(e))return{data:null,error:e};throw e}})}getBucket(e){return ia(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ia(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ia(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ia(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ia(this,void 0,void 0,function*(){try{return{data:yield vC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}}class Y5 extends Q5{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new q5(this.url,this.headers,e,this.fetch)}}const J5="2.57.4";let pc="";typeof Deno<"u"?pc="deno":typeof document<"u"?pc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pc="react-native":pc="node";const X5={"X-Client-Info":`supabase-js-${pc}/${J5}`},Z5={headers:X5},e6={schema:"public"},t6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n6={};var r6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const s6=t=>{let e;return t?e=t:typeof fetch>"u"?e=rC:e=fetch,(...n)=>e(...n)},i6=()=>typeof Headers>"u"?sC:Headers,o6=(t,e,n)=>{const r=s6(n),s=i6();return(i,o)=>r6(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var a6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function l6(t){return t.endsWith("/")?t:t+"/"}function c6(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:h,global:f}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>a6(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function u6(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xC="2.71.1",fa=30*1e3,ky=3,Vp=ky*fa,d6="http://localhost:9999",h6="supabase.auth.token",f6={"X-Client-Info":`gotrue-js/${xC}`},Iy="X-Supabase-Api-Version",wC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p6=10*60*1e3;class Wx extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class g6 extends Wx{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function y6(t){return _e(t)&&t.name==="AuthApiError"}class _C extends Wx{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class zi extends Wx{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ws extends zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v6(t){return _e(t)&&t.name==="AuthSessionMissingError"}class Vd extends zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fd extends zi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $d extends zi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x6(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class Mb extends zi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ay extends zi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Fp(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class Lb extends zi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Py extends zi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vb=` 	
\r=`.split(""),w6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vb.length;e+=1)t[Vb[e].charCodeAt(0)]=-2;for(let e=0;e<uf.length;e+=1)t[uf[e].charCodeAt(0)]=e;return t})();function Fb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uf[r]),e.queuedBits-=6}}function bC(t,e,n){const r=w6[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $b(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{E6(o,r,n)};for(let o=0;o<t.length;o+=1)bC(t.charCodeAt(o),s,i);return e.join("")}function _6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function b6(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}_6(r,e)}}function E6(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function S6(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)bC(t.charCodeAt(s),n,r);return new Uint8Array(e)}function T6(t){const e=[];return b6(t,n=>e.push(n)),new Uint8Array(e)}function N6(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Fb(s,n,r)),Fb(null,n,r),e.join("")}function j6(t){return Math.round(Date.now()/1e3)+t}function C6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nr=()=>typeof window<"u"&&typeof document<"u",no={tested:!1,writable:!1},EC=()=>{if(!nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(no.tested)return no.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),no.tested=!0,no.writable=!0}catch{no.tested=!0,no.writable=!1}return no.writable};function k6(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const SC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Lu(async()=>{const{default:r}=await Promise.resolve().then(()=>kl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},I6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ma=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ro=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Us=async(t,e)=>{await t.removeItem(e)};let TC=class NC{constructor(){this.promise=new NC.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};TC.promiseConstructor=Promise;function $p(t){const e=t.split(".");if(e.length!==3)throw new Py("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!m6.test(e[r]))throw new Py("JWT not in base64url format");return{header:JSON.parse($b(e[0])),payload:JSON.parse($b(e[1])),signature:S6(e[2]),raw:{header:e[0],payload:e[1]}}}async function A6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function P6(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function R6(t){return("0"+t.toString(16)).substr(-2)}function O6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,R6).join("")}async function D6(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function M6(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await D6(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oa(t,e,n=!1){const r=O6();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ma(t,`${e}-code-verifier`,s);const i=await M6(r);return[i,r===i?"plain":"s256"]}const L6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V6(t){const e=t.headers.get(Iy);if(!e||!e.match(L6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function F6(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $6(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function aa(t){if(!U6.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Up(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ub(t){return JSON.parse(JSON.stringify(t))}var z6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B6=[502,503,504];async function zb(t){var e;if(!I6(t))throw new Ay(oo(t),0);if(B6.includes(t.status))throw new Ay(oo(t),t.status);let n;try{n=await t.json()}catch(i){throw new _C(oo(i),i)}let r;const s=V6(t);if(s&&s.getTime()>=wC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lb(oo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ws}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lb(oo(n),t.status,n.weak_password.reasons);throw new g6(oo(n),t.status||500,r)}const H6=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ne(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Iy]||(i[Iy]=wC["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await W6(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function W6(t,e,n,r,s,i){const o=H6(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Ay(oo(c),0)}if(l.ok||await zb(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await zb(c)}}function ts(t){var e;let n=null;Q6(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=j6(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Bb(t){const e=ts(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function q6(t){return{data:t,error:null}}function K6(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=z6(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function G6(t){return t}function Q6(t){return t.access_token&&t.refresh_token&&t.expires_in}const zp=["global","local","others"];var Y6=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class J6{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=SC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=zp[0]){if(zp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zp.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Y6(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:K6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:G6});if(h.error)throw h.error;const f=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(_e(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){aa(e);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){aa(e);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Xs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){aa(e);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){aa(e.userId);try{const{data:n,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(e){aa(e.userId),aa(e.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function Hb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function X6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const la={debug:!!(globalThis&&EC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Z6 extends jC{}async function eF(t,e,n){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),la.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{la.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw la.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Z6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(la.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}X6();const tF={url:d6,storageKey:h6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wb(t,e,n){return await n()}const ca={};class du{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=du.nextInstanceID,du.nextInstanceID+=1,this.instanceID>0&&nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tF),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new J6({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=SC(s.fetch),this.lock=s.lock||Wb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=eF:this.lock=Wb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:EC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hb(this.memoryStorage)),nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=ca[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ca[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xC}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=k6(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),nr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),x6(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new _C("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ts}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:f,options:m}=e;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await oa(this.storage,this.storageKey)),i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:S},xform:ts})}else if("phone"in e){const{phone:h,password:f,options:m}=e;i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ts})}else throw new Fd("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bb})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bb})}else throw new Fd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Vd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,c,u,h,f,m,y;let S,x;if("message"in e)S=e.message,x=e.signature;else{const{chain:w,wallet:g,statement:v,options:b}=e;let k;if(nr())if(typeof g=="object")k=g;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))k=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const R=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const D=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),v?{statement:v}:null));let N;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")N=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)N=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)S=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${R.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(h=b==null?void 0:b.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const D=await k.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=D}}try{const{data:w,error:g}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:N6(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ts});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Vd}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(_e(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await ro(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ts});if(await Us(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(_e(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ts}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Vd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await oa(this.storage,this.storageKey));const{error:f}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:h}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Fd("You must provide either an email or phone number.")}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ts});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await oa(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:q6})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ws;const{error:s}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Fd("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ro(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Vp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ro(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Up()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ws}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xs})})}catch(n){if(_e(n))return v6(n)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ws;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await oa(this.storage,this.storageKey));const{data:u,error:h}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Xs});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ws;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=$p(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ws;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!nr())throw new $d("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $d(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $d("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mb("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new $d("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let m=h+f;c&&(m=parseInt(c));const y=m-h;y*1e3<=fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const S=m-f;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,m,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,m,h);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(_e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ro(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(y6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=C6(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await oa(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,h;const{data:f,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return nr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_e(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await P6(async s=>(s>0&&await A6(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ts})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Fp(i)&&Date.now()+o-r<fa})}catch(r){if(this._debug(n,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ro(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ro(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ma(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Up()}else if(s&&!s.user&&!s.user){const o=await ro(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Us(this.storage,this.storageKey+"-user"),await ma(this.storage,this.storageKey,s)):s.user=Up()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Vp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Fp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new TC;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ws;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),_e(i)){const o={session:null,error:i};return Fp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ma(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Ub(s);await ma(this.storage,this.storageKey,i)}else{const s=Ub(n);await ma(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Us(this.storage,this.storageKey),await Us(this.storage,this.storageKey+"-code-verifier"),await Us(this.storage,this.storageKey+"-user"),this.userStorage&&await Us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fa}ms, refresh threshold is ${ky} ticks`),s<=ky&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await oa(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$p(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+p6>s)return r;const{data:i,error:o}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:S}=await this.getSession();if(S||!y.session)return{data:null,error:S};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=$p(r);n!=null&&n.allowExpired||F6(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const h=$6(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,T6(`${l}.${c}`)))throw new Py("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}du.nextInstanceID=0;const nF=du;class rF extends nF{constructor(e){super(e)}}var sF=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class iF{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=u6(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:e6,realtime:n6,auth:Object.assign(Object.assign({},t6),{storageKey:c}),global:Z5},h=c6(r??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=o6(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new w5(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Y5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new XV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return sF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rF({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new L5(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oF=(t,e,n)=>new iF(t,e,n);function aF(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}aF()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lF="https://your-project-url.supabase.co",cF="your-anon-key",zs=oF(lF,cF),uF="https://api.nimc.gov.ng/v1",dF="imc keys here",hF="https://api.cbn.gov.ng/v1",fF="ckeyshere",yh={verifyNIN:async t=>{try{const e=await fetch(`${uF}/nin/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dF}`},body:JSON.stringify({nin:t})});return e.ok?{success:!0,data:await e.json()}:{success:!1,error:`HTTP error! Status: ${e.status}`}}catch(e){return{success:!1,error:e.message||"Unknown error"}}},verifyCBN:async t=>{try{const e=await fetch(`${hF}/account/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${fF}`},body:JSON.stringify({accountNumber:t})});return e.ok?{success:!0,data:await e.json()}:{success:!1,error:`HTTP error! Status: ${e.status}`}}catch(e){return{success:!1,error:e.message||"Unknown error"}}}};class mF{constructor(){this.API_BASE_URL="https://api.farmcred.com/v1",this.API_KEY="reactkey"}async submitForVerification(e){try{console.log("[v0] Submitting farm for agent verification");const n=await this.uploadFarmPhotos(e.farmPhotos),r={farmerId:e.farmerId,farmerName:e.farmerName,farmerPhone:e.farmerPhone,farmLocation:e.farmLocation,farmPhotos:n,farmType:e.farmType,farmSize:e.farmSize},s=await fetch(`${this.API_BASE_URL}/verification/submit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.API_KEY}`},body:JSON.stringify(r)});if(!s.ok)throw new Error(`API error: ${s.status}`);const i=await s.json();return console.log("[v0] Verification request submitted successfully:",i.requestId),{success:!0,requestId:i.requestId}}catch(n){return console.log("[v0] Error submitting verification request:",n),{success:!1,error:"Failed to submit verification request. Please try again."}}}async getVerificationStatus(e){try{console.log("[v0] Checking verification status for request:",e);const n=await fetch(`${this.API_BASE_URL}/verification/${e}`,{headers:{Authorization:`Bearer ${this.API_KEY}`}});if(!n.ok){if(n.status===404)return null;throw new Error(`API error: ${n.status}`)}return await n.json()}catch(n){return console.log("[v0] Error checking verification status:",n),null}}async findAgentsInArea(e,n,r=50){try{console.log("[v0] Finding agents in area:",{latitude:e,longitude:n,radiusKm:r});const s=await fetch(`${this.API_BASE_URL}/agents/search`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.API_KEY}`},body:JSON.stringify({latitude:e,longitude:n,radiusKm:r,isActive:!0})});if(!s.ok)throw new Error(`API error: ${s.status}`);return await s.json()}catch(s){return console.log("[v0] Error finding agents:",s),[]}}async uploadFarmPhotos(e){const n=e.map(async r=>{const s=new FormData;s.append("photo",r);try{const i=await fetch(`${this.API_BASE_URL}/upload/farm-photo`,{method:"POST",headers:{Authorization:`Bearer ${this.API_KEY}`},body:s});if(!i.ok)throw new Error(`Upload failed: ${i.status}`);return(await i.json()).url}catch(i){return console.log("[v0] Photo upload error:",i),URL.createObjectURL(r)}});return Promise.all(n)}calculateDistance(e,n,r,s){const o=this.toRadians(r-e),l=this.toRadians(s-n),c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(this.toRadians(e))*Math.cos(this.toRadians(r))*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}toRadians(e){return e*(Math.PI/180)}simulateVerificationProgress(e){const n=["pending","assigned","in_progress","completed"],r=n[Math.floor(Math.random()*n.length)],s={id:"AGT-001",name:"Adebayo Ogundimu",email:"adebayo.ogundimu@farmcred.com",phone:"+2348123456789",certificationId:"NAERLS-2024-001",location:{state:"Lagos",lga:"Ikorodu",coordinates:{latitude:6.6018,longitude:3.5106}},specializations:["Crop Farming","Livestock","Farm Management"],rating:4.8,totalVerifications:156,isActive:!0};return{id:e,farmerId:"farmer-123",farmerName:"John Doe",farmerPhone:"+2348012345678",farmLocation:{latitude:6.5244,longitude:3.3792,address:"Lagos, Nigeria"},farmPhotos:[],farmType:"crop",farmSize:"1-5",requestedAt:new Date(Date.now()-24*60*60*1e3),status:r,assignedAgent:r!=="pending"?s:void 0,scheduledVisit:r==="assigned"?new Date(Date.now()+2*24*60*60*1e3):void 0,priority:"medium"}}getMockAgents(e,n){return[{id:"AGT-001",name:"Adebayo Ogundimu",email:"adebayo.ogundimu@farmcred.com",phone:"+2348123456789",certificationId:"NAERLS-2024-001",location:{state:"Lagos",lga:"Ikorodu",coordinates:{latitude:e+.1,longitude:n+.1}},specializations:["Crop Farming","Livestock","Farm Management"],rating:4.8,totalVerifications:156,isActive:!0},{id:"AGT-002",name:"Fatima Abdullahi",email:"fatima.abdullahi@farmcred.com",phone:"+2348234567890",certificationId:"NAERLS-2024-002",location:{state:"Lagos",lga:"Alimosho",coordinates:{latitude:e-.05,longitude:n+.15}},specializations:["Poultry","Aquaculture","Organic Farming"],rating:4.9,totalVerifications:203,isActive:!0},{id:"AGT-003",name:"Chinedu Okwu",email:"chinedu.okwu@farmcred.com",phone:"+2348345678901",certificationId:"NAERLS-2024-003",location:{state:"Lagos",lga:"Ikeja",coordinates:{latitude:e+.08,longitude:n-.12}},specializations:["Mixed Farming","Irrigation Systems","Soil Management"],rating:4.7,totalVerifications:89,isActive:!0}]}}const pF=new mF,CC=_.createContext(void 0),pm=()=>{const t=_.useContext(CC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},gF=({children:t})=>{const[e,n]=_.useState(null),[r,s]=_.useState(null),[i,o]=_.useState(null),[l,c]=_.useState(!0);_.useEffect(()=>{zs.auth.getSession().then(({data:{session:g}})=>{s(g),n((g==null?void 0:g.user)??null),g!=null&&g.user&&u(g.user.id),c(!1)});const{data:{subscription:w}}=zs.auth.onAuthStateChange(async(g,v)=>{s(v),n((v==null?void 0:v.user)??null),v!=null&&v.user?await u(v.user.id):o(null),c(!1)});return()=>w.unsubscribe()},[]);const u=async w=>{try{const{data:g,error:v}=await zs.from("user_profiles").select("*").eq("id",w).single();if(v&&v.code!=="PGRST116"){console.error("Error loading user profile:",v);return}g&&o(g)}catch(g){console.error("Error loading user profile:",g)}},h=async(w,g)=>{const v=await zs.auth.signInWithPassword({email:w,password:g});return v.data.user&&!v.error&&await u(v.data.user.id),v},f=async(w,g,v)=>{try{const{data:b,error:k}=await zs.auth.signUp({email:w,password:g,options:{emailRedirectTo:window.location.origin}});if(k)return{error:k};if(b.user){const R={id:b.user.id,email:b.user.email,...v,verificationStatus:{nin:{isVerified:!1},bvn:{isVerified:!1},crossVerification:{isVerified:!1},farmVerification:{isVerified:!1}},createdAt:new Date,updatedAt:new Date};await zs.from("user_profiles").insert([R]),o(R)}return{data:b,error:null}}catch{return{error:{message:"Unexpected signup error"}}}},m=async()=>{const w=await zs.auth.signOut();return o(null),w},y=async w=>{if(!e||!i)return{error:{message:"No authenticated user"}};const g={...w,updatedAt:new Date},{error:v}=await zs.from("user_profiles").update(g).eq("id",e.id);return v?{error:v}:(o(b=>b?{...b,...g}:null),{error:null})},S=async(w,g)=>{var v,b;if(!e||!i)return{isValid:!1,error:"NO_USER",message:"No authenticated user"};try{const k=await yh.crossVerifyIdentity(w,g);if(k.isValid){const R={verificationStatus:{...i.verificationStatus,nin:{isVerified:!0,data:(v=k.data)==null?void 0:v.nin},bvn:{isVerified:!0,data:(b=k.data)==null?void 0:b.bvn},crossVerification:{isVerified:!0,data:k.data}}};await y(R)}return k}catch{return{isValid:!1,error:"VERIFICATION_ERROR",message:"Failed to verify identity"}}},x=async w=>{if(!e||!i)return{success:!1,error:"No authenticated user"};if(i.userType!=="farmer")return{success:!1,error:"Only farmers can submit farm verification requests"};try{const g=await pF.submitForVerification({farmerId:e.id,farmerName:i.fullName,farmerPhone:i.phone,farmLocation:w.location,farmType:w.farmType,farmSize:w.farmSize,photos:w.photos});return g.success&&g.requestId&&await y({verificationStatus:{...i.verificationStatus,farmVerification:{isVerified:!1,requestId:g.requestId,status:"pending"}}}),g}catch{return{success:!1,error:"Failed to submit farm verification"}}};return a.jsx(CC.Provider,{value:{user:e,session:r,userProfile:i,signIn:h,signUp:f,signOut:m,updateProfile:y,verifyIdentity:S,submitFarmVerification:x,loading:l},children:t})},kC="/assets/hero-farming-DR_Ha0W_.jpg",yF=()=>{const{user:t}=pm();return a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsxs("section",{className:"hero flex flex-col md:flex-row items-center justify-between my-8",children:[a.jsxs("div",{className:"hero-text md:w-1/2",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to FarmCred"}),a.jsx("p",{className:"mb-6",children:"Empowering farmers and communities through sustainable farming solutions."}),a.jsx(xt,{to:"/learn-more",className:"bg-green-500 text-white px-6 py-3 rounded-md hover:bg-green-600",children:"Learn More"})]}),a.jsx("div",{className:"hero-image md:w-1/2 mt-6 md:mt-0",children:a.jsx("img",{src:kC,alt:"Hero Farming",className:"rounded-lg shadow-lg"})})]}),a.jsxs("section",{className:"features grid grid-cols-1 md:grid-cols-4 gap-6 mt-12",children:[a.jsxs("div",{className:"feature p-4 bg-white rounded-lg shadow text-center",children:[a.jsx(rm,{className:"mx-auto mb-2"}),a.jsx("h3",{className:"font-bold",children:"Sustainable"}),a.jsx("p",{children:"We focus on eco-friendly farming practices."})]}),a.jsxs("div",{className:"feature p-4 bg-white rounded-lg shadow text-center",children:[a.jsx(vs,{className:"mx-auto mb-2"}),a.jsx("h3",{className:"font-bold",children:"Community"}),a.jsx("p",{children:"Supporting farmers and local communities."})]}),a.jsxs("div",{className:"feature p-4 bg-white rounded-lg shadow text-center",children:[a.jsx(Du,{className:"mx-auto mb-2"}),a.jsx("h3",{className:"font-bold",children:"Growth"}),a.jsx("p",{children:"Helping farmers increase productivity and income."})]}),a.jsxs("div",{className:"feature p-4 bg-white rounded-lg shadow text-center",children:[a.jsx(ij,{className:"mx-auto mb-2"}),a.jsx("h3",{className:"font-bold",children:"Quality"}),a.jsx("p",{children:"Delivering the best agricultural solutions."})]})]})]})},vF=Sl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-soft",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-background hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground hover:shadow-medium transform hover:scale-105 transition-all duration-300 font-semibold",success:"bg-success text-success-foreground hover:bg-success/90 shadow-soft",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-soft"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?T4:"button";return a.jsx(o,{className:Ke(vF({variant:e,size:n,className:t})),ref:i,...s})});Z.displayName="Button";const J=_.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));J.displayName="Card";const Ze=_.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ke("flex flex-col space-y-1.5 p-6",t),...e}));Ze.displayName="CardHeader";const et=_.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:Ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));et.displayName="CardTitle";const xF=_.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:Ke("text-sm text-muted-foreground",t),...e}));xF.displayName="CardDescription";const tt=_.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ke("p-6 pt-0",t),...e}));tt.displayName="CardContent";const wF=_.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ke("flex items-center p-6 pt-0",t),...e}));wF.displayName="CardFooter";const Be=_.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:Ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Be.displayName="Input";var _F="Label",IC=_.forwardRef((t,e)=>a.jsx($e.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IC.displayName=_F;var AC=IC;const bF=Sl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=_.forwardRef(({className:t,...e},n)=>a.jsx(AC,{ref:n,className:Ke(bF(),t),...e}));De.displayName=AC.displayName;function qb(t,[e,n]){return Math.min(n,Math.max(e,t))}var EF=_.createContext(void 0);function SF(t){const e=_.useContext(EF);return t||e||"ltr"}var Bp=0;function TF(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Kb()),document.body.insertAdjacentElement("beforeend",t[1]??Kb()),Bp++,()=>{Bp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bp--}},[])}function Kb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hp="focusScope.autoFocusOnMount",Wp="focusScope.autoFocusOnUnmount",Gb={bubbles:!1,cancelable:!0},NF="FocusScope",PC=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=_.useState(null),u=yr(s),h=yr(i),f=_.useRef(null),m=ut(e,x=>c(x)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let x=function(b){if(y.paused||!l)return;const k=b.target;l.contains(k)?f.current=k:qs(f.current,{select:!0})},w=function(b){if(y.paused||!l)return;const k=b.relatedTarget;k!==null&&(l.contains(k)||qs(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&qs(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),v.disconnect()}}},[r,l,y.paused]),_.useEffect(()=>{if(l){Yb.add(y);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(Hp,Gb);l.addEventListener(Hp,u),l.dispatchEvent(g),g.defaultPrevented||(jF(PF(RC(l)),{select:!0}),document.activeElement===x&&qs(l))}return()=>{l.removeEventListener(Hp,u),setTimeout(()=>{const g=new CustomEvent(Wp,Gb);l.addEventListener(Wp,h),l.dispatchEvent(g),g.defaultPrevented||qs(x??document.body,{select:!0}),l.removeEventListener(Wp,h),Yb.remove(y)},0)}}},[l,u,h,y]);const S=_.useCallback(x=>{if(!n&&!r||y.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(w&&g){const v=x.currentTarget,[b,k]=CF(v);b&&k?!x.shiftKey&&g===k?(x.preventDefault(),n&&qs(b,{select:!0})):x.shiftKey&&g===b&&(x.preventDefault(),n&&qs(k,{select:!0})):g===v&&x.preventDefault()}},[n,r,y.paused]);return a.jsx($e.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});PC.displayName=NF;function jF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qs(r,{select:e}),document.activeElement!==n)return}function CF(t){const e=RC(t),n=Qb(e,t),r=Qb(e.reverse(),t);return[n,r]}function RC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qb(t,e){for(const n of t)if(!kF(n,{upTo:e}))return n}function kF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function IF(t){return t instanceof HTMLInputElement&&"select"in t}function qs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&IF(t)&&e&&t.select()}}var Yb=AF();function AF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Jb(t,e),t.unshift(e)},remove(e){var n;t=Jb(t,e),(n=t[0])==null||n.resume()}}}function Jb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function PF(t){return t.filter(e=>e.tagName!=="A")}function RF(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var OF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ua=new WeakMap,Ud=new WeakMap,zd={},qp=0,OC=function(t){return t&&(t.host||OC(t.parentNode))},DF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=OC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MF=function(t,e,n,r){var s=DF(e,Array.isArray(t)?t:[t]);zd[n]||(zd[n]=new WeakMap);var i=zd[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(r),S=y!==null&&y!=="false",x=(ua.get(m)||0)+1,w=(i.get(m)||0)+1;ua.set(m,x),i.set(m,w),o.push(m),x===1&&S&&Ud.set(m,!0),w===1&&m.setAttribute(n,"true"),S||m.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return h(e),l.clear(),qp++,function(){o.forEach(function(f){var m=ua.get(f)-1,y=i.get(f)-1;ua.set(f,m),i.set(f,y),m||(Ud.has(f)||f.removeAttribute(r),Ud.delete(f)),y||f.removeAttribute(n)}),qp--,qp||(ua=new WeakMap,ua=new WeakMap,Ud=new WeakMap,zd={})}},LF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=OF(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),MF(r,s,n,"aria-hidden")):function(){return null}},Rr=function(){return Rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rr.apply(this,arguments)};function DC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var vh="right-scroll-bar-position",xh="width-before-scroll-bar",FF="with-scroll-bars-hidden",$F="--removed-body-scroll-bar-size";function Kp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function UF(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var zF=typeof window<"u"?_.useLayoutEffect:_.useEffect,Xb=new WeakMap;function BF(t,e){var n=UF(null,function(r){return t.forEach(function(s){return Kp(s,r)})});return zF(function(){var r=Xb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Kp(l,null)}),i.forEach(function(l){s.has(l)||Kp(l,o)})}Xb.set(n,t)},[t]),n}function HF(t){return t}function WF(t,e){e===void 0&&(e=HF);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function qF(t){t===void 0&&(t={});var e=WF(null);return e.options=Rr({async:!0,ssr:!1},t),e}var MC=function(t){var e=t.sideCar,n=DC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Rr({},n))};MC.isSideCarExport=!0;function KF(t,e){return t.useMedium(e),MC}var LC=qF(),Gp=function(){},gm=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:Gp,onWheelCapture:Gp,onTouchMoveCapture:Gp}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noRelative,S=t.noIsolation,x=t.inert,w=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,b=t.gapMode,k=DC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=m,D=BF([n,e]),N=Rr(Rr({},k),s);return _.createElement(_.Fragment,null,h&&_.createElement(R,{sideCar:LC,removeScrollBar:u,shards:f,noRelative:y,noIsolation:S,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:b}),o?_.cloneElement(_.Children.only(l),Rr(Rr({},N),{ref:D})):_.createElement(v,Rr({},N,{className:c,ref:D}),l))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:xh,zeroRight:vh};var GF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=GF();return e&&t.setAttribute("nonce",e),t}function YF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function JF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var XF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=QF())&&(YF(e,n),JF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ZF=function(){var t=XF();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},VC=function(){var t=ZF(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},e$={left:0,top:0,right:0,gap:0},Qp=function(t){return parseInt(t||"",10)||0},t$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Qp(n),Qp(r),Qp(s)]},n$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e$;var e=t$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},r$=VC(),Ua="data-scroll-locked",s$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(FF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ua,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(xh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xh," .").concat(xh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ua,`] {
    `).concat($F,": ").concat(l,`px;
  }
`)},Zb=function(){var t=parseInt(document.body.getAttribute(Ua)||"0",10);return isFinite(t)?t:0},i$=function(){_.useEffect(function(){return document.body.setAttribute(Ua,(Zb()+1).toString()),function(){var t=Zb()-1;t<=0?document.body.removeAttribute(Ua):document.body.setAttribute(Ua,t.toString())}},[])},o$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;i$();var i=_.useMemo(function(){return n$(s)},[s]);return _.createElement(r$,{styles:s$(i,!e,s,n?"":"!important")})},Ry=!1;if(typeof window<"u")try{var Bd=Object.defineProperty({},"passive",{get:function(){return Ry=!0,!0}});window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{Ry=!1}var da=Ry?{passive:!1}:!1,a$=function(t){return t.tagName==="TEXTAREA"},FC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!a$(t)&&n[e]==="visible")},l$=function(t){return FC(t,"overflowY")},c$=function(t){return FC(t,"overflowX")},e1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$C(t,r);if(s){var i=UC(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},d$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$C=function(t,e){return t==="v"?l$(e):c$(e)},UC=function(t,e){return t==="v"?u$(e):d$(e)},h$=function(t,e){return t==="h"&&e==="rtl"?-1:1},f$=function(t,e,n,r,s){var i=h$(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,h=o>0,f=0,m=0;do{if(!l)break;var y=UC(t,l),S=y[0],x=y[1],w=y[2],g=x-w-i*S;(S||g)&&$C(t,l)&&(f+=g,m+=S);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Hd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},t1=function(t){return[t.deltaX,t.deltaY]},n1=function(t){return t&&"current"in t?t.current:t},m$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},p$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g$=0,ha=[];function y$(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(g$++)[0],i=_.useState(VC)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=VF([t.lockRef.current],(t.shards||[]).map(n1),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=Hd(x),v=n.current,b="deltaX"in x?x.deltaX:v[0]-g[0],k="deltaY"in x?x.deltaY:v[1]-g[1],R,D=x.target,N=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in x&&N==="h"&&D.type==="range")return!1;var T=e1(N,D);if(!T)return!0;if(T?R=N:(R=N==="v"?"h":"v",T=e1(N,D)),!T)return!1;if(!r.current&&"changedTouches"in x&&(b||k)&&(r.current=R),!R)return!0;var j=r.current||R;return f$(j,w,x,j==="h"?b:k)},[]),c=_.useCallback(function(x){var w=x;if(!(!ha.length||ha[ha.length-1]!==i)){var g="deltaY"in w?t1(w):Hd(w),v=e.current.filter(function(R){return R.name===w.type&&(R.target===w.target||w.target===R.shadowParent)&&m$(R.delta,g)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(n1).filter(Boolean).filter(function(R){return R.contains(w.target)}),k=b.length>0?l(w,b[0]):!o.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),u=_.useCallback(function(x,w,g,v){var b={name:x,delta:w,target:g,should:v,shadowParent:v$(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(k){return k!==b})},1)},[]),h=_.useCallback(function(x){n.current=Hd(x),r.current=void 0},[]),f=_.useCallback(function(x){u(x.type,t1(x),x.target,l(x,t.lockRef.current))},[]),m=_.useCallback(function(x){u(x.type,Hd(x),x.target,l(x,t.lockRef.current))},[]);_.useEffect(function(){return ha.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,da),document.addEventListener("touchmove",c,da),document.addEventListener("touchstart",h,da),function(){ha=ha.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,da),document.removeEventListener("touchmove",c,da),document.removeEventListener("touchstart",h,da)}},[]);var y=t.removeScrollBar,S=t.inert;return _.createElement(_.Fragment,null,S?_.createElement(i,{styles:p$(s)}):null,y?_.createElement(o$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function v$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const x$=KF(LC,y$);var zC=_.forwardRef(function(t,e){return _.createElement(gm,Rr({},t,{ref:e,sideCar:x$}))});zC.classNames=gm.classNames;var w$=[" ","Enter","ArrowUp","ArrowDown"],_$=[" ","Enter"],Po="Select",[ym,vm,b$]=NN(Po),[Al,Lq]=Ru(Po,[b$,lm]),xm=lm(),[E$,Bi]=Al(Po),[S$,T$]=Al(Po),BC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:y,form:S}=t,x=xm(e),[w,g]=_.useState(null),[v,b]=_.useState(null),[k,R]=_.useState(!1),D=SF(u),[N,T]=cy({prop:r,defaultProp:s??!1,onChange:i,caller:Po}),[j,A]=cy({prop:o,defaultProp:l,onChange:c,caller:Po}),P=_.useRef(null),O=w?S||!!w.closest("form"):!0,[I,M]=_.useState(new Set),V=Array.from(I).map(B=>B.props.value).join(";");return a.jsx(jV,{...x,children:a.jsxs(E$,{required:y,scope:e,trigger:w,onTriggerChange:g,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:R,contentId:Ax(),value:j,onValueChange:A,open:N,onOpenChange:T,dir:D,triggerPointerDownPosRef:P,disabled:m,children:[a.jsx(ym.Provider,{scope:e,children:a.jsx(S$,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(B=>{M(ee=>new Set(ee).add(B))},[]),onNativeOptionRemove:_.useCallback(B=>{M(ee=>{const L=new Set(ee);return L.delete(B),L})},[]),children:n})}),O?a.jsxs(fk,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:j,onChange:B=>A(B.target.value),disabled:m,form:S,children:[j===void 0?a.jsx("option",{value:""}):null,Array.from(I)]},V):null]})})};BC.displayName=Po;var HC="SelectTrigger",WC=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=xm(n),o=Bi(HC,n),l=o.disabled||r,c=ut(e,o.onTriggerChange),u=vm(n),h=_.useRef("touch"),[f,m,y]=pk(x=>{const w=u().filter(b=>!b.disabled),g=w.find(b=>b.value===o.value),v=gk(w,x,g);v!==void 0&&o.onValueChange(v.value)}),S=x=>{l||(o.onOpenChange(!0),y()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(qj,{asChild:!0,...i,children:a.jsx($e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mk(o.value)?"":void 0,...s,ref:c,onClick:ke(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&S(x)}),onPointerDown:ke(s.onPointerDown,x=>{h.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(S(x),x.preventDefault())}),onKeyDown:ke(s.onKeyDown,x=>{const w=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(w&&x.key===" ")&&w$.includes(x.key)&&(S(),x.preventDefault())})})})});WC.displayName=HC;var qC="SelectValue",KC=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=Bi(qC,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=ut(e,c.onValueNodeChange);return Kt(()=>{u(h)},[u,h]),a.jsx($e.span,{...l,ref:f,style:{pointerEvents:"none"},children:mk(c.value)?a.jsx(a.Fragment,{children:o}):i})});KC.displayName=qC;var N$="SelectIcon",GC=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx($e.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});GC.displayName=N$;var j$="SelectPortal",QC=t=>a.jsx(_x,{asChild:!0,...t});QC.displayName=j$;var Ro="SelectContent",YC=_.forwardRef((t,e)=>{const n=Bi(Ro,t.__scopeSelect),[r,s]=_.useState();if(Kt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Uo.createPortal(a.jsx(JC,{scope:t.__scopeSelect,children:a.jsx(ym.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(XC,{...t,ref:e})});YC.displayName=Ro;var rr=10,[JC,Hi]=Al(Ro),C$="SelectContentImpl",k$=lu("SelectContent.RemoveScroll"),XC=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:S,hideWhenDetached:x,avoidCollisions:w,...g}=t,v=Bi(Ro,n),[b,k]=_.useState(null),[R,D]=_.useState(null),N=ut(e,Y=>k(Y)),[T,j]=_.useState(null),[A,P]=_.useState(null),O=vm(n),[I,M]=_.useState(!1),V=_.useRef(!1);_.useEffect(()=>{if(b)return LF(b)},[b]),TF();const B=_.useCallback(Y=>{const[se,...Me]=O().map(xe=>xe.ref.current),[Te]=Me.slice(-1),Ee=document.activeElement;for(const xe of Y)if(xe===Ee||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===se&&R&&(R.scrollTop=0),xe===Te&&R&&(R.scrollTop=R.scrollHeight),xe==null||xe.focus(),document.activeElement!==Ee))return},[O,R]),ee=_.useCallback(()=>B([T,b]),[B,T,b]);_.useEffect(()=>{I&&ee()},[I,ee]);const{onOpenChange:L,triggerPointerDownPosRef:Q}=v;_.useEffect(()=>{if(b){let Y={x:0,y:0};const se=Te=>{var Ee,xe;Y={x:Math.abs(Math.round(Te.pageX)-(((Ee=Q.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((xe=Q.current)==null?void 0:xe.y)??0))}},Me=Te=>{Y.x<=10&&Y.y<=10?Te.preventDefault():b.contains(Te.target)||L(!1),document.removeEventListener("pointermove",se),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Me,{capture:!0})}}},[b,L,Q]),_.useEffect(()=>{const Y=()=>L(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[L]);const[te,he]=pk(Y=>{const se=O().filter(Ee=>!Ee.disabled),Me=se.find(Ee=>Ee.ref.current===document.activeElement),Te=gk(se,Y,Me);Te&&setTimeout(()=>Te.ref.current.focus())}),we=_.useCallback((Y,se,Me)=>{const Te=!V.current&&!Me;(v.value!==void 0&&v.value===se||Te)&&(j(Y),Te&&(V.current=!0))},[v.value]),U=_.useCallback(()=>b==null?void 0:b.focus(),[b]),G=_.useCallback((Y,se,Me)=>{const Te=!V.current&&!Me;(v.value!==void 0&&v.value===se||Te)&&P(Y)},[v.value]),le=r==="popper"?Oy:ZC,de=le===Oy?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:S,hideWhenDetached:x,avoidCollisions:w}:{};return a.jsx(JC,{scope:n,content:b,viewport:R,onViewportChange:D,itemRefCallback:we,selectedItem:T,onItemLeave:U,itemTextRefCallback:G,focusSelectedItem:ee,selectedItemText:A,position:r,isPositioned:I,searchRef:te,children:a.jsx(zC,{as:k$,allowPinchZoom:!0,children:a.jsx(PC,{asChild:!0,trapped:v.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ke(s,Y=>{var se;(se=v.trigger)==null||se.focus({preventScroll:!0}),Y.preventDefault()}),children:a.jsx(em,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(le,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Y=>Y.preventDefault(),...g,...de,onPlaced:()=>M(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ke(g.onKeyDown,Y=>{const se=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!se&&Y.key.length===1&&he(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Te=O().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Ee=Y.target,xe=Te.indexOf(Ee);Te=Te.slice(xe+1)}setTimeout(()=>B(Te)),Y.preventDefault()}})})})})})})});XC.displayName=C$;var I$="SelectItemAlignedPosition",ZC=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Bi(Ro,n),o=Hi(Ro,n),[l,c]=_.useState(null),[u,h]=_.useState(null),f=ut(e,N=>h(N)),m=vm(n),y=_.useRef(!1),S=_.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:g,focusSelectedItem:v}=o,b=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&w&&g){const N=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=A.left-T.left,xe=j.left-Ee,wt=N.left-xe,Ft=N.width+wt,Gr=Math.max(Ft,T.width),Un=window.innerWidth-rr,on=qb(xe,[rr,Math.max(rr,Un-Gr)]);l.style.minWidth=Ft+"px",l.style.left=on+"px"}else{const Ee=T.right-A.right,xe=window.innerWidth-j.right-Ee,wt=window.innerWidth-N.right-xe,Ft=N.width+wt,Gr=Math.max(Ft,T.width),Un=window.innerWidth-rr,on=qb(xe,[rr,Math.max(rr,Un-Gr)]);l.style.minWidth=Ft+"px",l.style.right=on+"px"}const P=m(),O=window.innerHeight-rr*2,I=x.scrollHeight,M=window.getComputedStyle(u),V=parseInt(M.borderTopWidth,10),B=parseInt(M.paddingTop,10),ee=parseInt(M.borderBottomWidth,10),L=parseInt(M.paddingBottom,10),Q=V+B+I+L+ee,te=Math.min(w.offsetHeight*5,Q),he=window.getComputedStyle(x),we=parseInt(he.paddingTop,10),U=parseInt(he.paddingBottom,10),G=N.top+N.height/2-rr,le=O-G,de=w.offsetHeight/2,Y=w.offsetTop+de,se=V+B+Y,Me=Q-se;if(se<=G){const Ee=P.length>0&&w===P[P.length-1].ref.current;l.style.bottom="0px";const xe=u.clientHeight-x.offsetTop-x.offsetHeight,wt=Math.max(le,de+(Ee?U:0)+xe+ee),Ft=se+wt;l.style.height=Ft+"px"}else{const Ee=P.length>0&&w===P[0].ref.current;l.style.top="0px";const wt=Math.max(G,V+x.offsetTop+(Ee?we:0)+de)+Me;l.style.height=wt+"px",x.scrollTop=se-G+x.offsetTop}l.style.margin=`${rr}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,w,g,i.dir,r]);Kt(()=>b(),[b]);const[k,R]=_.useState();Kt(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const D=_.useCallback(N=>{N&&S.current===!0&&(b(),v==null||v(),S.current=!1)},[b,v]);return a.jsx(P$,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:D,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:a.jsx($e.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ZC.displayName=I$;var A$="SelectPopperPosition",Oy=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=rr,...i}=t,o=xm(n);return a.jsx(Kj,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Oy.displayName=A$;var[P$,qx]=Al(Ro,{}),Dy="SelectViewport",ek=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Hi(Dy,n),o=qx(Dy,n),l=ut(e,i.onViewportChange),c=_.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(ym.Slot,{scope:n,children:a.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ke(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const S=window.innerHeight-rr*2,x=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),g=Math.max(x,w);if(g<S){const v=g+y,b=Math.min(S,v),k=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});ek.displayName=Dy;var tk="SelectGroup",[R$,O$]=Al(tk),D$=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ax();return a.jsx(R$,{scope:n,id:s,children:a.jsx($e.div,{role:"group","aria-labelledby":s,...r,ref:e})})});D$.displayName=tk;var nk="SelectLabel",rk=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=O$(nk,n);return a.jsx($e.div,{id:s.id,...r,ref:e})});rk.displayName=nk;var df="SelectItem",[M$,sk]=Al(df),ik=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=Bi(df,n),c=Hi(df,n),u=l.value===r,[h,f]=_.useState(i??""),[m,y]=_.useState(!1),S=ut(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),x=Ax(),w=_.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(M$,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:_.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(ym.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx($e.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:ke(o.onFocus,()=>y(!0)),onBlur:ke(o.onBlur,()=>y(!1)),onClick:ke(o.onClick,()=>{w.current!=="mouse"&&g()}),onPointerUp:ke(o.onPointerUp,()=>{w.current==="mouse"&&g()}),onPointerDown:ke(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:ke(o.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ke(o.onKeyDown,v=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&v.key===" "||(_$.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});ik.displayName=df;var gc="SelectItemText",ok=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Bi(gc,n),l=Hi(gc,n),c=sk(gc,n),u=T$(gc,n),[h,f]=_.useState(null),m=ut(e,g=>f(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),y=h==null?void 0:h.textContent,S=_.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return Kt(()=>(x(S),()=>w(S)),[x,w,S]),a.jsxs(a.Fragment,{children:[a.jsx($e.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Uo.createPortal(i.children,o.valueNode):null]})});ok.displayName=gc;var ak="SelectItemIndicator",lk=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return sk(ak,n).isSelected?a.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});lk.displayName=ak;var My="SelectScrollUpButton",ck=_.forwardRef((t,e)=>{const n=Hi(My,t.__scopeSelect),r=qx(My,t.__scopeSelect),[s,i]=_.useState(!1),o=ut(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(dk,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ck.displayName=My;var Ly="SelectScrollDownButton",uk=_.forwardRef((t,e)=>{const n=Hi(Ly,t.__scopeSelect),r=qx(Ly,t.__scopeSelect),[s,i]=_.useState(!1),o=ut(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(dk,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uk.displayName=Ly;var dk=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Hi("SelectScrollButton",n),o=_.useRef(null),l=vm(n),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Kt(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx($e.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ke(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ke(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ke(s.onPointerLeave,()=>{c()})})}),L$="SelectSeparator",hk=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});hk.displayName=L$;var Vy="SelectArrow",V$=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xm(n),i=Bi(Vy,n),o=Hi(Vy,n);return i.open&&o.position==="popper"?a.jsx(Gj,{...s,...r,ref:e}):null});V$.displayName=Vy;var F$="SelectBubbleInput",fk=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=_.useRef(null),i=ut(r,s),o=RF(e);return _.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx($e.select,{...n,style:{...AN,...n.style},ref:i,defaultValue:e})});fk.displayName=F$;function mk(t){return t===""||t===void 0}function pk(t){const e=yr(t),n=_.useRef(""),r=_.useRef(0),s=_.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gk(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=$$(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function $$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var U$=BC,yk=WC,z$=KC,B$=GC,H$=QC,vk=YC,W$=ek,xk=rk,wk=ik,q$=ok,K$=lk,_k=ck,bk=uk,Ek=hk;const hf=U$,ff=z$,hu=_.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(yk,{ref:r,className:Ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(B$,{asChild:!0,children:a.jsx(nj,{className:"h-4 w-4 opacity-50"})})]}));hu.displayName=yk.displayName;const Sk=_.forwardRef(({className:t,...e},n)=>a.jsx(_k,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(DD,{className:"h-4 w-4"})}));Sk.displayName=_k.displayName;const Tk=_.forwardRef(({className:t,...e},n)=>a.jsx(bk,{ref:n,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(nj,{className:"h-4 w-4"})}));Tk.displayName=bk.displayName;const fu=_.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(H$,{children:a.jsxs(vk,{ref:s,className:Ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(Sk,{}),a.jsx(W$,{className:Ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Tk,{})]})}));fu.displayName=vk.displayName;const G$=_.forwardRef(({className:t,...e},n)=>a.jsx(xk,{ref:n,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));G$.displayName=xk.displayName;const xn=_.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(wk,{ref:r,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(K$,{children:a.jsx(AD,{className:"h-4 w-4"})})}),a.jsx(q$,{children:e})]}));xn.displayName=wk.displayName;const Q$=_.forwardRef(({className:t,...e},n)=>a.jsx(Ek,{ref:n,className:Ke("-mx-1 my-1 h-px bg-muted",t),...e}));Q$.displayName=Ek.displayName;const $n=({size:t="md",className:e=""})=>{const n={sm:"text-lg",md:"text-2xl",lg:"text-4xl"},r={sm:20,md:28,lg:40};return a.jsxs("div",{className:`flex items-center gap-2 font-bold text-primary ${n[t]} ${e}`,children:[a.jsx("div",{className:"bg-gradient-primary p-2 rounded-lg",children:a.jsx(rm,{size:r[t],className:"text-primary-foreground"})}),a.jsx("span",{className:"bg-gradient-to-r from-primary to-success bg-clip-text text-transparent",children:"FarmCred"})]})},Bt=({type:t,label:e,value:n,className:r=""})=>{const i={verified:{icon:nn,bgColor:"bg-success/10",textColor:"text-success",iconColor:"text-success"},security:{icon:Ln,bgColor:"bg-primary/10",textColor:"text-primary",iconColor:"text-primary"},rating:{icon:ij,bgColor:"bg-accent/10",textColor:"text-accent",iconColor:"text-accent"}}[t],o=i.icon;return a.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${i.bgColor} ${r}`,children:[a.jsx(o,{size:16,className:i.iconColor}),a.jsxs("span",{className:`text-sm font-medium ${i.textColor}`,children:[e,n&&a.jsx("span",{className:"ml-1",children:n})]})]})},wm=({variant:t="footer",className:e=""})=>{const n={email:"support@farmcred.com.ng",phone:"+2347069301804",address:"Funtua, Nigeria",portalCode:"830101"};return t==="header"?a.jsxs("div",{className:`flex items-center gap-4 text-sm ${e}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mh,{size:14}),a.jsx("span",{children:n.phone})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fh,{size:14}),a.jsx("span",{children:n.email})]})]}):t==="card"?a.jsxs("div",{className:`space-y-3 ${e}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:a.jsx(fh,{size:16,className:"text-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Email Support"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:n.email})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:a.jsx(mh,{size:16,className:"text-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Phone Support"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:n.phone})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:a.jsx(ds,{size:16,className:"text-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Office Location"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:n.address})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:a.jsx(lb,{size:16,className:"text-primary"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Portal Code"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:n.portalCode})]})]})]}):a.jsx("div",{className:`text-sm text-muted-foreground ${e}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fh,{size:14}),a.jsx("span",{children:n.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mh,{size:14}),a.jsx("span",{children:n.phone})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ds,{size:14}),a.jsx("span",{children:n.address})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lb,{size:14}),a.jsxs("span",{children:["Portal: ",n.portalCode]})]})]})})},Y$=()=>{};var r1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new X$;const m=i<<2|l>>4;if(r.push(m),u!==64){const y=l<<4&240|u>>2;if(r.push(y),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class X$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z$=function(t){const e=Nk(t);return jk.encodeByteArray(e,!0)},mf=function(t){return Z$(t).replace(/\./g,"")},Ck=function(t){try{return jk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=()=>eU().__FIREBASE_DEFAULTS__,nU=()=>{if(typeof process>"u"||typeof r1>"u")return;const t=r1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ck(t[1]);return e&&JSON.parse(e)},_m=()=>{try{return Y$()||tU()||nU()||rU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kk=t=>{var e,n;return(n=(e=_m())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},sU=t=>{const e=kk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ik=()=>{var t;return(t=_m())==null?void 0:t.config},Ak=t=>{var e;return(e=_m())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mf(JSON.stringify(n)),mf(JSON.stringify(o)),""].join(".")}const Dc={};function aU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dc))Dc[e]?t.emulator.push(e):t.prod.push(e);return t}function lU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let s1=!1;function Rk(t,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||Dc[t]===e||Dc[t]||s1)return;Dc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=aU().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{s1=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=lU(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),w=document.getElementById(x)||document.createElement("a"),g=n("preprendIcon"),v=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;l(b),h(w,x);const k=u();c(v,g),b.append(v,S,w,k),document.body.appendChild(b)}i?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function uU(){var e;const t=(e=_m())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mU(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pU(){return!uU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gU(){try{return typeof indexedDB=="object"}catch{return!1}}function yU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vU,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xU(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Is(s,l,r)}}function xU(t,e){return t.replace(wU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wU=/\{\$([^}]+)}/g;function _U(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(i1(i)&&i1(o)){if(!Oo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function i1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bU(t,e){const n=new EU(t,e);return n.subscribe.bind(n)}class EU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yp),s.error===void 0&&(s.error=Yp),s.complete===void 0&&(s.complete=Yp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class Do{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jU(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NU(t){return t===ao?void 0:t}function jU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const kU={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},IU=Ce.INFO,AU={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},PU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=AU[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kx{constructor(e){this.name=e,this._logLevel=IU,this._logHandler=PU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const RU=(t,e)=>e.some(n=>t instanceof n);let o1,a1;function OU(){return o1||(o1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DU(){return a1||(a1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ok=new WeakMap,Fy=new WeakMap,Dk=new WeakMap,Jp=new WeakMap,Gx=new WeakMap;function MU(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ei(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ok.set(n,t)}).catch(()=>{}),Gx.set(e,t),e}function LU(t){if(Fy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Fy.set(t,e)}let $y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VU(t){$y=t($y)}function FU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xp(this),e,...n);return Dk.set(r,e.sort?e.sort():[e]),Ei(r)}:DU().includes(t)?function(...e){return t.apply(Xp(this),e),Ei(Ok.get(this))}:function(...e){return Ei(t.apply(Xp(this),e))}}function $U(t){return typeof t=="function"?FU(t):(t instanceof IDBTransaction&&LU(t),RU(t,OU())?new Proxy(t,$y):t)}function Ei(t){if(t instanceof IDBRequest)return MU(t);if(Jp.has(t))return Jp.get(t);const e=$U(t);return e!==t&&(Jp.set(t,e),Gx.set(e,t)),e}const Xp=t=>Gx.get(t);function UU(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Ei(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ei(o.result),c.oldVersion,c.newVersion,Ei(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const zU=["get","getKey","getAll","getAllKeys","count"],BU=["put","add","delete","clear"],Zp=new Map;function l1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=BU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zU.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Zp.set(e,i),i}VU(t=>({...t,get:(e,n,r)=>l1(e,n)||t.get(e,n,r),has:(e,n)=>!!l1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uy="@firebase/app",c1="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Kx("@firebase/app"),qU="@firebase/app-compat",KU="@firebase/analytics-compat",GU="@firebase/analytics",QU="@firebase/app-check-compat",YU="@firebase/app-check",JU="@firebase/auth",XU="@firebase/auth-compat",ZU="@firebase/database",e9="@firebase/data-connect",t9="@firebase/database-compat",n9="@firebase/functions",r9="@firebase/functions-compat",s9="@firebase/installations",i9="@firebase/installations-compat",o9="@firebase/messaging",a9="@firebase/messaging-compat",l9="@firebase/performance",c9="@firebase/performance-compat",u9="@firebase/remote-config",d9="@firebase/remote-config-compat",h9="@firebase/storage",f9="@firebase/storage-compat",m9="@firebase/firestore",p9="@firebase/ai",g9="@firebase/firestore-compat",y9="firebase",v9="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="[DEFAULT]",x9={[Uy]:"fire-core",[qU]:"fire-core-compat",[GU]:"fire-analytics",[KU]:"fire-analytics-compat",[YU]:"fire-app-check",[QU]:"fire-app-check-compat",[JU]:"fire-auth",[XU]:"fire-auth-compat",[ZU]:"fire-rtdb",[e9]:"fire-data-connect",[t9]:"fire-rtdb-compat",[n9]:"fire-fn",[r9]:"fire-fn-compat",[s9]:"fire-iid",[i9]:"fire-iid-compat",[o9]:"fire-fcm",[a9]:"fire-fcm-compat",[l9]:"fire-perf",[c9]:"fire-perf-compat",[u9]:"fire-rc",[d9]:"fire-rc-compat",[h9]:"fire-gcs",[f9]:"fire-gcs-compat",[m9]:"fire-fst",[g9]:"fire-fst-compat",[p9]:"fire-vertex","fire-js":"fire-js",[y9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Map,w9=new Map,By=new Map;function u1(t,e){try{t.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dl(t){const e=t.name;if(By.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;By.set(e,t);for(const n of pf.values())u1(n,t);for(const n of w9.values())u1(n,t);return!0}function Qx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new $u("app","Firebase",_9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=v9;function Mk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Si.create("bad-app-name",{appName:String(s)});if(n||(n=Ik()),!n)throw Si.create("no-options");const i=pf.get(s);if(i){if(Oo(n,i.options)&&Oo(r,i.config))return i;throw Si.create("duplicate-app",{appName:s})}const o=new CU(s);for(const c of By.values())o.addComponent(c);const l=new b9(n,r,o);return pf.set(s,l),l}function Lk(t=zy){const e=pf.get(t);if(!e&&t===zy&&Ik())return Mk();if(!e)throw Si.create("no-app",{appName:t});return e}function Ti(t,e,n){let r=x9[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(o.join(" "));return}dl(new Do(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="firebase-heartbeat-database",S9=1,mu="firebase-heartbeat-store";let eg=null;function Vk(){return eg||(eg=UU(E9,S9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),eg}async function T9(t){try{const n=(await Vk()).transaction(mu),r=await n.objectStore(mu).get(Fk(t));return await n.done,r}catch(e){if(e instanceof Is)_s.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(n.message)}}}async function d1(t,e){try{const r=(await Vk()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,Fk(t)),await r.done}catch(n){if(n instanceof Is)_s.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_s.warn(r.message)}}}function Fk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=1024,j9=30;class C9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=h1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>j9){const o=A9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h1(),{heartbeatsToSend:r,unsentEntries:s}=k9(this._heartbeatsCache.heartbeats),i=mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return _s.warn(n),""}}}function h1(){return new Date().toISOString().substring(0,10)}function k9(t,e=N9){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),f1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),f1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class I9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gU()?yU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function f1(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}function A9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){dl(new Do("platform-logger",e=>new HU(e),"PRIVATE")),dl(new Do("heartbeat",e=>new C9(e),"PRIVATE")),Ti(Uy,c1,t),Ti(Uy,c1,"esm2020"),Ti("fire-js","")}P9("");var R9="firebase",O9="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(R9,O9,"app");function $k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D9=$k,Uk=new $u("auth","Firebase",$k());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Kx("@firebase/auth");function M9(t,...e){gf.logLevel<=Ce.WARN&&gf.warn(`Auth (${Rl}): ${t}`,...e)}function wh(t,...e){gf.logLevel<=Ce.ERROR&&gf.error(`Auth (${Rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,...e){throw Yx(t,...e)}function Fr(t,...e){return Yx(t,...e)}function zk(t,e,n){const r={...D9(),[e]:n};return new $u("auth","Firebase",r).create(e,{appName:t.name})}function hs(t){return zk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Uk.create(t,...e)}function pe(t,e,...n){if(!t)throw Yx(e,...n)}function ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wh(e),new Error(e)}function Es(t,e){t||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function L9(){return m1()==="http:"||m1()==="https:"}function m1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L9()||hU()||"connection"in navigator)?navigator.onLine:!0}function F9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Es(n>e,"Short delay should be less than long delay!"),this.isMobile=cU()||fU()}get(){return V9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t,e){Es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z9=new zu(3e4,6e4);function Bu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ol(t,e,n,r,s={}){return Hk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Uu({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return dU()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(u.credentials="include"),Bk.fetch()(await Wk(t,t.config.apiHost,n,l),u)})}async function Hk(t,e,n){t._canInitEmulator=!1;const r={...$9,...e};try{const s=new B9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Wd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Wd(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zk(t,h,u);bs(t,h)}}catch(s){if(s instanceof Is)throw s;bs(t,"network-request-failed",{message:String(s)})}}async function Xx(t,e,n,r,s={}){const i=await Ol(t,e,n,r,s);return"mfaPendingCredential"in i&&bs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Wk(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Jx(t.config,s):`${t.config.apiScheme}://${s}`;return U9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class B9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),z9.get())})}}function Wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Fr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(t,e){return Ol(t,"POST","/v1/accounts:delete",e)}async function yf(t,e){return Ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W9(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),s=Zx(r);pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Mc(tg(s.auth_time)),issuedAtTime:Mc(tg(s.iat)),expirationTime:Mc(tg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function tg(t){return Number(t)*1e3}function Zx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ck(n);return s?JSON.parse(s):(wh("Failed to decode base64 JWT payload"),null)}catch(s){return wh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function p1(t){const e=Zx(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&q9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){var f;const e=t.auth,n=await t.getIdToken(),r=await pu(t,yf(e,{idToken:n}));pe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?qk(s.providerUserInfo):[],o=Q9(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Wy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function G9(t){const e=Cn(t);await vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function qk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t,e){const n=await Hk(t,{},async()=>{const r=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Wk(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(c.credentials="include"),Bk.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J9(t,e){return Ol(t,"POST","/v2/accounts:revokeToken",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=p1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Y9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new za;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new K9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pu(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return W9(this,e)}reload(){return G9(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(hs(this.auth));const e=await this.getIdToken();return await pu(this,H9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:S,stsTokenManager:x}=n;pe(f&&x,e,"internal-error");const w=za.fromJSON(this.name,x);pe(typeof f=="string",e,"internal-error"),Bs(r,e.name),Bs(s,e.name),pe(typeof m=="boolean",e,"internal-error"),pe(typeof y=="boolean",e,"internal-error"),Bs(i,e.name),Bs(o,e.name),Bs(l,e.name),Bs(c,e.name),Bs(u,e.name),Bs(h,e.name);const g=new dr({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:h});return S&&Array.isArray(S)&&(g.providerData=S.map(v=>({...v}))),c&&(g._redirectEventId=c),g}static async _fromIdTokenResponse(e,n,r=!1){const s=new za;s.updateFromServerResponse(n);const i=new dr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?qk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new za;l.updateFromIdToken(r);const c=new dr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Wy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new Map;function cs(t){Es(t instanceof Function,"Expected a class definition");let e=g1.get(t);return e?(Es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kk.type="NONE";const y1=Kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e,n){return`firebase:${t}:${e}:${n}`}class Ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_h(this.userKey,s.apiKey,i),this.fullPersistenceKey=_h("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yf(this.auth,{idToken:e}).catch(()=>{});return n?dr._fromGetAccountInfoResponse(this.auth,n,e):null}return dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ba(cs(y1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||cs(y1);const o=_h(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await yf(e,{idToken:h}).catch(()=>{});if(!m)break;f=await dr._fromGetAccountInfoResponse(e,m,h)}else f=dr._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ba(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ba(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zk(e))return"Blackberry";if(eI(e))return"Webos";if(Qk(e))return"Safari";if((e.includes("chrome/")||Yk(e))&&!e.includes("edge/"))return"Chrome";if(Xk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Gk(t=sn()){return/firefox\//i.test(t)}function Qk(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yk(t=sn()){return/crios\//i.test(t)}function Jk(t=sn()){return/iemobile/i.test(t)}function Xk(t=sn()){return/android/i.test(t)}function Zk(t=sn()){return/blackberry/i.test(t)}function eI(t=sn()){return/webos/i.test(t)}function e0(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X9(t=sn()){var e;return e0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Z9(){return mU()&&document.documentMode===10}function tI(t=sn()){return e0(t)||Xk(t)||eI(t)||Zk(t)||/windows phone/i.test(t)||Jk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e=[]){let n;switch(t){case"Browser":n=v1(sn());break;case"Worker":n=`${v1(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e={}){return Ol(t,"GET","/v2/passwordPolicy",Bu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=6;class rz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x1(this),this.idTokenSubscription=new x1(this),this.beforeStateQueue=new ez(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yf(this,{idToken:e}),r=await dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(hs(this));const n=e?Cn(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tz(this),n=new rz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await J9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&M9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Hu(t){return Cn(t)}class x1{constructor(e){this.auth=e,this.observer=null,this.addObserver=bU(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iz(t){t0=t}function oz(t){return t0.loadJS(t)}function az(){return t0.gapiScript}function lz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t,e){const n=Qx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Oo(i,e??{}))return s;bs(s,"already-initialized")}return n.initialize({options:e})}function uz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dz(t,e,n){const r=Hu(t);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=rI(e),{host:o,port:l}=hz(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Oo(u,r.config.emulator)&&Oo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Pl(o)?(Pk(`${i}//${o}${c}`),Rk("Auth",!0)):fz()}function rI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hz(t){const e=rI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:w1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:w1(o)}}}function w1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t,e){return Xx(t,"POST","/v1/accounts:signInWithIdp",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="http://localhost";class Mo extends sI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Mo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ha(e,n)}buildRequest(){const e={requestUri:mz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends iI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Wu{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Wu{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Wu{constructor(){super("twitter.com")}static credential(e,n){return Mo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e){return Xx(t,"POST","/v1/accounts:signUp",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await dr._fromIdTokenResponse(e,r,s),o=_1(r);return new Ss({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_1(r);return new Ss({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t){var s;if(Wn(t.app))return Promise.reject(hs(t));const e=Hu(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Ss({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await pz(e,{returnSecureToken:!0}),r=await Ss._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends Is{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xf(e,n,r,s)}}function oI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(t,i,e,r):i})}async function yz(t,e,n=!1){const r=await pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ss._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(hs(r));const s="reauthenticate";try{const i=await pu(t,oI(r,s,e,t),n);pe(i.idToken,r,"internal-error");const o=Zx(i.idToken);pe(o,r,"internal-error");const{sub:l}=o;return pe(t.uid===l,r,"user-mismatch"),Ss._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&bs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e,n=!1){if(Wn(t.app))return Promise.reject(hs(t));const r="signIn",s=await oI(t,r,e),i=await Ss._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){return Xx(t,"POST","/v1/accounts:signInWithCustomToken",Bu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e){if(Wn(t.app))return Promise.reject(hs(t));const n=Hu(t),r=await wz(n,{token:e,returnSecureToken:!0}),s=await Ss._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}function bz(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function Ez(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function Sz(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=1e3,Nz=10;class lI extends aI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Z9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Nz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lI.type="LOCAL";const jz=lI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends aI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cI.type="SESSION";const uI=cI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await Cz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=n0("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function Iz(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function Az(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Rz(){return dI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebaseLocalStorageDb",Oz=1,_f="firebaseLocalStorage",fI="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Em(t,e){return t.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function Dz(){const t=indexedDB.deleteDatabase(hI);return new qu(t).toPromise()}function qy(){const t=indexedDB.open(hI,Oz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_f,{keyPath:fI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_f)?e(r):(r.close(),await Dz(),e(await qy()))})})}async function b1(t,e,n){const r=Em(t,!0).put({[fI]:e,value:n});return new qu(r).toPromise()}async function Mz(t,e){const n=Em(t,!1).get(e),r=await new qu(n).toPromise();return r===void 0?null:r.value}function E1(t,e){const n=Em(t,!0).delete(e);return new qu(n).toPromise()}const Lz=800,Vz=3;class mI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Vz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(Rz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Az(),!this.activeServiceWorker)return;this.sender=new kz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qy();return await b1(e,wf,"1"),await E1(e,wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Mz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Em(s,!1).getAll();return new qu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mI.type="LOCAL";const Fz=mI;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t,e){return e?cs(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends sI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Uz(t){return xz(t.auth,new r0(t),t.bypassAuthState)}function zz(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),vz(n,new r0(t),t.bypassAuthState)}async function Bz(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),yz(n,new r0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uz;case"linkViaPopup":case"linkViaRedirect":return Bz;case"reauthViaPopup":case"reauthViaRedirect":return zz;default:bs(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=new zu(2e3,1e4);class Aa extends pI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=n0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hz.get())};e()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz="pendingRedirect",bh=new Map;class qz extends pI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await Kz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kz(t,e){const n=Yz(e),r=Qz(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Gz(t,e){bh.set(t._key(),e)}function Qz(t){return cs(t._redirectPersistence)}function Yz(t){return _h(Wz,t.config.apiKey,t.name)}async function Jz(t,e,n=!1){if(Wn(t.app))return Promise.reject(hs(t));const r=Hu(t),s=$z(r,e),o=await new qz(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=10*60*1e3;class Zz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xz&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}}function S1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t,e={}){return Ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r8=/^https?/;async function s8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t8(t);for(const n of e)try{if(i8(n))return}catch{}bs(t,"unauthorized-domain")}function i8(t){const e=Hy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!r8.test(n))return!1;if(n8.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=new zu(3e4,6e4);function T1(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function a8(t){return new Promise((e,n)=>{var s,i,o;function r(){T1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T1(),n(Fr(t,"network-request-failed"))},timeout:o8.get()})}if((i=(s=$r().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=$r().gapi)!=null&&o.load)r();else{const l=lz("iframefcb");return $r()[l]=()=>{gapi.load?r():n(Fr(t,"network-request-failed"))},oz(`${az()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function l8(t){return Eh=Eh||a8(t),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new zu(5e3,15e3),u8="__/auth/iframe",d8="emulator/auth/iframe",h8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m8(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jx(e,d8):`https://${t.config.authDomain}/${u8}`,r={apiKey:e.apiKey,appName:t.name,v:Rl},s=f8.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Uu(r).slice(1)}`}async function p8(t){const e=await l8(t),n=$r().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:m8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h8,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Fr(t,"network-request-failed"),l=$r().setTimeout(()=>{i(o)},c8.get());function c(){$r().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y8=500,v8=600,x8="_blank",w8="http://localhost";class N1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _8(t,e,n,r=y8,s=v8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...g8,width:r.toString(),height:s.toString(),top:i,left:o},u=sn().toLowerCase();n&&(l=Yk(u)?x8:n),Gk(u)&&(e=e||w8,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(X9(u)&&l!=="_self")return b8(e||"",l),new N1(null);const f=window.open(e||"",l,h);pe(f,t,"popup-blocked");try{f.focus()}catch{}return new N1(f)}function b8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="__/auth/handler",S8="emulator/auth/handler",T8=encodeURIComponent("fac");async function j1(t,e,n,r,s,i){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rl,eventId:s};if(e instanceof iI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_U(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Wu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${T8}=${encodeURIComponent(c)}`:"";return`${N8(t)}?${Uu(l).slice(1)}${u}`}function N8({config:t}){return t.emulator?Jx(t,S8):`https://${t.authDomain}/${E8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class j8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=Jz,this._overrideRedirectResult=Gz}async _openPopup(e,n,r,s){var o;Es((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await j1(e,n,r,Hy(),s);return _8(e,i,n0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await j1(e,n,r,Hy(),s);return Iz(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Es(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await p8(e),r=new Zz(e);return n.register("authEvent",s=>(pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[ng];i!==void 0&&n(!!i),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tI()||Qk()||e0()}}const C8=j8;var C1="@firebase/auth",k1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A8(t){dl(new Do("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nI(t)},u=new sz(r,s,i,c);return uz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dl(new Do("auth-internal",e=>{const n=Hu(e.getProvider("auth").getImmediate());return(r=>new k8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(C1,k1,I8(t)),Ti(C1,k1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=5*60,R8=Ak("authIdTokenMaxAge")||P8;let I1=null;const O8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R8)return;const s=n==null?void 0:n.token;I1!==s&&(I1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function D8(t=Lk()){const e=Qx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cz(t,{popupRedirectResolver:C8,persistence:[Fz,jz,uI]}),r=Ak("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=O8(i.toString());Ez(n,o,()=>o(n.currentUser)),bz(n,l=>o(l))}}const s=kk("auth");return s&&dz(n,`http://${s}`),n}function M8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}iz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",M8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A8("Browser");var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,yI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function j(){}j.prototype=T.prototype,N.F=T.prototype,N.prototype=new j,N.prototype.constructor=N,N.D=function(A,P,O){for(var I=Array(arguments.length-2),M=2;M<arguments.length;M++)I[M-2]=arguments[M];return T.prototype[P].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,T,j){j||(j=0);const A=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)A[P]=T.charCodeAt(j++)|T.charCodeAt(j++)<<8|T.charCodeAt(j++)<<16|T.charCodeAt(j++)<<24;else for(P=0;P<16;++P)A[P]=T[j++]|T[j++]<<8|T[j++]<<16|T[j++]<<24;T=N.g[0],j=N.g[1],P=N.g[2];let O=N.g[3],I;I=T+(O^j&(P^O))+A[0]+3614090360&4294967295,T=j+(I<<7&4294967295|I>>>25),I=O+(P^T&(j^P))+A[1]+3905402710&4294967295,O=T+(I<<12&4294967295|I>>>20),I=P+(j^O&(T^j))+A[2]+606105819&4294967295,P=O+(I<<17&4294967295|I>>>15),I=j+(T^P&(O^T))+A[3]+3250441966&4294967295,j=P+(I<<22&4294967295|I>>>10),I=T+(O^j&(P^O))+A[4]+4118548399&4294967295,T=j+(I<<7&4294967295|I>>>25),I=O+(P^T&(j^P))+A[5]+1200080426&4294967295,O=T+(I<<12&4294967295|I>>>20),I=P+(j^O&(T^j))+A[6]+2821735955&4294967295,P=O+(I<<17&4294967295|I>>>15),I=j+(T^P&(O^T))+A[7]+4249261313&4294967295,j=P+(I<<22&4294967295|I>>>10),I=T+(O^j&(P^O))+A[8]+1770035416&4294967295,T=j+(I<<7&4294967295|I>>>25),I=O+(P^T&(j^P))+A[9]+2336552879&4294967295,O=T+(I<<12&4294967295|I>>>20),I=P+(j^O&(T^j))+A[10]+4294925233&4294967295,P=O+(I<<17&4294967295|I>>>15),I=j+(T^P&(O^T))+A[11]+2304563134&4294967295,j=P+(I<<22&4294967295|I>>>10),I=T+(O^j&(P^O))+A[12]+1804603682&4294967295,T=j+(I<<7&4294967295|I>>>25),I=O+(P^T&(j^P))+A[13]+4254626195&4294967295,O=T+(I<<12&4294967295|I>>>20),I=P+(j^O&(T^j))+A[14]+2792965006&4294967295,P=O+(I<<17&4294967295|I>>>15),I=j+(T^P&(O^T))+A[15]+1236535329&4294967295,j=P+(I<<22&4294967295|I>>>10),I=T+(P^O&(j^P))+A[1]+4129170786&4294967295,T=j+(I<<5&4294967295|I>>>27),I=O+(j^P&(T^j))+A[6]+3225465664&4294967295,O=T+(I<<9&4294967295|I>>>23),I=P+(T^j&(O^T))+A[11]+643717713&4294967295,P=O+(I<<14&4294967295|I>>>18),I=j+(O^T&(P^O))+A[0]+3921069994&4294967295,j=P+(I<<20&4294967295|I>>>12),I=T+(P^O&(j^P))+A[5]+3593408605&4294967295,T=j+(I<<5&4294967295|I>>>27),I=O+(j^P&(T^j))+A[10]+38016083&4294967295,O=T+(I<<9&4294967295|I>>>23),I=P+(T^j&(O^T))+A[15]+3634488961&4294967295,P=O+(I<<14&4294967295|I>>>18),I=j+(O^T&(P^O))+A[4]+3889429448&4294967295,j=P+(I<<20&4294967295|I>>>12),I=T+(P^O&(j^P))+A[9]+568446438&4294967295,T=j+(I<<5&4294967295|I>>>27),I=O+(j^P&(T^j))+A[14]+3275163606&4294967295,O=T+(I<<9&4294967295|I>>>23),I=P+(T^j&(O^T))+A[3]+4107603335&4294967295,P=O+(I<<14&4294967295|I>>>18),I=j+(O^T&(P^O))+A[8]+1163531501&4294967295,j=P+(I<<20&4294967295|I>>>12),I=T+(P^O&(j^P))+A[13]+2850285829&4294967295,T=j+(I<<5&4294967295|I>>>27),I=O+(j^P&(T^j))+A[2]+4243563512&4294967295,O=T+(I<<9&4294967295|I>>>23),I=P+(T^j&(O^T))+A[7]+1735328473&4294967295,P=O+(I<<14&4294967295|I>>>18),I=j+(O^T&(P^O))+A[12]+2368359562&4294967295,j=P+(I<<20&4294967295|I>>>12),I=T+(j^P^O)+A[5]+4294588738&4294967295,T=j+(I<<4&4294967295|I>>>28),I=O+(T^j^P)+A[8]+2272392833&4294967295,O=T+(I<<11&4294967295|I>>>21),I=P+(O^T^j)+A[11]+1839030562&4294967295,P=O+(I<<16&4294967295|I>>>16),I=j+(P^O^T)+A[14]+4259657740&4294967295,j=P+(I<<23&4294967295|I>>>9),I=T+(j^P^O)+A[1]+2763975236&4294967295,T=j+(I<<4&4294967295|I>>>28),I=O+(T^j^P)+A[4]+1272893353&4294967295,O=T+(I<<11&4294967295|I>>>21),I=P+(O^T^j)+A[7]+4139469664&4294967295,P=O+(I<<16&4294967295|I>>>16),I=j+(P^O^T)+A[10]+3200236656&4294967295,j=P+(I<<23&4294967295|I>>>9),I=T+(j^P^O)+A[13]+681279174&4294967295,T=j+(I<<4&4294967295|I>>>28),I=O+(T^j^P)+A[0]+3936430074&4294967295,O=T+(I<<11&4294967295|I>>>21),I=P+(O^T^j)+A[3]+3572445317&4294967295,P=O+(I<<16&4294967295|I>>>16),I=j+(P^O^T)+A[6]+76029189&4294967295,j=P+(I<<23&4294967295|I>>>9),I=T+(j^P^O)+A[9]+3654602809&4294967295,T=j+(I<<4&4294967295|I>>>28),I=O+(T^j^P)+A[12]+3873151461&4294967295,O=T+(I<<11&4294967295|I>>>21),I=P+(O^T^j)+A[15]+530742520&4294967295,P=O+(I<<16&4294967295|I>>>16),I=j+(P^O^T)+A[2]+3299628645&4294967295,j=P+(I<<23&4294967295|I>>>9),I=T+(P^(j|~O))+A[0]+4096336452&4294967295,T=j+(I<<6&4294967295|I>>>26),I=O+(j^(T|~P))+A[7]+1126891415&4294967295,O=T+(I<<10&4294967295|I>>>22),I=P+(T^(O|~j))+A[14]+2878612391&4294967295,P=O+(I<<15&4294967295|I>>>17),I=j+(O^(P|~T))+A[5]+4237533241&4294967295,j=P+(I<<21&4294967295|I>>>11),I=T+(P^(j|~O))+A[12]+1700485571&4294967295,T=j+(I<<6&4294967295|I>>>26),I=O+(j^(T|~P))+A[3]+2399980690&4294967295,O=T+(I<<10&4294967295|I>>>22),I=P+(T^(O|~j))+A[10]+4293915773&4294967295,P=O+(I<<15&4294967295|I>>>17),I=j+(O^(P|~T))+A[1]+2240044497&4294967295,j=P+(I<<21&4294967295|I>>>11),I=T+(P^(j|~O))+A[8]+1873313359&4294967295,T=j+(I<<6&4294967295|I>>>26),I=O+(j^(T|~P))+A[15]+4264355552&4294967295,O=T+(I<<10&4294967295|I>>>22),I=P+(T^(O|~j))+A[6]+2734768916&4294967295,P=O+(I<<15&4294967295|I>>>17),I=j+(O^(P|~T))+A[13]+1309151649&4294967295,j=P+(I<<21&4294967295|I>>>11),I=T+(P^(j|~O))+A[4]+4149444226&4294967295,T=j+(I<<6&4294967295|I>>>26),I=O+(j^(T|~P))+A[11]+3174756917&4294967295,O=T+(I<<10&4294967295|I>>>22),I=P+(T^(O|~j))+A[2]+718787259&4294967295,P=O+(I<<15&4294967295|I>>>17),I=j+(O^(P|~T))+A[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+O&4294967295}r.prototype.v=function(N,T){T===void 0&&(T=N.length);const j=T-this.blockSize,A=this.C;let P=this.h,O=0;for(;O<T;){if(P==0)for(;O<=j;)s(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<T;)if(A[P++]=N.charCodeAt(O++),P==this.blockSize){s(this,A),P=0;break}}else for(;O<T;)if(A[P++]=N[O++],P==this.blockSize){s(this,A),P=0;break}}this.h=P,this.o+=T},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;T=this.o*8;for(var j=N.length-8;j<N.length;++j)N[j]=T&255,T/=256;for(this.v(N),N=Array(16),T=0,j=0;j<4;++j)for(let A=0;A<32;A+=8)N[T++]=this.g[j]>>>A&255;return N};function i(N,T){var j=l;return Object.prototype.hasOwnProperty.call(j,N)?j[N]:j[N]=T(N)}function o(N,T){this.h=T;const j=[];let A=!0;for(let P=N.length-1;P>=0;P--){const O=N[P]|0;A&&O==T||(j[P]=O,A=!1)}this.g=j}var l={};function c(N){return-128<=N&&N<128?i(N,function(T){return new o([T|0],T<0?-1:0)}):new o([N|0],N<0?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return f;if(N<0)return w(u(-N));const T=[];let j=1;for(let A=0;N>=j;A++)T[A]=N/j|0,j*=4294967296;return new o(T,0)}function h(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return w(h(N.substring(1),T));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=u(Math.pow(T,8));let A=f;for(let O=0;O<N.length;O+=8){var P=Math.min(8,N.length-O);const I=parseInt(N.substring(O,O+P),T);P<8?(P=u(Math.pow(T,P)),A=A.j(P).add(u(I))):(A=A.j(j),A=A.add(u(I)))}return A}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-w(this).m();let N=0,T=1;for(let j=0;j<this.g.length;j++){const A=this.i(j);N+=(A>=0?A:4294967296+A)*T,T*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(x(this))return"-"+w(this).toString(N);const T=u(Math.pow(N,6));var j=this;let A="";for(;;){const P=k(j,T).g;j=g(j,P.j(T));let O=((j.g.length>0?j.g[0]:j.h)>>>0).toString(N);if(j=P,S(j))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function x(N){return N.h==-1}t.l=function(N){return N=g(this,N),x(N)?-1:S(N)?0:1};function w(N){const T=N.g.length,j=[];for(let A=0;A<T;A++)j[A]=~N.g[A];return new o(j,~N.h).add(m)}t.abs=function(){return x(this)?w(this):this},t.add=function(N){const T=Math.max(this.g.length,N.g.length),j=[];let A=0;for(let P=0;P<=T;P++){let O=A+(this.i(P)&65535)+(N.i(P)&65535),I=(O>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);A=I>>>16,O&=65535,I&=65535,j[P]=I<<16|O}return new o(j,j[j.length-1]&-2147483648?-1:0)};function g(N,T){return N.add(w(T))}t.j=function(N){if(S(this)||S(N))return f;if(x(this))return x(N)?w(this).j(w(N)):w(w(this).j(N));if(x(N))return w(this.j(w(N)));if(this.l(y)<0&&N.l(y)<0)return u(this.m()*N.m());const T=this.g.length+N.g.length,j=[];for(var A=0;A<2*T;A++)j[A]=0;for(A=0;A<this.g.length;A++)for(let P=0;P<N.g.length;P++){const O=this.i(A)>>>16,I=this.i(A)&65535,M=N.i(P)>>>16,V=N.i(P)&65535;j[2*A+2*P]+=I*V,v(j,2*A+2*P),j[2*A+2*P+1]+=O*V,v(j,2*A+2*P+1),j[2*A+2*P+1]+=I*M,v(j,2*A+2*P+1),j[2*A+2*P+2]+=O*M,v(j,2*A+2*P+2)}for(N=0;N<T;N++)j[N]=j[2*N+1]<<16|j[2*N];for(N=T;N<2*T;N++)j[N]=0;return new o(j,0)};function v(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function b(N,T){this.g=N,this.h=T}function k(N,T){if(S(T))throw Error("division by zero");if(S(N))return new b(f,f);if(x(N))return T=k(w(N),T),new b(w(T.g),w(T.h));if(x(T))return T=k(N,w(T)),new b(w(T.g),T.h);if(N.g.length>30){if(x(N)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var j=m,A=T;A.l(N)<=0;)j=R(j),A=R(A);var P=D(j,1),O=D(A,1);for(A=D(A,2),j=D(j,2);!S(A);){var I=O.add(A);I.l(N)<=0&&(P=P.add(j),O=I),A=D(A,1),j=D(j,1)}return T=g(N,P.j(T)),new b(P,T)}for(P=f;N.l(T)>=0;){for(j=Math.max(1,Math.floor(N.m()/T.m())),A=Math.ceil(Math.log(j)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=u(j),I=O.j(T);x(I)||I.l(N)>0;)j-=A,O=u(j),I=O.j(T);S(O)&&(O=m),P=P.add(O),N=g(N,I)}return new b(P,N)}t.B=function(N){return k(this,N).h},t.and=function(N){const T=Math.max(this.g.length,N.g.length),j=[];for(let A=0;A<T;A++)j[A]=this.i(A)&N.i(A);return new o(j,this.h&N.h)},t.or=function(N){const T=Math.max(this.g.length,N.g.length),j=[];for(let A=0;A<T;A++)j[A]=this.i(A)|N.i(A);return new o(j,this.h|N.h)},t.xor=function(N){const T=Math.max(this.g.length,N.g.length),j=[];for(let A=0;A<T;A++)j[A]=this.i(A)^N.i(A);return new o(j,this.h^N.h)};function R(N){const T=N.g.length+1,j=[];for(let A=0;A<T;A++)j[A]=N.i(A)<<1|N.i(A-1)>>>31;return new o(j,N.h)}function D(N,T){const j=T>>5;T%=32;const A=N.g.length-j,P=[];for(let O=0;O<A;O++)P[O]=T>0?N.i(O+j)>>>T|N.i(O+j+1)<<32-T:N.i(O+j);return new o(P,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,yI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ni=o}).apply(typeof A1<"u"?A1:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vI,yc,xI,Sh,Ky,wI,_I,bI;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var p=0;p<d.length;++p){var E=d[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,p){if(p)e:{var E=r;d=d.split(".");for(var C=0;C<d.length-1;C++){var F=d[C];if(!(F in E))break e;E=E[F]}d=d[d.length-1],C=E[d],p=p(C),p!=C&&p!=null&&e(E,d,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(p){var E=[],C;for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&E.push([C,p[C]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function c(d,p,E){return d.call.apply(d.bind,arguments)}function u(d,p,E){return u=c,u.apply(null,arguments)}function h(d,p){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function f(d,p){function E(){}E.prototype=p.prototype,d.Z=p.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(C,F,$){for(var X=Array(arguments.length-2),be=2;be<arguments.length;be++)X[be-2]=arguments[be];return p.prototype[F].apply(C,X)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function y(d){const p=d.length;if(p>0){const E=Array(p);for(let C=0;C<p;C++)E[C]=d[C];return E}return[]}function S(d,p){for(let C=1;C<arguments.length;C++){const F=arguments[C];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=d.length||0;const $=F.length||0;d.length=E+$;for(let X=0;X<$;X++)d[E+X]=F[X]}else d.push(F)}}class x{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(d){o.setTimeout(()=>{throw d},0)}function g(){var d=N;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class v{constructor(){this.h=this.g=null}add(p,E){const C=b.get();C.set(p,E),this.h?this.h.next=C:this.g=C,this.h=C}}var b=new x(()=>new k,d=>d.reset());class k{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let R,D=!1,N=new v,T=()=>{const d=Promise.resolve(void 0);R=()=>{d.then(j)}};function j(){for(var d;d=g();){try{d.h.call(d.g)}catch(E){w(E)}var p=b;p.j(d),p.h<100&&(p.h++,d.next=p.g,p.g=d)}D=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};o.addEventListener("test",E,p),o.removeEventListener("test",E,p)}catch{}return d}();function I(d){return/^[\s\xa0]*$/.test(d)}function M(d,p){P.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,p)}f(M,P),M.prototype.init=function(d,p){const E=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget,p||(E=="mouseover"?p=d.fromElement:E=="mouseout"&&(p=d.toElement)),this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var V="closure_listenable_"+(Math.random()*1e6|0),B=0;function ee(d,p,E,C,F){this.listener=d,this.proxy=null,this.src=p,this.type=E,this.capture=!!C,this.ha=F,this.key=++B,this.da=this.fa=!1}function L(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Q(d,p,E){for(const C in d)p.call(E,d[C],C,d)}function te(d,p){for(const E in d)p.call(void 0,d[E],E,d)}function he(d){const p={};for(const E in d)p[E]=d[E];return p}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,p){let E,C;for(let F=1;F<arguments.length;F++){C=arguments[F];for(E in C)d[E]=C[E];for(let $=0;$<we.length;$++)E=we[$],Object.prototype.hasOwnProperty.call(C,E)&&(d[E]=C[E])}}function G(d){this.src=d,this.g={},this.h=0}G.prototype.add=function(d,p,E,C,F){const $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);const X=de(d,p,C,F);return X>-1?(p=d[X],E||(p.fa=!1)):(p=new ee(p,this.src,$,!!C,F),p.fa=E,d.push(p)),p};function le(d,p){const E=p.type;if(E in d.g){var C=d.g[E],F=Array.prototype.indexOf.call(C,p,void 0),$;($=F>=0)&&Array.prototype.splice.call(C,F,1),$&&(L(p),d.g[E].length==0&&(delete d.g[E],d.h--))}}function de(d,p,E,C){for(let F=0;F<d.length;++F){const $=d[F];if(!$.da&&$.listener==p&&$.capture==!!E&&$.ha==C)return F}return-1}var Y="closure_lm_"+(Math.random()*1e6|0),se={};function Me(d,p,E,C,F){if(Array.isArray(p)){for(let $=0;$<p.length;$++)Me(d,p[$],E,C,F);return null}return E=qi(E),d&&d[V]?d.J(p,E,l(C)?!!C.capture:!1,F):Te(d,p,E,!1,C,F)}function Te(d,p,E,C,F,$){if(!p)throw Error("Invalid event type");const X=l(F)?!!F.capture:!!F;let be=Un(d);if(be||(d[Y]=be=new G(d)),E=be.add(p,E,C,X,$),E.proxy)return E;if(C=Ee(),E.proxy=C,C.src=d,C.listener=E,d.addEventListener)O||(F=X),F===void 0&&(F=!1),d.addEventListener(p.toString(),C,F);else if(d.attachEvent)d.attachEvent(Ft(p.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ee(){function d(E){return p.call(d.src,d.listener,E)}const p=Gr;return d}function xe(d,p,E,C,F){if(Array.isArray(p))for(var $=0;$<p.length;$++)xe(d,p[$],E,C,F);else C=l(C)?!!C.capture:!!C,E=qi(E),d&&d[V]?(d=d.i,$=String(p).toString(),$ in d.g&&(p=d.g[$],E=de(p,E,C,F),E>-1&&(L(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete d.g[$],d.h--)))):d&&(d=Un(d))&&(p=d.g[p.toString()],d=-1,p&&(d=de(p,E,C,F)),(E=d>-1?p[d]:null)&&wt(E))}function wt(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[V])le(p.i,d);else{var E=d.type,C=d.proxy;p.removeEventListener?p.removeEventListener(E,C,d.capture):p.detachEvent?p.detachEvent(Ft(E),C):p.addListener&&p.removeListener&&p.removeListener(C),(E=Un(p))?(le(E,d),E.h==0&&(E.src=null,p[Y]=null)):L(d)}}}function Ft(d){return d in se?se[d]:se[d]="on"+d}function Gr(d,p){if(d.da)d=!0;else{p=new M(p,this);const E=d.listener,C=d.ha||d.src;d.fa&&wt(d),d=E.call(C,p)}return d}function Un(d){return d=d[Y],d instanceof G?d:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function qi(d){return typeof d=="function"?d:(d[on]||(d[on]=function(p){return d.handleEvent(p)}),d[on])}function Le(){A.call(this),this.i=new G(this),this.M=this,this.G=null}f(Le,A),Le.prototype[V]=!0,Le.prototype.removeEventListener=function(d,p,E,C){xe(this,d,p,E,C)};function $t(d,p){var E,C=d.G;if(C)for(E=[];C;C=C.G)E.push(C);if(d=d.M,C=p.type||p,typeof p=="string")p=new P(p,d);else if(p instanceof P)p.target=p.target||d;else{var F=p;p=new P(C,d),U(p,F)}F=!0;let $,X;if(E)for(X=E.length-1;X>=0;X--)$=p.g=E[X],F=Jo($,C,!0,p)&&F;if($=p.g=d,F=Jo($,C,!0,p)&&F,F=Jo($,C,!1,p)&&F,E)for(X=0;X<E.length;X++)$=p.g=E[X],F=Jo($,C,!1,p)&&F}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var d=this.i;for(const p in d.g){const E=d.g[p];for(let C=0;C<E.length;C++)L(E[C]);delete d.g[p],d.h--}}this.G=null},Le.prototype.J=function(d,p,E,C){return this.i.add(String(d),p,!1,E,C)},Le.prototype.K=function(d,p,E,C){return this.i.add(String(d),p,!0,E,C)};function Jo(d,p,E,C){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();let F=!0;for(let $=0;$<p.length;++$){const X=p[$];if(X&&!X.da&&X.capture==E){const be=X.listener,bt=X.ha||X.src;X.fa&&le(d.i,X),F=be.call(bt,C)!==!1&&F}}return F&&!C.defaultPrevented}function an(d,p){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(d,p||0)}function Qr(d){d.g=an(()=>{d.g=null,d.i&&(d.i=!1,Qr(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}class Fm extends A{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(d){A.call(this),this.h=d,this.g={}}f(Ki,A);var Gi=[];function ed(d){Q(d.g,function(p,E){this.g.hasOwnProperty(E)&&wt(p)},d),d.g={}}Ki.prototype.N=function(){Ki.Z.N.call(this),ed(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=o.JSON.stringify,$l=o.JSON.parse,As=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function Ul(){}function Yr(){}var Qi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zl(){P.call(this,"d")}f(zl,P);function Zo(){P.call(this,"c")}f(Zo,P);var _r={},td=null;function Ps(){return td=td||new Le}_r.Ia="serverreachability";function Zn(d){P.call(this,_r.Ia,d)}f(Zn,P);function Yi(d){const p=Ps();$t(p,new Zn(p))}_r.STAT_EVENT="statevent";function nd(d,p){P.call(this,_r.STAT_EVENT,d),this.stat=p}f(nd,P);function It(d){const p=Ps();$t(p,new nd(p,d))}_r.Ja="timingevent";function Bl(d,p){P.call(this,_r.Ja,d),this.size=p}f(Bl,P);function me(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},p)}function Xe(){this.g=!0}Xe.prototype.ua=function(){this.g=!1};function At(d,p,E,C,F,$){d.info(function(){if(d.g)if($){var X="",be=$.split("&");for(let Ue=0;Ue<be.length;Ue++){var bt=be[Ue].split("=");if(bt.length>1){const Pt=bt[0];bt=bt[1];const Er=Pt.split("_");X=Er.length>=2&&Er[1]=="type"?X+(Pt+"="+bt+"&"):X+(Pt+"=redacted&")}}}else X=null;else X=$;return"XMLHTTP REQ ("+C+") [attempt "+F+"]: "+p+`
`+E+`
`+X})}function ln(d,p,E,C,F,$,X){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+F+"]: "+p+`
`+E+`
`+$+" "+X})}function er(d,p,E,C){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+gn(d,E)+(C?" "+C:"")})}function _t(d,p){d.info(function(){return"TIMEOUT: "+p})}Xe.prototype.info=function(){};function gn(d,p){if(!d.g)return p;if(!p)return null;try{const $=JSON.parse(p);if($){for(d=0;d<$.length;d++)if(Array.isArray($[d])){var E=$[d];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var F=C[0];if(F!="noop"&&F!="stop"&&F!="close")for(let X=1;X<C.length;X++)C[X]=""}}}}return Xo($)}catch{return p}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vn;function ea(){}f(ea,Ul),ea.prototype.g=function(){return new XMLHttpRequest},vn=new ea;function kn(d){return encodeURIComponent(String(d))}function B0(d){var p=1;d=d.split(":");const E=[];for(;p>0&&d.length;)E.push(d.shift()),p--;return d.length&&E.push(d.join(":")),E}function Rs(d,p,E,C){this.j=d,this.i=p,this.l=E,this.S=C||1,this.V=new Ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new H0}function H0(){this.i=null,this.g="",this.h=!1}var W0={},$m={};function Um(d,p,E){d.M=1,d.A=sd(br(p)),d.u=E,d.R=!0,q0(d,null)}function q0(d,p){d.F=Date.now(),rd(d),d.B=br(d.A);var E=d.B,C=d.S;Array.isArray(C)||(C=[String(C)]),iw(E.i,"t",C),d.C=0,E=d.j.L,d.h=new H0,d.g=Ew(d.j,E?p:null,!d.u),d.P>0&&(d.O=new Fm(u(d.Y,d,d.g),d.P)),p=d.V,E=d.g,C=d.ba;var F="readystatechange";Array.isArray(F)||(F&&(Gi[0]=F.toString()),F=Gi);for(let $=0;$<F.length;$++){const X=Me(E,F[$],C||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=d.J?he(d.J):{},d.u?(d.v||(d.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,p)):(d.v="GET",d.g.ea(d.B,d.v,null,p)),Yi(),At(d.i,d.v,d.B,d.l,d.S,d.u)}Rs.prototype.ba=function(d){d=d.target;const p=this.O;p&&Ms(d)==3?p.j():this.Y(d)},Rs.prototype.Y=function(d){try{if(d==this.g)e:{const be=Ms(this.g),bt=this.g.ya(),Ue=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||hw(this.g)))){this.K||be!=4||bt==7||(bt==8||Ue<=0?Yi(3):Yi(2)),zm(this);var p=this.g.ca();this.X=p;var E=e2(this);if(this.o=p==200,ln(this.i,this.v,this.B,this.l,this.S,be,p),this.o){if(this.U&&!this.L){t:{if(this.g){var C,F=this.g;if((C=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(C)){var $=C;break t}}$=null}if(d=$)er(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bm(this,d);else{this.o=!1,this.m=3,It(12),Ji(this),Hl(this);break e}}if(this.R){d=!0;let Pt;for(;!this.K&&this.C<E.length;)if(Pt=t2(this,E),Pt==$m){be==4&&(this.m=4,It(14),d=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==W0){this.m=4,It(15),er(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else er(this.i,this.l,Pt,null),Bm(this,Pt);if(K0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||E.length!=0||this.h.h||(this.m=1,It(16),d=!1),this.o=this.o&&d,!d)er(this.i,this.l,E,"[Invalid Chunked Response]"),Ji(this),Hl(this);else if(E.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jm(X),X.P=!0,It(11))}}else er(this.i,this.l,E,null),Bm(this,E);be==4&&Ji(this),this.o&&!this.K&&(be==4?xw(this.j,this):(this.o=!1,rd(this)))}else p2(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Ji(this),Hl(this)}}}catch{}finally{}};function e2(d){if(!K0(d))return d.g.la();const p=hw(d.g);if(p==="")return"";let E="";const C=p.length,F=Ms(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ji(d),Hl(d),"";d.h.i=new o.TextDecoder}for(let $=0;$<C;$++)d.h.h=!0,E+=d.h.i.decode(p[$],{stream:!(F&&$==C-1)});return p.length=0,d.h.g+=E,d.C=0,d.h.g}function K0(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function t2(d,p){var E=d.C,C=p.indexOf(`
`,E);return C==-1?$m:(E=Number(p.substring(E,C)),isNaN(E)?W0:(C+=1,C+E>p.length?$m:(p=p.slice(C,C+E),d.C=C+E,p)))}Rs.prototype.cancel=function(){this.K=!0,Ji(this)};function rd(d){d.T=Date.now()+d.H,G0(d,d.H)}function G0(d,p){if(d.D!=null)throw Error("WatchDog timer not null");d.D=me(u(d.aa,d),p)}function zm(d){d.D&&(o.clearTimeout(d.D),d.D=null)}Rs.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(_t(this.i,this.B),this.M!=2&&(Yi(),It(17)),Ji(this),this.m=2,Hl(this)):G0(this,this.T-d)};function Hl(d){d.j.I==0||d.K||xw(d.j,d)}function Ji(d){zm(d);var p=d.O;p&&typeof p.dispose=="function"&&p.dispose(),d.O=null,ed(d.V),d.g&&(p=d.g,d.g=null,p.abort(),p.dispose())}function Bm(d,p){try{var E=d.j;if(E.I!=0&&(E.g==d||Hm(E.h,d))){if(!d.L&&Hm(E.h,d)&&E.I==3){try{var C=E.Ba.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var F=C;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)cd(E),ad(E);else break e;Ym(E),It(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=me(u(E.Va,E),6e3));J0(E.h)<=1&&E.ta&&(E.ta=void 0)}else Zi(E,11)}else if((d.L||E.g==d)&&cd(E),!I(p))for(F=E.Ba.g.parse(p),p=0;p<F.length;p++){let Ue=F[p];const Pt=Ue[0];if(!(Pt<=E.K))if(E.K=Pt,Ue=Ue[1],E.I==2)if(Ue[0]=="c"){E.M=Ue[1],E.ba=Ue[2];const Er=Ue[3];Er!=null&&(E.ka=Er,E.j.info("VER="+E.ka));const eo=Ue[4];eo!=null&&(E.za=eo,E.j.info("SVER="+E.za));const Ls=Ue[5];Ls!=null&&typeof Ls=="number"&&Ls>0&&(C=1.5*Ls,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Vs=d.g;if(Vs){const dd=Vs.g?Vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dd){var $=C.h;$.g||dd.indexOf("spdy")==-1&&dd.indexOf("quic")==-1&&dd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Wm($,$.h),$.h=null))}if(C.G){const Xm=Vs.g?Vs.g.getResponseHeader("X-HTTP-Session-Id"):null;Xm&&(C.wa=Xm,Ge(C.J,C.G,Xm))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var X=d;if(C.na=bw(C,C.L?C.ba:null,C.W),X.L){X0(C.h,X);var be=X,bt=C.O;bt&&(be.H=bt),be.D&&(zm(be),rd(be)),C.g=X}else yw(C);E.i.length>0&&ld(E)}else Ue[0]!="stop"&&Ue[0]!="close"||Zi(E,7);else E.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Zi(E,7):Qm(E):Ue[0]!="noop"&&E.l&&E.l.qa(Ue),E.A=0)}}Yi(4)}catch{}}var n2=class{constructor(d,p){this.g=d,this.map=p}};function Q0(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Y0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function J0(d){return d.h?1:d.g?d.g.size:0}function Hm(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function Wm(d,p){d.g?d.g.add(p):d.h=p}function X0(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}Q0.prototype.cancel=function(){if(this.i=Z0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Z0(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let p=d.i;for(const E of d.g.values())p=p.concat(E.G);return p}return y(d.i)}var ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function r2(d,p){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const C=d[E].indexOf("=");let F,$=null;C>=0?(F=d[E].substring(0,C),$=d[E].substring(C+1)):F=d[E],p(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Os(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;d instanceof Os?(this.l=d.l,Wl(this,d.j),this.o=d.o,this.g=d.g,ql(this,d.u),this.h=d.h,qm(this,ow(d.i)),this.m=d.m):d&&(p=String(d).match(ew))?(this.l=!1,Wl(this,p[1]||"",!0),this.o=Kl(p[2]||""),this.g=Kl(p[3]||"",!0),ql(this,p[4]),this.h=Kl(p[5]||"",!0),qm(this,p[6]||"",!0),this.m=Kl(p[7]||"")):(this.l=!1,this.i=new Ql(null,this.l))}Os.prototype.toString=function(){const d=[];var p=this.j;p&&d.push(Gl(p,tw,!0),":");var E=this.g;return(E||p=="file")&&(d.push("//"),(p=this.o)&&d.push(Gl(p,tw,!0),"@"),d.push(kn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Gl(E,E.charAt(0)=="/"?o2:i2,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Gl(E,l2)),d.join("")},Os.prototype.resolve=function(d){const p=br(this);let E=!!d.j;E?Wl(p,d.j):E=!!d.o,E?p.o=d.o:E=!!d.g,E?p.g=d.g:E=d.u!=null;var C=d.h;if(E)ql(p,d.u);else if(E=!!d.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var F=p.h.lastIndexOf("/");F!=-1&&(C=p.h.slice(0,F+1)+C)}if(F=C,F==".."||F==".")C="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){C=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let X=0;X<F.length;){const be=F[X++];be=="."?C&&X==F.length&&$.push(""):be==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),C&&X==F.length&&$.push("")):($.push(be),C=!0)}C=$.join("/")}else C=F}return E?p.h=C:E=d.i.toString()!=="",E?qm(p,ow(d.i)):E=!!d.m,E&&(p.m=d.m),p};function br(d){return new Os(d)}function Wl(d,p,E){d.j=E?Kl(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function ql(d,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);d.u=p}else d.u=null}function qm(d,p,E){p instanceof Ql?(d.i=p,c2(d.i,d.l)):(E||(p=Gl(p,a2)),d.i=new Ql(p,d.l))}function Ge(d,p,E){d.i.set(p,E)}function sd(d){return Ge(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Kl(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gl(d,p,E){return typeof d=="string"?(d=encodeURI(d).replace(p,s2),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function s2(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var tw=/[#\/\?@]/g,i2=/[#\?:]/g,o2=/[#\?]/g,a2=/[#\?@]/g,l2=/#/g;function Ql(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function Xi(d){d.g||(d.g=new Map,d.h=0,d.i&&r2(d.i,function(p,E){d.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}t=Ql.prototype,t.add=function(d,p){Xi(this),this.i=null,d=ta(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(p),this.h+=1,this};function nw(d,p){Xi(d),p=ta(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function rw(d,p){return Xi(d),p=ta(d,p),d.g.has(p)}t.forEach=function(d,p){Xi(this),this.g.forEach(function(E,C){E.forEach(function(F){d.call(p,F,C,this)},this)},this)};function sw(d,p){Xi(d);let E=[];if(typeof p=="string")rw(d,p)&&(E=E.concat(d.g.get(ta(d,p))));else for(d=Array.from(d.g.values()),p=0;p<d.length;p++)E=E.concat(d[p]);return E}t.set=function(d,p){return Xi(this),this.i=null,d=ta(this,d),rw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=sw(this,d),d.length>0?String(d[0]):p):p};function iw(d,p,E){nw(d,p),E.length>0&&(d.i=null,d.g.set(ta(d,p),y(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(let C=0;C<p.length;C++){var E=p[C];const F=kn(E);E=sw(this,E);for(let $=0;$<E.length;$++){let X=F;E[$]!==""&&(X+="="+kn(E[$])),d.push(X)}}return this.i=d.join("&")};function ow(d){const p=new Ql;return p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),p}function ta(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function c2(d,p){p&&!d.j&&(Xi(d),d.i=null,d.g.forEach(function(E,C){const F=C.toLowerCase();C!=F&&(nw(this,C),iw(this,F,E))},d)),d.j=p}function u2(d,p){const E=new Xe;if(o.Image){const C=new Image;C.onload=h(Ds,E,"TestLoadImage: loaded",!0,p,C),C.onerror=h(Ds,E,"TestLoadImage: error",!1,p,C),C.onabort=h(Ds,E,"TestLoadImage: abort",!1,p,C),C.ontimeout=h(Ds,E,"TestLoadImage: timeout",!1,p,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else p(!1)}function d2(d,p){const E=new Xe,C=new AbortController,F=setTimeout(()=>{C.abort(),Ds(E,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:C.signal}).then($=>{clearTimeout(F),$.ok?Ds(E,"TestPingServer: ok",!0,p):Ds(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Ds(E,"TestPingServer: error",!1,p)})}function Ds(d,p,E,C,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),C(E)}catch{}}function h2(){this.g=new As}function Km(d){this.i=d.Sb||null,this.h=d.ab||!1}f(Km,Ul),Km.prototype.g=function(){return new id(this.i,this.h)};function id(d,p){Le.call(this),this.H=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(id,Le),t=id.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=p,this.readyState=1,Jl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(p.body=d),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yl(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aw(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function aw(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?Yl(this):Jl(this),this.readyState==3&&aw(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Yl(this))},t.Na=function(d){this.g&&(this.response=d,Yl(this))},t.ga=function(){this.g&&Yl(this)};function Yl(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Jl(d)}t.setRequestHeader=function(d,p){this.A.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=p.next();return d.join(`\r
`)};function Jl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(id.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function lw(d){let p="";return Q(d,function(E,C){p+=C,p+=":",p+=E,p+=`\r
`}),p}function Gm(d,p,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=lw(E),typeof d=="string"?E!=null&&kn(E):Ge(d,p,E))}function at(d){Le.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(at,Le);var f2=/^https?$/i,m2=["POST","PUT"];t=at.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,p,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch($){cw(this,$);return}if(d=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var F in C)E.set(F,C[F]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const $ of C.keys())E.set($,C.get($));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),F=o.FormData&&d instanceof o.FormData,!(Array.prototype.indexOf.call(m2,p,void 0)>=0)||C||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,X]of E)this.g.setRequestHeader($,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch($){cw(this,$)}};function cw(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.o=5,uw(d),od(d)}function uw(d){d.A||(d.A=!0,$t(d,"complete"),$t(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,$t(this,"complete"),$t(this,"abort"),od(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),od(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?dw(this):this.Xa())},t.Xa=function(){dw(this)};function dw(d){if(d.h&&typeof i<"u"){if(d.v&&Ms(d)==4)setTimeout(d.Ca.bind(d),0);else if($t(d,"readystatechange"),Ms(d)==4){d.h=!1;try{const $=d.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var C;if(C=$===0){let X=String(d.D).match(ew)[1]||null;!X&&o.self&&o.self.location&&(X=o.self.location.protocol.slice(0,-1)),C=!f2.test(X?X.toLowerCase():"")}E=C}if(E)$t(d,"complete"),$t(d,"success");else{d.o=6;try{var F=Ms(d)>2?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.ca()+"]",uw(d)}}finally{od(d)}}}}function od(d,p){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,p||$t(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ms(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),$l(p)}};function hw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function p2(d){const p={};d=(d.g&&Ms(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(I(d[C]))continue;var E=B0(d[C]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=p[F]||[];p[F]=$,$.push(E)}te(p,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xl(d,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||p}function fw(d){this.za=0,this.i=[],this.j=new Xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xl("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xl("baseRetryDelayMs",5e3,d),this.Za=Xl("retryDelaySeedMs",1e4,d),this.Ta=Xl("forwardChannelMaxRetries",2,d),this.va=Xl("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Q0(d&&d.concurrentRequestLimit),this.Ba=new h2,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fw.prototype,t.ka=8,t.I=1,t.connect=function(d,p,E,C){It(0),this.W=d,this.H=p||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=bw(this,null,this.W),ld(this)};function Qm(d){if(mw(d),d.I==3){var p=d.V++,E=br(d.J);if(Ge(E,"SID",d.M),Ge(E,"RID",p),Ge(E,"TYPE","terminate"),Zl(d,E),p=new Rs(d,d.j,p),p.M=2,p.A=sd(br(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=p.A,E=!0),E||(p.g=Ew(p.j,null),p.g.ea(p.A)),p.F=Date.now(),rd(p)}_w(d)}function ad(d){d.g&&(Jm(d),d.g.cancel(),d.g=null)}function mw(d){ad(d),d.v&&(o.clearTimeout(d.v),d.v=null),cd(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&o.clearTimeout(d.m),d.m=null)}function ld(d){if(!Y0(d.h)&&!d.m){d.m=!0;var p=d.Ea;R||T(),D||(R(),D=!0),N.add(p,d),d.D=0}}function g2(d,p){return J0(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=p.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=me(u(d.Ea,d,p),ww(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const F=new Rs(this,this.j,d);let $=this.o;if(this.U&&($?($=he($),U($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=gw(this,F,p),E=br(this.J),Ge(E,"RID",d),Ge(E,"CVER",22),this.G&&Ge(E,"X-HTTP-Session-Id",this.G),Zl(this,E),$&&(this.R?p="headers="+kn(lw($))+"&"+p:this.u&&Gm(E,this.u,$)),Wm(this.h,F),this.Ra&&Ge(E,"TYPE","init"),this.S?(Ge(E,"$req",p),Ge(E,"SID","null"),F.U=!0,Um(F,E,null)):Um(F,E,p),this.I=2}}else this.I==3&&(d?pw(this,d):this.i.length==0||Y0(this.h)||pw(this))};function pw(d,p){var E;p?E=p.l:E=d.V++;const C=br(d.J);Ge(C,"SID",d.M),Ge(C,"RID",E),Ge(C,"AID",d.K),Zl(d,C),d.u&&d.o&&Gm(C,d.u,d.o),E=new Rs(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),p&&(d.i=p.G.concat(d.i)),p=gw(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Wm(d.h,E),Um(E,C,p)}function Zl(d,p){d.H&&Q(d.H,function(E,C){Ge(p,C,E)}),d.l&&Q({},function(E,C){Ge(p,C,E)})}function gw(d,p,E){E=Math.min(d.i.length,E);const C=d.l?u(d.l.Ka,d.l,d):null;e:{var F=d.i;let be=-1;for(;;){const bt=["count="+E];be==-1?E>0?(be=F[0].g,bt.push("ofs="+be)):be=0:bt.push("ofs="+be);let Ue=!0;for(let Pt=0;Pt<E;Pt++){var $=F[Pt].g;const Er=F[Pt].map;if($-=be,$<0)be=Math.max(0,F[Pt].g-100),Ue=!1;else try{$="req"+$+"_"||"";try{var X=Er instanceof Map?Er:Object.entries(Er);for(const[eo,Ls]of X){let Vs=Ls;l(Ls)&&(Vs=Xo(Ls)),bt.push($+eo+"="+encodeURIComponent(Vs))}}catch(eo){throw bt.push($+"type="+encodeURIComponent("_badmap")),eo}}catch{C&&C(Er)}}if(Ue){X=bt.join("&");break e}}X=void 0}return d=d.i.splice(0,E),p.G=d,X}function yw(d){if(!d.g&&!d.v){d.Y=1;var p=d.Da;R||T(),D||(R(),D=!0),N.add(p,d),d.A=0}}function Ym(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=me(u(d.Da,d),ww(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,vw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=me(u(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),ad(this),vw(this))};function Jm(d){d.B!=null&&(o.clearTimeout(d.B),d.B=null)}function vw(d){d.g=new Rs(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var p=br(d.na);Ge(p,"RID","rpc"),Ge(p,"SID",d.M),Ge(p,"AID",d.K),Ge(p,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ge(p,"TO",d.ia),Ge(p,"TYPE","xmlhttp"),Zl(d,p),d.u&&d.o&&Gm(p,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=sd(br(p)),E.u=null,E.R=!0,q0(E,d)}t.Va=function(){this.C!=null&&(this.C=null,ad(this),Ym(this),It(19))};function cd(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function xw(d,p){var E=null;if(d.g==p){cd(d),Jm(d),d.g=null;var C=2}else if(Hm(d.h,p))E=p.G,X0(d.h,p),C=1;else return;if(d.I!=0){if(p.o)if(C==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var F=d.D;C=Ps(),$t(C,new Bl(C,E)),ld(d)}else yw(d);else if(F=p.m,F==3||F==0&&p.X>0||!(C==1&&g2(d,p)||C==2&&Ym(d)))switch(E&&E.length>0&&(p=d.h,p.i=p.i.concat(E)),F){case 1:Zi(d,5);break;case 4:Zi(d,10);break;case 3:Zi(d,6);break;default:Zi(d,2)}}}function ww(d,p){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*p}function Zi(d,p){if(d.j.info("Error code "+p),p==2){var E=u(d.bb,d),C=d.Ua;const F=!C;C=new Os(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Wl(C,"https"),sd(C),F?u2(C.toString(),E):d2(C.toString(),E)}else It(2);d.I=0,d.l&&d.l.pa(p),_w(d),mw(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function _w(d){if(d.I=0,d.ja=[],d.l){const p=Z0(d.h);(p.length!=0||d.i.length!=0)&&(S(d.ja,p),S(d.ja,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.oa()}}function bw(d,p,E){var C=E instanceof Os?br(E):new Os(E);if(C.g!="")p&&(C.g=p+"."+C.g),ql(C,C.u);else{var F=o.location;C=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;const $=new Os(null);C&&Wl($,C),p&&($.g=p),F&&ql($,F),E&&($.h=E),C=$}return E=d.G,p=d.wa,E&&p&&Ge(C,E,p),Ge(C,"VER",d.ka),Zl(d,C),C}function Ew(d,p,E){if(p&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Aa&&!d.ma?new at(new Km({ab:E})):new at(d.ma),p.Fa(d.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sw(){}t=Sw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ud(){}ud.prototype.g=function(d,p){return new In(d,p)};function In(d,p){Le.call(this),this.g=new fw(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(d?d["X-WebChannel-Client-Profile"]=p.sa:d={"X-WebChannel-Client-Profile":p.sa}),this.g.U=d,(d=p&&p.Qb)&&!I(d)&&(this.g.u=d),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new na(this)}f(In,Le),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Qm(this.g)},In.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Xo(d),d=E);p.i.push(new n2(p.Ya++,d)),p.I==3&&ld(p)},In.prototype.N=function(){this.g.l=null,delete this.j,Qm(this.g),delete this.g,In.Z.N.call(this)};function Tw(d){zl.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const E in p){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}f(Tw,zl);function Nw(){Zo.call(this),this.status=1}f(Nw,Zo);function na(d){this.g=d}f(na,Sw),na.prototype.ra=function(){$t(this.g,"a")},na.prototype.qa=function(d){$t(this.g,new Tw(d))},na.prototype.pa=function(d){$t(this.g,new Nw)},na.prototype.oa=function(){$t(this.g,"b")},ud.prototype.createWebChannel=ud.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,bI=function(){return new ud},_I=function(){return Ps()},wI=_r,Ky={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Sh=Jr,yn.COMPLETE="complete",xI=yn,Yr.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",Le.prototype.listen=Le.prototype.J,yc=Yr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,vI=at}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});const P1="@firebase/firestore",R1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Kx("@firebase/firestore");function pa(){return Lo.logLevel}function ne(t,...e){if(Lo.logLevel<=Ce.DEBUG){const n=e.map(s0);Lo.debug(`Firestore (${Dl}): ${t}`,...n)}}function Ts(t,...e){if(Lo.logLevel<=Ce.ERROR){const n=e.map(s0);Lo.error(`Firestore (${Dl}): ${t}`,...n)}}function hl(t,...e){if(Lo.logLevel<=Ce.WARN){const n=e.map(s0);Lo.warn(`Firestore (${Dl}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EI(t,r,n)}function EI(t,e,n){let r=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ts(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||EI(e,s,r)}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class V8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F8{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Eo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Eo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new SI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class $8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=B8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Gy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return rg(s)===rg(i)?Ie(s,i):rg(s)?1:-1}return Ie(t.length,e.length)}const H8=55296,W8=57343;function rg(t){const e=t.charCodeAt(0);return e>=H8&&e<=W8}function fl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__name__";class Cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Cr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Cr.isNumericId(e),s=Cr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Gy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ni.fromString(e.substring(4,e.length-2))}}class We extends Cr{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const q8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Cr{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return q8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D1}static keyField(){return new Ht([D1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(We.fromString(e))}static fromName(e){return new ue(We.fromString(e).popFirst(5))}static empty(){return new ue(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e,n){if(!n)throw new re(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function K8(t,e,n,r){if(e===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!ue.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L1(t){if(ue.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sm(t);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ku(t,e){if(!NI(t))throw new re(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new re(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=-62135596800,F1=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F1);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V1)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F1}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ku(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:gt("string",Ye._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Ye(0,0))}static max(){return new ye(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function G8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Ri(s,ue.empty(),e)}function Q8(t){return new Ri(t.readTime,t.key,gu)}class Ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ri(ye.min(),ue.empty(),gu)}static max(){return new Ri(ye.max(),ue.empty(),gu)}}function Y8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==J8)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Z8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-1;function Nm(t){return t==null}function bf(t){return t===0&&1/t==-1/0}function eB(t){return typeof t=="number"&&Number.isInteger(t)&&!bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="";function tB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$1(e)),e=nB(t.get(n),e);return $1(e)}function nB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case jI:n+="";break;default:n+=i}}return n}function $1(t){return t+jI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kd(this.root,e,this.comparator,!0)}}class Kd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??zt.RED,this.left=s??zt.EMPTY,this.right=i??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new zt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z1(this.data.getIterator())}getIteratorFrom(e){return new z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new hr([])}unionWith(e){let n=new kt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kI("Invalid base64 string: "+i):i}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const rB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=rB.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="server_timestamp",AI="__type__",PI="__previous_value__",RI="__local_write_time__";function a0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[AI])==null?void 0:r.stringValue)===II}function jm(t){const e=t.mapValue.fields[PI];return a0(e)?jm(e):e}function yu(t){const e=Oi(t.mapValue.fields[RI].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r,s,i,o,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Ef="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Ef}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="__type__",iB="__max__",Gd={mapValue:{}},DI="__vector__",Sf="value";function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a0(t)?4:aB(t)?9007199254740991:oB(t)?10:11:fe(28295,{value:t})}function qr(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Oi(s.timestampValue),l=Oi(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Di(s.bytesValue).isEqual(Di(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return dt(s.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return dt(s.integerValue)===dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=dt(s.doubleValue),l=dt(i.doubleValue);return o===l?bf(o)===bf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(U1(o)!==U1(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!qr(o[c],l[c])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function xu(t,e){return(t.values||[]).find(n=>qr(n,e))!==void 0}function ml(t,e){if(t===e)return 0;const n=Mi(t),r=Mi(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=dt(i.integerValue||i.doubleValue),c=dt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return B1(t.timestampValue,e.timestampValue);case 4:return B1(yu(t),yu(e));case 5:return Gy(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Di(i),c=Di(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Ie(l[u],c[u]);if(h!==0)return h}return Ie(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ie(dt(i.latitude),dt(o.latitude));return l!==0?l:Ie(dt(i.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return H1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,S,x;const l=i.fields||{},c=o.fields||{},u=(m=l[Sf])==null?void 0:m.arrayValue,h=(y=c[Sf])==null?void 0:y.arrayValue,f=Ie(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:H1(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Gd.mapValue&&o===Gd.mapValue)return 0;if(i===Gd.mapValue)return 1;if(o===Gd.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Gy(c[f],h[f]);if(m!==0)return m;const y=ml(l[c[f]],u[h[f]]);if(y!==0)return y}return Ie(c.length,h.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{he:n})}}function B1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Oi(t),r=Oi(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function H1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ml(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function pl(t){return Qy(t)}function Qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Qy(n.fields[o])}`;return s+"}"}(t.mapValue):fe(61005,{value:t})}function Th(t){switch(Mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jm(t);return e?16+Th(e):16;case 5:return 2*t.stringValue.length;case 6:return Di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Th(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return qo(r.fields,(i,o)=>{s+=i.length+Th(o)}),s}(t.mapValue);default:throw fe(13486,{value:t})}}function W1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yy(t){return!!t&&"integerValue"in t}function l0(t){return!!t&&"arrayValue"in t}function q1(t){return!!t&&"nullValue"in t}function K1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nh(t){return!!t&&"mapValue"in t}function oB(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[OI])==null?void 0:r.stringValue)===DI}function Lc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return{...t}}function aB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Ht.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Lc(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Nh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new qn(Lc(this.value))}}function MI(t){const e=[];return qo(t.fields,(n,r)=>{const s=new Ht([n]);if(Nh(r)){const i=MI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new tn(e,0,ye.min(),ye.min(),ye.min(),qn.empty(),0)}static newFoundDocument(e,n,r,s){return new tn(e,1,n,ye.min(),r,s,0)}static newNoDocument(e,n){return new tn(e,2,n,ye.min(),ye.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,ye.min(),ye.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.position=e,this.inclusive=n}}function G1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=ml(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function lB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{}class pt extends LI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uB(e,n,r):n==="array-contains"?new fB(e,r):n==="in"?new mB(e,r):n==="not-in"?new pB(e,r):n==="array-contains-any"?new gB(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dB(e,r):new hB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends LI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wr(e,n)}matches(e){return VI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VI(t){return t.op==="and"}function FI(t){return cB(t)&&VI(t)}function cB(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function Jy(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(FI(t))return t.filters.map(e=>Jy(e)).join(",");{const e=t.filters.map(n=>Jy(n)).join(",");return`${t.op}(${e})`}}function $I(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&qr(r.value,s.value)}(t,e):t instanceof wr?function(r,s){return s instanceof wr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&$I(o,s.filters[l]),!0):!1}(t,e):void fe(19439)}function UI(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(UI).join(" ,")+"}"}(t):"Filter"}class uB extends pt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class dB extends pt{constructor(e,n){super(e,"in",n),this.keys=zI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hB extends pt{constructor(e,n){super(e,"not-in",n),this.keys=zI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class fB extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l0(n)&&xu(n.arrayValue,this.value)}}class mB extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class pB extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class gB extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Y1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new yB(t,e,n,r,s,i,o)}function c0(t){const e=ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pl(r)).join(",")),e.Te=n}return e.Te}function u0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$I(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q1(t.startAt,e.startAt)&&Q1(t.endAt,e.endAt)}function Xy(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vB(t,e,n,r,s,i,o,l){return new Gu(t,e,n,r,s,i,o,l)}function d0(t){return new Gu(t)}function J1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BI(t){return t.collectionGroup!==null}function Vc(t){const e=ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new kt(Ht.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Nf(i,r))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new Nf(Ht.keyField(),r))}return e.Ie}function Ur(t){const e=ve(t);return e.Ee||(e.Ee=xB(e,Vc(t))),e.Ee}function xB(t,e){if(t.limitType==="F")return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Nf(s.field,i)});const n=t.endAt?new Tf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tf(t.startAt.position,t.startAt.inclusive):null;return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zy(t,e){const n=t.filters.concat([e]);return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ev(t,e,n){return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cm(t,e){return u0(Ur(t),Ur(e))&&t.limitType===e.limitType}function HI(t){return`${c0(Ur(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>UI(s)).join(", ")}]`),Nm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pl(s)).join(",")),`Target(${r})`}(Ur(t))}; limitType=${t.limitType})`}function km(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ue.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Vc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=G1(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Vc(r),s)||r.endAt&&!function(o,l,c){const u=G1(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Vc(r),s))}(t,e)}function wB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WI(t){return(e,n)=>{let r=!1;for(const s of Vc(t)){const i=_B(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function _B(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?ml(c,u):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return CI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new ot(ue.comparator);function Ns(){return bB}const qI=new ot(ue.comparator);function vc(...t){let e=qI;for(const n of t)e=e.insert(n.key,n);return e}function KI(t){let e=qI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return Fc()}function GI(){return Fc()}function Fc(){return new Ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const EB=new ot(ue.comparator),SB=new kt(ue.comparator);function Ae(...t){let e=SB;for(const n of t)e=e.add(n);return e}const TB=new kt(Ie);function NB(){return TB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function QI(t){return{integerValue:""+t}}function jB(t,e){return eB(e)?QI(e):h0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this._=void 0}}function CB(t,e,n){return t instanceof wu?function(s,i){const o={fields:{[AI]:{stringValue:II},[RI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&a0(i)&&(i=jm(i)),i&&(o.fields[PI]=i),{mapValue:o}}(n,e):t instanceof _u?JI(t,e):t instanceof bu?XI(t,e):function(s,i){const o=YI(s,i),l=X1(o)+X1(s.Ae);return Yy(o)&&Yy(s.Ae)?QI(l):h0(s.serializer,l)}(t,e)}function kB(t,e,n){return t instanceof _u?JI(t,e):t instanceof bu?XI(t,e):n}function YI(t,e){return t instanceof jf?function(r){return Yy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class wu extends Im{}class _u extends Im{constructor(e){super(),this.elements=e}}function JI(t,e){const n=ZI(e);for(const r of t.elements)n.some(s=>qr(s,r))||n.push(r);return{arrayValue:{values:n}}}class bu extends Im{constructor(e){super(),this.elements=e}}function XI(t,e){let n=ZI(e);for(const r of t.elements)n=n.filter(s=>!qr(s,r));return{arrayValue:{values:n}}}class jf extends Im{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X1(t){return dt(t.integerValue||t.doubleValue)}function ZI(t){return l0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n){this.field=e,this.transform=n}}function AB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _u&&s instanceof _u||r instanceof bu&&s instanceof bu?fl(r.elements,s.elements,qr):r instanceof jf&&s instanceof jf?qr(r.Ae,s.Ae):r instanceof wu&&s instanceof wu}(t.transform,e.transform)}class PB{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Am{}function eA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f0(t.key,pr.none()):new Qu(t.key,t.data,pr.none());{const n=t.data,r=qn.empty();let s=new kt(Ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Go(t.key,r,new hr(s.toArray()),pr.none())}}function RB(t,e,n){t instanceof Qu?function(s,i,o){const l=s.value.clone(),c=eE(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Go?function(s,i,o){if(!jh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=eE(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(tA(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $c(t,e,n,r){return t instanceof Qu?function(i,o,l,c){if(!jh(i.precondition,o))return l;const u=i.value.clone(),h=tE(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Go?function(i,o,l,c){if(!jh(i.precondition,o))return l;const u=tE(i.fieldTransforms,c,o),h=o.data;return h.setAll(tA(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return jh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function OB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=YI(r.transform,s||null);i!=null&&(n===null&&(n=qn.empty()),n.set(r.field,i))}return n||null}function Z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fl(r,s,(i,o)=>AB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends Am{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Go extends Am{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eE(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,kB(o,l,n[s]))}return r}function tE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,CB(i,o,e))}return r}class f0 extends Am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DB extends Am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&RB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=eA(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>Z1(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>Z1(n,r))}}class m0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return EB}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new m0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Re;function FB(t){switch(t){case H.OK:return fe(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function nA(t){if(t===void 0)return Ts("GRPC error has no .code"),H.UNKNOWN;switch(t){case ft.OK:return H.OK;case ft.CANCELLED:return H.CANCELLED;case ft.UNKNOWN:return H.UNKNOWN;case ft.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ft.INTERNAL:return H.INTERNAL;case ft.UNAVAILABLE:return H.UNAVAILABLE;case ft.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ft.NOT_FOUND:return H.NOT_FOUND;case ft.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ft.ABORTED:return H.ABORTED;case ft.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ft.DATA_LOSS:return H.DATA_LOSS;default:return fe(39323,{code:t})}}(Re=ft||(ft={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new Ni([4294967295,4294967295],0);function nE(t){const e=$B().encode(t),n=new yI;return n.update(e),new Uint8Array(n.digest())}function rE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ni([n,r],0),new Ni([s,i],0)]}class p0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xc(`Invalid padding: ${n}`);if(r<0)throw new xc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ni.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ni.fromNumber(r)));return s.compare(UB)===1&&(s=new Ni([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nE(e),[r,s]=rE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new p0(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=nE(e),[r,s]=rE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pm(ye.min(),s,new ot(Ie),Ns(),Ae())}}class Yu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yu(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class rA{constructor(e,n){this.targetId=e,this.Ce=n}}class sA{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sE{constructor(){this.ve=0,this.Fe=iE(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),n=Ae(),r=Ae();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe(38017,{changeType:i})}}),new Yu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=iE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.Je=Qd(),this.He=Qd(),this.Ye=new ot(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Xy(i))if(r===0){const o=new ue(i.path);this.et(n,o,tn.newNoDocument(o,ye.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Di(r).toUint8Array()}catch(c){if(c instanceof kI)return hl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new p0(o,s,i)}catch(c){return hl(c instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Xy(l.target)){const c=new ue(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,tn.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ae();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Pm(e,n,this.Ye,this.je,r);return this.je=Ns(),this.Je=Qd(),this.He=Qd(),this.Ye=new ot(Ie),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qd(){return new ot(ue.comparator)}function iE(){return new ot(ue.comparator)}const BB={asc:"ASCENDING",desc:"DESCENDING"},HB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WB={and:"AND",or:"OR"};class qB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||Nm(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KB(t,e){return Cf(t,e.toTimestamp())}function zr(t){return Ve(!!t,49232),ye.fromTimestamp(function(n){const r=Oi(n);return new Ye(r.seconds,r.nanos)}(t))}function g0(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=function(s){return new We(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oA(t){const e=We.fromString(t);return Ve(dA(e),10190,{key:e.toString()}),e}function rv(t,e){return g0(t.databaseId,e.path)}function sg(t,e){const n=oA(e);if(n.get(1)!==t.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(lA(n))}function aA(t,e){return g0(t.databaseId,e)}function GB(t){const e=oA(t);return e.length===4?We.emptyPath():lA(e)}function sv(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lA(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oE(t,e,n){return{name:rv(t,e),fields:n.value.mapValue.fields}}function QB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Gt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?H.UNKNOWN:nA(u.code);return new re(h,u.message||"")}(o);n=new sA(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sg(t,r.document.name),i=zr(r.document.updateTime),o=r.document.createTime?zr(r.document.createTime):ye.min(),l=new qn({mapValue:{fields:r.document.fields}}),c=tn.newFoundDocument(s,i,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Ch(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sg(t,r.document),i=r.readTime?zr(r.readTime):ye.min(),o=tn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Ch([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sg(t,r.document),i=r.removedTargetIds||[];n=new Ch([],i,s,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new VB(s,i),l=r.targetId;n=new rA(l,o)}}return n}function YB(t,e){let n;if(e instanceof Qu)n={update:oE(t,e.key,e.value)};else if(e instanceof f0)n={delete:rv(t,e.key)};else if(e instanceof Go)n={update:oE(t,e.key,e.data),updateMask:i7(e.fieldMask)};else{if(!(e instanceof DB))return fe(16599,{Vt:e.type});n={verify:rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof wu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _u)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof bu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof jf)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw fe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:KB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe(27497)}(t,e.precondition)),n}function JB(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?zr(s.updateTime):zr(i);return o.isEqual(ye.min())&&(o=zr(i)),new PB(o,s.transformResults||[])}(n,e))):[]}function XB(t,e){return{documents:[aA(t,e.path)]}}function ZB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aA(t,s);const i=function(u){if(u.length!==0)return uA(wr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:ya(m.field),direction:n7(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=tv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function e7(t){let e=GB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=cA(f);return m instanceof wr&&FI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new Nf(va(S.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Nm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new Tf(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,y=f.values||[];return new Tf(y,m)}(n.endAt)),vB(e,s,o,i,l,"F",c,u)}function t7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=va(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=va(n.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=va(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(va(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>cA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function n7(t){return BB[t]}function r7(t){return HB[t]}function s7(t){return WB[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return Ht.fromServerFormat(t.fieldPath)}function uA(t){return t instanceof pt?function(n){if(n.op==="=="){if(K1(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(q1(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K1(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(q1(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:r7(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(s=>uA(s));return r.length===1?r[0]:{compositeFilter:{op:s7(n.op),filters:r}}}(t):fe(54877,{filter:t})}function i7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,s,i=ye.min(),o=ye.min(),l=Gt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.yt=e}}function a7(t){const e=e7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ev(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.Cn=new c7}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ri.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class c7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new kt(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(hA,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",u7=1048576;function cE([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class d7{constructor(e){this.Ir=e,this.buffer=new kt(cE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(lE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?ne(lE,"Ignoring IndexedDB error during garbage collection: ",n):await Ml(n)}await this.Vr(3e5)})}}class f7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Tm.ce);const r=new d7(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(aE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),pa()<=Ce.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function m7(t,e){return new f7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.changes=new Ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&$c(r.mutation,s,hr.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const s=mo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=vc();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Ns();const o=Fc(),l=function(){return Fc()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Go)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),$c(h.mutation,u,h.mutation.getFieldMask(),Ye.now())):o.set(u.key,hr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>l.set(u,new g7(h,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Fc();let s=new ot((o,l)=>o-l),i=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||hr.empty();h=l.applyToLocalView(u,h),r.set(c,h);const f=(s.get(l.batchId)||Ae()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=GI();h.forEach(m=>{if(!i.has(m)){const y=eA(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(mo());let l=gu,c=i;return o.next(u=>W.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ae())).next(h=>({batchId:l,changes:KI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let s=vc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=vc();return this.indexManager.getCollectionParents(e,i).next(l=>W.forEach(l,c=>{const u=function(f,m){return new Gu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,tn.newInvalidDocument(h)))});let l=vc();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&$c(h.mutation,u,hr.empty(),Ye.now()),km(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:zr(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:a7(s.bundledQuery),readTime:zr(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.overlays=new ot(ue.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mo();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=mo(),i=n.length+1,o=new ue(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ot((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=mo(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=mo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return W.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LB(n,r));let i=this.qr.get(n);i===void 0&&(i=Ae(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.Qr=new kt(Dt.$r),this.Ur=new kt(Dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Dt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ue(new We([])),r=new Dt(n,e),s=new Dt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new We([])),r=new Dt(n,e),s=new Dt(n,e+1);let i=Ae();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Dt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MB(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new Dt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?o0:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),s=new Dt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ie);return n.forEach(s=>{const i=new Dt(s,0),o=new Dt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const o=new Dt(new ue(i),0);let l=new kt(Ie);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)},o),W.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,s=>{const i=new Dt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Dt(n,0),s=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.ri=e,this.docs=function(){return new ot(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=Ns();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():tn.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ns();const o=n.path,l=new ue(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Y8(Q8(h),r)<=0||(s.has(h.key)||km(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E7(this)}getSize(e){return W.resolve(this.size)}}class E7 extends p7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.persistence=e,this.si=new Ko(n=>c0(n),u0),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new y0,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tm(0),this.li=!1,this.li=!0,this.hi=new w7,this.referenceDelegate=e(this),this.Pi=new S7(this),this.indexManager=new l7,this.remoteDocumentCache=function(s){return new b7(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new o7(n),this.Ii=new v7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new _7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new T7(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class T7 extends X8{constructor(e){super(),this.currentSequenceNumber=e}}class v0{constructor(e){this.persistence=e,this.Ri=new y0,this.Vi=null}static mi(e){return new v0(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const s=ue.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ye.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kf{constructor(e,n){this.persistence=e,this.pi=new Ko(r=>tB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=m7(this,n)}static mi(e,n){return new kf(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ye.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Th(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ae(),s=Ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new x0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return pU()?8:Z8(sn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new N7;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(pa()<=Ce.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(pa()<=Ce.DEBUG&&ne("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(pa()<=Ce.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):W.resolve())}ys(e,n){if(J1(n))return W.resolve(null);let r=Ur(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ev(n,null,"F"),r=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ae(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,o,c.readTime)?this.ys(e,ev(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return J1(n)||s.isEqual(ye.min())?W.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?W.resolve(null):(pa()<=Ce.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ga(n)),this.vs(e,o,n,G8(s,gu)).next(l=>l))})}Ds(e,n){let r=new kt(WI(e));return n.forEach((s,i)=>{km(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return pa()<=Ce.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",ga(n)),this.ps.getDocumentsMatchingQuery(e,n,Ri.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LocalStore",C7=3e8;class k7{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ot(Ie),this.xs=new Ko(i=>c0(i),u0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function I7(t,e,n,r){return new k7(t,e,n,r)}async function mA(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Ae();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function A7(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let y=W.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(c,S)).next(x=>{const w=u.docVersions.get(S);Ve(w!==null,48541),x.version.compareTo(w)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ae();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function pA(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function P7(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Gt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(x,w,g){return x.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=C7?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(m,y,h)&&l.push(n.Pi.updateTargetData(i,y))});let c=Ns(),u=Ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(R7(i,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(ye.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return W.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function R7(t,e,n){let r=Ae(),s=Ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ns();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ne(w0,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function O7(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=o0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D7(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function iv(t,e,n){const r=ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ll(o))throw o;ne(w0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function uE(t,e,n){const r=ve(t);let s=ye.min(),i=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=ve(c),m=f.xs.get(h);return m!==void 0?W.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(r,o,Ur(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ye.min(),n?i:Ae())).next(l=>(M7(r,wB(e),l),{documents:l,Qs:i})))}function M7(t,e,n){let r=t.Os.get(e)||ye.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class dE{constructor(){this.activeTargetIds=NB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L7{constructor(){this.Mo=new dE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(hE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(hE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function ov(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",F7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ef?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=ov(),l=this.zo(e,n.toUriEncodedString());ne(ig,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(l),h=Pl(u);return this.Jo(e,l,c,r,h).then(f=>(ne(ig,`Received RPC '${e}' ${o}: `,f),f),f=>{throw hl(ig,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=F7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class z7 extends $7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=ov();return new Promise((l,c)=>{const u=new vI;u.setWithCredentials(!0),u.listenOnce(xI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sh.NO_ERROR:const f=u.getResponseJson();ne(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Sh.TIMEOUT:ne(Xt,`RPC '${e}' ${o} timed out`),c(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const m=u.getStatus();if(ne(Xt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const x=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(S.status);c(new re(x,S.message))}else c(new re(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new re(H.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(Xt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);ne(Xt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=ov(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bI(),l=_I(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");ne(Xt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,y=!1;const S=new U7({Yo:w=>{y?ne(Xt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(m||(ne(Xt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),ne(Xt,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},Zo:()=>f.close()}),x=(w,g,v)=>{w.listen(g,b=>{try{v(b)}catch(k){setTimeout(()=>{throw k},0)}})};return x(f,yc.EventType.OPEN,()=>{y||(ne(Xt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),x(f,yc.EventType.CLOSE,()=>{y||(y=!0,ne(Xt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),x(f,yc.EventType.ERROR,w=>{y||(y=!0,hl(Xt,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),S.a_(new re(H.UNAVAILABLE,"The operation could not be completed")))}),x(f,yc.EventType.MESSAGE,w=>{var g;if(!y){const v=w.data[0];Ve(!!v,16349);const b=v,k=(b==null?void 0:b.error)||((g=b[0])==null?void 0:g.error);if(k){ne(Xt,`RPC '${e}' stream ${s} received error:`,k);const R=k.status;let D=function(j){const A=ft[j];if(A!==void 0)return nA(A)}(R),N=k.message;D===void 0&&(D=H.INTERNAL,N="Unknown error status: "+R+" with message "+k.message),y=!0,S.a_(new re(D,N)),f.close()}else ne(Xt,`RPC '${e}' stream ${s} received:`,v),S.u_(v)}}),x(l,wI.STAT_EVENT,w=>{w.stat===Ky.PROXY?ne(Xt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===Ky.NOPROXY&&ne(Xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){return new qB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="PersistentStream";class yA{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ne(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B7 extends yA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QB(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?zr(o.readTime):ye.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sv(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Xy(c)?{documents:XB(i,c)}:{query:ZB(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=iA(i,o.resumeToken);const u=tv(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=Cf(i,o.snapshotVersion.toTimestamp());const u=tv(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=t7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sv(this.serializer),n.removeTarget=e,this.q_(n)}}class H7 extends yA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JB(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{}class q7 extends W7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,nv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(H.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,nv(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(H.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class K7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="RemoteStore";class G7{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Qo(this)&&(ne(Vo,"Restarting streams for network reachability change."),await async function(c){const u=ve(c);u.Ea.add(4),await Ju(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Om(u)}(this))})}),this.Ra=new K7(r,s)}}async function Om(t){if(Qo(t))for(const e of t.da)await e(!0)}async function Ju(t){for(const e of t.da)await e(!1)}function vA(t,e){const n=ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),S0(n)?E0(n):Vl(n).O_()&&b0(n,e))}function _0(t,e){const n=ve(t),r=Vl(n);n.Ia.delete(e),r.O_()&&xA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qo(n)&&n.Ra.set("Unknown"))}function b0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(t).Y_(e)}function xA(t,e){t.Va.Ue(e),Vl(t).Z_(e)}function E0(t){t.Va=new zB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vl(t).start(),t.Ra.ua()}function S0(t){return Qo(t)&&!Vl(t).x_()&&t.Ia.size>0}function Qo(t){return ve(t).Ea.size===0}function wA(t){t.Va=void 0}async function Q7(t){t.Ra.set("Online")}async function Y7(t){t.Ia.forEach((e,n)=>{b0(t,e)})}async function J7(t,e){wA(t),S0(t)?(t.Ra.ha(e),E0(t)):t.Ra.set("Unknown")}async function X7(t,e,n){if(t.Ra.set("Online"),e instanceof sA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){ne(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await If(t,r)}else if(e instanceof Ch?t.Va.Ze(e):e instanceof rA?t.Va.st(e):t.Va.tt(e),!n.isEqual(ye.min()))try{const r=await pA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Gt.EMPTY_BYTE_STRING,h.snapshotVersion)),xA(i,c);const f=new fi(h.target,c,u,h.sequenceNumber);b0(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ne(Vo,"Failed to raise snapshot:",r),await If(t,r)}}async function If(t,e,n){if(!Ll(e))throw e;t.Ea.add(1),await Ju(t),t.Ra.set("Offline"),n||(n=()=>pA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Vo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Om(t)})}function _A(t,e){return e().catch(n=>If(t,n,e))}async function Dm(t){const e=ve(t),n=Li(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:o0;for(;Z7(e);)try{const s=await O7(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,eH(e,s)}catch(s){await If(e,s)}bA(e)&&EA(e)}function Z7(t){return Qo(t)&&t.Ta.length<10}function eH(t,e){t.Ta.push(e);const n=Li(t);n.O_()&&n.X_&&n.ea(e.mutations)}function bA(t){return Qo(t)&&!Li(t).x_()&&t.Ta.length>0}function EA(t){Li(t).start()}async function tH(t){Li(t).ra()}async function nH(t){const e=Li(t);for(const n of t.Ta)e.ea(n.mutations)}async function rH(t,e,n){const r=t.Ta.shift(),s=m0.from(r,e,n);await _A(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dm(t)}async function sH(t,e){e&&Li(t).X_&&await async function(r,s){if(function(o){return FB(o)&&o!==H.ABORTED}(s.code)){const i=r.Ta.shift();Li(r).B_(),await _A(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Dm(r)}}(t,e),bA(t)&&EA(t)}async function pE(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),ne(Vo,"RemoteStore received new credentials");const r=Qo(n);n.Ea.add(3),await Ju(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Om(n)}async function iH(t,e){const n=ve(t);e?(n.Ea.delete(2),await Om(n)):e||(n.Ea.add(2),await Ju(n),n.Ra.set("Unknown"))}function Vl(t){return t.ma||(t.ma=function(n,r,s){const i=ve(n);return i.sa(),new B7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Q7.bind(null,t),t_:Y7.bind(null,t),r_:J7.bind(null,t),H_:X7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),S0(t)?E0(t):t.Ra.set("Unknown")):(await t.ma.stop(),wA(t))})),t.ma}function Li(t){return t.fa||(t.fa=function(n,r,s){const i=ve(n);return i.sa(),new H7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:tH.bind(null,t),r_:sH.bind(null,t),ta:nH.bind(null,t),na:rH.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Dm(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(Vo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new T0(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N0(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),Ll(t))return new re(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=vc(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.ga=new ot(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new yl(e,n,Wa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class aH{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=yE(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new re(H.ABORTED,"Firestore shutting down"))}}function yE(){return new Ko(t=>HI(t),Cm)}async function lH(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new oH,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=N0(o,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&j0(n)}async function cH(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uH(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&j0(n)}function dH(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function j0(t){t.Ca.forEach(e=>{e.next()})}var av,vE;(vE=av||(av={})).Ma="default",vE.Cache="cache";class hH{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==av.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.key=e}}class TA{constructor(e){this.key=e}}class fH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ae(),this.mutatedKeys=Ae(),this.eu=WI(e),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=km(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let w=!1;m&&y?m.data.isEqual(y.data)?S!==x&&(r.track({type:3,doc:y}),w=!0):this.su(m,y)||(r.track({type:2,doc:y}),w=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),w=!0):m&&!y&&(r.track({type:1,doc:m}),w=!0,(c||u)&&(l=!0)),w&&(y?(o=o.add(y),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,S){const x=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:w})}};return x(y)-x(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new yl(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new TA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new SA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const C0="SyncEngine";class mH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pH{constructor(e){this.key=e,this.hu=!1}}class gH{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ko(l=>HI(l),Cm),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ue.comparator),this.Au=new Map,this.Ru=new y0,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yH(t,e,n=!0){const r=AA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await NA(r,e,n,!0),s}async function vH(t,e){const n=AA(t);await NA(n,e,!0,!1)}async function NA(t,e,n,r){const s=await D7(t.localStore,Ur(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await xH(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&vA(t.remoteStore,s),l}async function xH(t,e,n,r,s){t.pu=(f,m,y)=>async function(x,w,g,v){let b=w.view.ru(g);b.Cs&&(b=await uE(x.localStore,w.query,!1).then(({documents:N})=>w.view.ru(N,b)));const k=v&&v.targetChanges.get(w.targetId),R=v&&v.targetMismatches.get(w.targetId)!=null,D=w.view.applyChanges(b,x.isPrimaryClient,k,R);return wE(x,w.targetId,D.au),D.snapshot}(t,f,m,y);const i=await uE(t.localStore,e,!0),o=new fH(e,i.Qs),l=o.ru(i.documents),c=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);wE(t,n,u.au);const h=new mH(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function wH(t,e,n){const r=ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Cm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await iv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_0(r.remoteStore,s.targetId),lv(r,s.targetId)}).catch(Ml)):(lv(r,s.targetId),await iv(r.localStore,s.targetId,!0))}async function _H(t,e){const n=ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_0(n.remoteStore,r.targetId))}async function bH(t,e,n){const r=kH(t);try{const s=await function(o,l){const c=ve(o),u=Ye.now(),h=l.reduce((y,S)=>y.add(S.key),Ae());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Ns(),x=Ae();return c.Ns.getEntries(y,h).next(w=>{S=w,S.forEach((g,v)=>{v.isValidDocument()||(x=x.add(g))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,S)).next(w=>{f=w;const g=[];for(const v of l){const b=OB(v,f.get(v.key).overlayedDocument);b!=null&&g.push(new Go(v.key,b,MI(b.value.mapValue),pr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,g,l)}).next(w=>{m=w;const g=w.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(y,w.batchId,g)})}).then(()=>({batchId:m.batchId,changes:KI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new ot(Ie)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Xu(r,s.changes),await Dm(r.remoteStore)}catch(s){const i=N0(s,"Failed to persist write");n.reject(i)}}async function jA(t,e){const n=ve(t);try{const r=await P7(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ve(o.hu,14607):s.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await Xu(n,r,e)}catch(r){await Ml(r)}}function xE(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=ve(o);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(u=!0)}),u&&j0(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EH(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ot(ue.comparator);o=o.insert(i,tn.newNoDocument(i,ye.min()));const l=Ae().add(i),c=new Pm(ye.min(),new Map,new ot(Ie),o,l);await jA(r,c),r.du=r.du.remove(i),r.Au.delete(e),k0(r)}else await iv(r.localStore,e,!1).then(()=>lv(r,e,n)).catch(Ml)}async function SH(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await A7(n.localStore,e);kA(n,r,null),CA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(n,s)}catch(s){await Ml(s)}}async function TH(t,e,n){const r=ve(t);try{const s=await function(o,l){const c=ve(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ve(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);kA(r,e,n),CA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xu(r,s)}catch(s){await Ml(s)}}function CA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function kA(t,e,n){const r=ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||IA(t,r)})}function IA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(_0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),k0(t))}function wE(t,e,n){for(const r of n)r instanceof SA?(t.Ru.addReference(r.key,e),NH(t,r)):r instanceof TA?(ne(C0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||IA(t,r.key)):fe(19791,{wu:r})}function NH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ne(C0,"New document in limbo: "+n),t.Eu.add(r),k0(t))}function k0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(We.fromString(e)),r=t.fu.next();t.Au.set(r,new pH(n)),t.du=t.du.insert(n,r),vA(t.remoteStore,new fi(Ur(d0(n.path)),r,"TargetPurposeLimboResolution",Tm.ce))}}async function Xu(t,e,n){const r=ve(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=x0.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const h=ve(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(u,m=>W.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>W.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Ll(f))throw f;ne(w0,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),S=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(m,x)}}}(r.localStore,i))}async function jH(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){ne(C0,"User change. New user:",e.toKey());const r=await mA(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new re(H.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xu(n,r.Ls)}}function CH(t,e){const n=ve(t),r=n.Au.get(e);if(r&&r.hu)return Ae().add(r.key);{let s=Ae();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function AA(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EH.bind(null,e),e.Pu.H_=uH.bind(null,e.eventManager),e.Pu.yu=dH.bind(null,e.eventManager),e}function kH(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TH.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I7(this.persistence,new j7,e.initialUser,this.serializer)}Cu(e){return new fA(v0.mi,this.serializer)}Du(e){return new L7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class IH extends Af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new h7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new fA(r=>kf.mi(r,n),this.serializer)}}class cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jH.bind(null,this.syncEngine),await iH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aH}()}createDatastore(e){const n=Rm(e.databaseInfo.databaseId),r=function(i){return new z7(i)}(e.databaseInfo);return function(i,o,l,c){return new q7(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new G7(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>xE(this.syncEngine,n,0),function(){return fE.v()?new fE:new V7}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,h){const f=new gH(s,i,o,l,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ve(s);ne(Vo,"RemoteStore shutting down."),i.Ea.add(5),await Ju(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cv.provider={build:()=>new cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class PH{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zt.UNAUTHENTICATED,this.clientId=i0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ne(Vi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne(Vi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=N0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ag(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Vi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _E(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RH(t);ne(Vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>pE(e.remoteStore,s)),t._onlineComponents=e}async function RH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Vi,"Using user provided OfflineComponentProvider");try{await ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await ag(t,new Af)}}else ne(Vi,"Using default OfflineComponentProvider"),await ag(t,new IH(void 0));return t._offlineComponents}async function PA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Vi,"Using user provided OnlineComponentProvider"),await _E(t,t._uninitializedComponentsProvider._online)):(ne(Vi,"Using default OnlineComponentProvider"),await _E(t,new cv))),t._onlineComponents}function OH(t){return PA(t).then(e=>e.syncEngine)}async function bE(t){const e=await PA(t),n=e.eventManager;return n.onListen=yH.bind(null,e.syncEngine),n.onUnlisten=wH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_H.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firestore.googleapis.com",SE=!0;class TE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OA,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u7)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L8;switch(r.type){case"firstParty":return new U8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EE.get(n);r&&(ne("ComponentProvider","Removing Datastore"),EE.delete(n),r.terminate())}(this),Promise.resolve()}}function DH(t,e,n,r={}){var u;t=ji(t,Mm);const s=Pl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Pk(`https://${l}`),Rk("Firestore",!0)),i.host!==OA&&i.host!==l&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Oo(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Zt.MOCK_USER;else{h=oU(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zt(m)}t._authCredentials=new V8(new SI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fl(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ku(n,yt._jsonSchema))return new yt(e,r||null,new ue(We.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:gt("string",yt._jsonSchemaVersion),referencePath:gt("string")};class Ci extends Fl{constructor(e,n,r){super(e,n,d0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ue(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function NE(t,e,...n){if(t=Cn(t),TI("collection","path",e),t instanceof Mm){const r=We.fromString(e,...n);return L1(r),new Ci(t,null,r)}{if(!(t instanceof yt||t instanceof Ci))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return L1(r),new Ci(t.firestore,null,r)}}function uv(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=i0.newId()),TI("doc","path",e),t instanceof Mm){const r=We.fromString(e,...n);return M1(r),new yt(t,null,new ue(r))}{if(!(t instanceof yt||t instanceof Ci))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return M1(r),new yt(t.firestore,t instanceof Ci?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="AsyncQueue";class CE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gA(this,"async_queue_retry"),this._c=()=>{const r=og();r&&ne(jE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Eo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ll(e))throw e;ne(jE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",kE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=T0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&fe(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class vl extends Mm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new CE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CE(e),this._firestoreClient=void 0,await e}}}function MH(t,e){const n=typeof t=="object"?t:Lk(),r=typeof t=="string"?t:Ef,s=Qx(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=sU("firestore");i&&DH(s,...i)}return s}function DA(t){if(t._terminated)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LH(t),t._firestoreClient}function LH(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,u,h){return new sB(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new PH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Gt.fromBase64String(e))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ku(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:gt("string",Kn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(Ku(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:gt("string",Br._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ku(e,Hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hr(e.vectorValues);throw new re(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:gt("string",Hr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=/^__.*__$/;class FH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}function MA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:t})}}class P0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new P0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Pf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MA(this.Ac)&&VH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $H{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rm(e)}Cc(e,n,r,s=!1){return new P0({Ac:e,methodName:n,Dc:r,path:Ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R0(t){const e=t._freezeSettings(),n=Rm(t._databaseId);return new $H(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LA(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);$A("Data must be an object, but it was:",o,r);const l=VA(r,o);let c,u;if(i.merge)c=new hr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=zH(e,f,n);if(!o.contains(m))throw new re(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);HH(h,m)||h.push(m)}c=new hr(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new FH(new qn(l),c,u)}class O0 extends A0{_toFieldTransform(e){return new IB(e.path,new wu)}isEqual(e){return e instanceof O0}}function UH(t,e,n,r=!1){return D0(n,t.Cc(r?4:3,e))}function D0(t,e){if(FA(t=Cn(t)))return $A("Unsupported field value:",e,t),VA(t,e);if(t instanceof A0)return function(r,s){if(!MA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=D0(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:Cf(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(s.serializer,i)}}if(r instanceof Br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:iA(s.serializer,r._byteString)};if(r instanceof yt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:g0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hr)return function(o,l){return{mapValue:{fields:{[OI]:{stringValue:DI},[Sf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return h0(l.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Sm(r)}`)}(t,e)}function VA(t,e){const n={};return CI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,s)=>{const i=D0(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function FA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Br||t instanceof Kn||t instanceof yt||t instanceof A0||t instanceof Hr)}function $A(t,e,n){if(!FA(n)||!NI(n)){const r=Sm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function zH(t,e,n){if((e=Cn(e))instanceof I0)return e._internalPath;if(typeof e=="string")return UA(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const BH=new RegExp("[~\\*/\\[\\]]");function UA(t,e,n){if(e.search(BH)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I0(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new re(H.INVALID_ARGUMENT,l+t+c)}function HH(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WH extends zA{data(){return super.data()}}function BA(t,e){return typeof e=="string"?UA(t,e):e instanceof I0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M0{}class KH extends M0{}function GH(t,e,...n){let r=[];e instanceof M0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof V0).length,l=i.filter(c=>c instanceof L0).length;if(o>1||o>0&&l>0)throw new re(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class L0 extends KH{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new L0(e,n,r)}_apply(e){const n=this._parse(e);return HA(e._query,n),new Fl(e.firestore,e.converter,Zy(e._query,n))}_parse(e){const n=R0(e.firestore);return function(i,o,l,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new re(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){PE(f,h);const S=[];for(const x of f)S.push(AE(c,i,x));m={arrayValue:{values:S}}}else m=AE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||PE(f,h),m=UH(l,o,f,h==="in"||h==="not-in");return pt.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class V0 extends M0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)HA(o,c),o=Zy(o,c)}(e._query,n),new Fl(e.firestore,e.converter,Zy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AE(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BI(e)&&n.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!ue.isDocumentKey(r))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W1(t,new ue(r))}if(n instanceof yt)return W1(t,n._key);throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(n)}.`)}function PE(t,e){if(!Array.isArray(t)||t.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HA(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QH{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Sf].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>dt(o.doubleValue));return new Hr(n)}convertGeoPoint(e){return new Br(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ve(dA(r),9688,{name:e});const s=new vu(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return s.isEqual(n)||Ts(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends zA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=So._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:gt("string",So._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class kh extends So{data(e={}){return super.data(e)}}class qa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new wc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new kh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new wc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new kh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new wc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:YH(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=i0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:gt("string",qa._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class qA extends QH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function JH(t,e,n){t=ji(t,yt);const r=ji(t.firestore,vl),s=WA(t.converter,e);return F0(r,[LA(R0(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,pr.none())])}function XH(t){return F0(ji(t.firestore,vl),[new f0(t._key,pr.none())])}function ZH(t,e){const n=ji(t.firestore,vl),r=uv(t),s=WA(t.converter,e);return F0(n,[LA(R0(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function eW(t,...e){var c,u,h;t=Cn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IE(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,l;if(t instanceof yt)o=ji(t.firestore,vl),l=d0(t._key.path),i={next:f=>{e[r]&&e[r](tW(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ji(t,Fl);o=ji(f.firestore,vl),l=f._query;const m=new qA(o);i={next:y=>{e[r]&&e[r](new qa(o,m,f,y))},error:e[r+1],complete:e[r+2]},qH(t._query)}return function(m,y,S,x){const w=new AH(x),g=new hH(y,w,S);return m.asyncQueue.enqueueAndForget(async()=>lH(await bE(m),g)),()=>{w.Nu(),m.asyncQueue.enqueueAndForget(async()=>cH(await bE(m),g))}}(DA(o),l,s,i)}function F0(t,e){return function(r,s){const i=new Eo;return r.asyncQueue.enqueueAndForget(async()=>bH(await OH(r),s,i)),i.promise}(DA(t),e)}function tW(t,e,n){const r=n.docs.get(e._key),s=new qA(t);return new So(t,s,e._key,r,new wc(n.hasPendingWrites,n.fromCache),e.converter)}function nW(){return new O0("serverTimestamp")}(function(e,n=!0){(function(s){Dl=s})(Rl),dl(new Do("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new vl(new F8(r.getProvider("auth-internal")),new z8(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ti(P1,R1,e),Ti(P1,R1,"esm2020")})();const Yo=(...t)=>t.filter(Boolean).join(" "),rW=Sl("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ks=q.forwardRef(({className:t,variant:e,size:n,...r},s)=>a.jsx("button",{className:Yo(rW({variant:e,size:n,className:t})),ref:s,...r}));Ks.displayName="Button";const dv=q.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Yo("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));dv.displayName="Card";const hv=q.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Yo("flex flex-col space-y-1.5 p-6",t),...e}));hv.displayName="CardHeader";const fv=q.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:Yo("text-2xl font-semibold leading-none tracking-tight",t),...e}));fv.displayName="CardTitle";const mv=q.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Yo("p-6 pt-0",t),...e}));mv.displayName="CardContent";const _c=q.forwardRef(({className:t,...e},n)=>a.jsx("label",{ref:n,className:Yo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));_c.displayName="Label";const RE=({children:t,value:e,onValueChange:n,...r})=>{const[s,i]=_.useState(!1),o=l=>{n&&n(l),i(!1)};return a.jsxs("div",{className:"relative",children:[a.jsx("div",{onClick:()=>i(!s),className:"w-full inline-flex items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 cursor-pointer",children:q.Children.map(t,l=>{if(l.type.displayName==="SelectValue"){const c=q.Children.toArray(q.Children.map(t,u=>u.type.displayName==="SelectContent"?u:null).filter(Boolean)[0].props.children).find(u=>u.props.value===e);return q.cloneElement(l,{children:c?c.props.children:l.props.placeholder})}return null})}),s&&a.jsx("div",{className:"absolute z-50 w-full rounded-md border bg-popover text-popover-foreground shadow-md mt-1",children:q.Children.map(t,l=>l.type.displayName==="SelectContent"?q.Children.map(l.props.children,c=>q.cloneElement(c,{onClick:()=>o(c.props.value)})):null)})]})},pv=({children:t,...e})=>a.jsx("div",{...e,children:t});pv.displayName="SelectTrigger";const gv=({placeholder:t,...e})=>a.jsx("span",{...e,children:t});gv.displayName="SelectValue";const yv=({children:t,...e})=>a.jsx("div",{...e,children:t});yv.displayName="SelectContent";const vv=({children:t,value:e,...n})=>a.jsx("div",{...n,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",children:t});vv.displayName="SelectItem";const sW=Sl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),OE=({className:t,variant:e,...n})=>a.jsx("div",{className:Yo(sW({variant:e}),t),...n}),iW=({onLocationCapture:t,onPhotosCapture:e,isRequired:n=!0,db:r,userId:s})=>{const[i,o]=_.useState(null),[l,c]=_.useState([]),[u,h]=_.useState([]),[f,m]=_.useState(""),[y,S]=_.useState(""),[x,w]=_.useState(!1),[g,v]=_.useState(""),[b,k]=_.useState("pending"),[R,D]=_.useState(!1),[N,T]=_.useState([]),[j,A]=_.useState(null),P=_.useRef(null),O=[{value:"crop",label:"Crop Farming"},{value:"livestock",label:"Livestock"},{value:"poultry",label:"Poultry"},{value:"fishery",label:"Fishery/Aquaculture"},{value:"mixed",label:"Mixed Farming"},{value:"other",label:"Other"}],I=[{value:"0-1",label:"0-1 Hectare"},{value:"1-5",label:"1-5 Hectares"},{value:"5-10",label:"5-10 Hectares"},{value:"10-50",label:"10-50 Hectares"},{value:"50+",label:"50+ Hectares"}];_.useEffect(()=>{const U=l.map(G=>URL.createObjectURL(G));return h(U),()=>U.forEach(G=>URL.revokeObjectURL(G))},[l]),_.useEffect(()=>{if(r&&s){const G=GH(NE(r,`artifacts/${typeof __app_id<"u"?__app_id:"default-app-id"}/users/${s}/farm_submissions`)),le=eW(G,de=>{const Y=[];de.forEach(se=>{Y.push({id:se.id,...se.data()})}),T(Y)},de=>{console.error("Error fetching submissions:",de),St.error("Failed to fetch submissions. Please try again.")});return()=>le()}},[r,s]);const M=async()=>{if(!navigator.geolocation){v("Geolocation is not supported by this browser");return}w(!0),v(""),navigator.geolocation.getCurrentPosition(async U=>{const{latitude:G,longitude:le,accuracy:de}=U.coords;try{const Y=await V(G,le),se={latitude:G,longitude:le,accuracy:de,address:Y};o(se),t(se)}catch(Y){console.log("[v0] Reverse geocoding error:",Y);const se={latitude:G,longitude:le,accuracy:de,address:`${G.toFixed(6)}, ${le.toFixed(6)}`};o(se),t(se)}w(!1),St.success("Farm location captured successfully!")},U=>{switch(w(!1),U.code){case U.PERMISSION_DENIED:v("Location access denied. Please enable location services.");break;case U.POSITION_UNAVAILABLE:v("Location information is unavailable.");break;case U.TIMEOUT:v("Location request timed out. Please try again.");break;default:v("An unknown error occurred while capturing location.")}St.error(g)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},V=async(U,G)=>{try{const le=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${U}&longitude=${G}&localityLanguage=en`);if(le.ok)return(await le.json()).city||`${U.toFixed(6)}, ${G.toFixed(6)}`}catch(le){console.log("[v0] Geocoding service error:",le)}return`${U.toFixed(6)}, ${G.toFixed(6)}`},B=U=>{const G=Array.from(U.target.files||[]);if(G.length===0)return;const le=G.filter(de=>de.type.startsWith("image/")?de.size>5*1024*1024?(St.error(`${de.name} is too large. Max size is 5MB`),!1):!0:(St.error(`${de.name} is not a valid image file`),!1));if(le.length>0){const de=[...l,...le].slice(0,5);c(de),e(de),St.success(`${le.length} photo(s) added successfully`)}},ee=U=>{const G=l.filter((le,de)=>de!==U);c(G),e(G),St.info("Photo removed.")},L=()=>{setTimeout(()=>{k("verified"),St.success("Farm location verified by certified agent!")},3e3)};_.useEffect(()=>{i&&l.length>0&&L()},[i,l]);const Q=()=>{o(null),c([]),h([]),m(""),S(""),A(null),St.info("Form reset.")},te=async()=>{if(!r||!s){St.error("Database not ready. Please try again.");return}if(!i||!y||!f||l.length===0){St.error("Please fill all required fields and upload at least one photo.");return}D(!0);try{const U=typeof __app_id<"u"?__app_id:"default-app-id",G={userId:s,farmType:y,farmSize:f,location:{latitude:i.latitude,longitude:i.longitude,accuracy:i.accuracy,address:i.address},photosCount:l.length,agentVerificationStatus:b,createdAt:nW()};j?(await JH(uv(r,`artifacts/${U}/users/${s}/farm_submissions`,j.id),G),St.success("Submission updated successfully!"),A(null)):(await ZH(NE(r,`artifacts/${U}/users/${s}/farm_submissions`),G),St.success("Data saved successfully!")),Q()}catch(U){console.error("Error saving document: ",U),St.error("Failed to save data. Please try again.")}finally{D(!1)}},he=U=>{A(U),S(U.farmType),m(U.farmSize),o(U.location),c([]),h([]),St.info("Editing submission. You can update the details and re-upload photos.")},we=async U=>{if(!r||!s){St.error("Database not ready.");return}D(!0);try{await XH(uv(r,`artifacts/${typeof __app_id<"u"?__app_id:"default-app-id"}/users/${s}/farm_submissions`,U)),St.success("Submission deleted successfully!")}catch(G){console.error("Error deleting document: ",G),St.error("Failed to delete submission. Please try again.")}finally{D(!1)}};return a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsxs(dv,{className:"w-full max-w-2xl mx-auto",children:[a.jsx(hv,{children:a.jsxs(fv,{className:"flex items-center gap-2",children:[a.jsx(ds,{className:"h-5 w-5"}),j?"Edit Farm Submission":"Farm Mapping & Verification",n&&a.jsx("span",{className:"text-destructive",children:"*"})]})}),a.jsxs(mv,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_c,{children:"Farm Type *"}),a.jsxs(RE,{value:y,onValueChange:S,children:[a.jsx(pv,{children:a.jsx(gv,{placeholder:"Select farm type"})}),a.jsx(yv,{children:O.map(U=>a.jsx(vv,{value:U.value,children:U.label},U.value))})]})]}),a.jsxs("div",{children:[a.jsx(_c,{children:"Farm Size *"}),a.jsxs(RE,{value:f,onValueChange:m,children:[a.jsx(pv,{children:a.jsx(gv,{placeholder:"Select farm size"})}),a.jsx(yv,{children:I.map(U=>a.jsx(vv,{value:U.value,children:U.label},U.value))})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_c,{children:"Farm Location *"}),i&&a.jsxs(OE,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(nn,{className:"h-3 w-3"}),"Location Captured"]})]}),i?a.jsxs("div",{className:"p-4 bg-secondary/20 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Coordinates:"}),a.jsxs("span",{className:"text-sm font-mono",children:[i.latitude.toFixed(6),", ",i.longitude.toFixed(6)]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:"Accuracy:"}),a.jsxs("span",{className:"text-sm",children:["±",Math.round(i.accuracy),"m"]})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("span",{className:"font-medium",children:"Address:"}),a.jsx("span",{className:"text-sm text-right max-w-xs",children:i.address})]}),a.jsx("iframe",{width:"100%",height:"200",src:`https://www.google.com/maps?q=${i.latitude},${i.longitude}&hl=en&z=15&output=embed`,className:"rounded-lg"})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ks,{onClick:M,disabled:x,className:"w-full bg-transparent",variant:"outline",children:x?a.jsxs(a.Fragment,{children:[a.jsx(Fa,{className:"h-4 w-4 mr-2 animate-spin"}),"Capturing Location..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ds,{className:"h-4 w-4 mr-2"}),"Capture Farm Location"]})}),g&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[a.jsx(ze,{className:"h-4 w-4"}),g]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"We need your exact farm location for verification purposes."})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_c,{children:"Farm Photos *"}),l.length>0&&a.jsxs(OE,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(hh,{className:"h-3 w-3"}),l.length," Photo(s)"]})]}),a.jsxs(Ks,{onClick:()=>{var U;return(U=P.current)==null?void 0:U.click()},variant:"outline",className:"w-full",children:[a.jsx(aj,{className:"h-4 w-4 mr-2"}),"Upload Farm Photos (Max 5)"]}),a.jsx("input",{ref:P,type:"file",accept:"image/*",multiple:!0,onChange:B,className:"hidden"}),l.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.map((U,G)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:u[G],alt:`Farm photo ${G+1}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx(Ks,{onClick:()=>ee(G),variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:"×"}),a.jsx("span",{className:"absolute bottom-1 left-1 text-xs text-white bg-black/50 px-1 rounded",children:new Date().toLocaleString()})]},G))}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[5-l.length," photo(s) remaining"]})]}),i&&l.length>0&&a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[b==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(Fa,{className:"h-5 w-5 animate-spin text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Pending Agent Verification"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your farm location and photos are being reviewed by a certified agent"})]})]}),b==="verified"&&a.jsxs(a.Fragment,{children:[a.jsx(nn,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-700",children:"Verified by Agent"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your farm has been successfully verified by our certified agent"})]})]}),b==="rejected"&&a.jsxs(a.Fragment,{children:[a.jsx(ze,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-700",children:"Verification Failed"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please contact support for assistance"})]})]})]})}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(Ks,{onClick:te,disabled:R||!i||l.length===0||!y||!f,className:"flex-1",children:R?a.jsxs(a.Fragment,{children:[a.jsx(Fa,{className:"h-4 w-4 mr-2 animate-spin"}),j?"Updating...":"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(EM,{className:"h-4 w-4 mr-2"}),j?"Update Submission":"Save to Database"]})}),j&&a.jsx(Ks,{onClick:Q,variant:"outline",className:"flex-1",children:"Cancel Edit"})]})]})]}),N.length>0&&a.jsxs(dv,{className:"w-full max-w-2xl mx-auto",children:[a.jsx(hv,{children:a.jsxs(fv,{className:"flex items-center gap-2",children:[a.jsx(ds,{className:"h-5 w-5"}),"Your Submissions (",N.length,")"]})}),a.jsx(mv,{className:"space-y-4",children:N.map(U=>a.jsxs("div",{className:"p-4 border rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-medium text-sm",children:[U.farmType.charAt(0).toUpperCase()+U.farmType.slice(1)," Farm - ",U.farmSize]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Coords: ",U.location.latitude.toFixed(4),", ",U.location.longitude.toFixed(4)]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Saved: ",U.createdAt?new Date(U.createdAt.seconds*1e3).toLocaleDateString():"N/A"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ks,{onClick:()=>he(U),variant:"outline",size:"sm",children:a.jsx(yM,{className:"h-4 w-4"})}),a.jsx(Ks,{onClick:()=>we(U.id),variant:"destructive",size:"sm",children:a.jsx(MM,{className:"h-4 w-4"})})]})]},U.id))})]})]})},oW=()=>{const[t,e]=_.useState(null),[n,r]=_.useState(null),[s,i]=_.useState(null),[o,l]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const f=JSON.parse(typeof __firebase_config<"u"?__firebase_config:"{}"),m=Mk(f),y=MH(m),S=D8(m);e(y),r(S),Sz(S,async x=>{if(x)i(x.uid);else{const w=typeof __initial_auth_token<"u"?__initial_auth_token:null;w?await _z(S,w):await gz(S)}l(!0)})}catch(f){console.error("Firebase initialization failed:",f)}})()},[]);const c=h=>{console.log("Captured Location:",h)},u=h=>{console.log("Captured Photos:",h)};return a.jsxs("div",{className:"p-8 min-h-screen bg-gray-100 flex items-center justify-center",children:[a.jsx(iW,{onLocationCapture:c,onPhotosCapture:u,db:t,userId:s}),a.jsx(Sj,{})]})};function DE({onPhotosCapture:t,maxPhotos:e=5,required:n=!0,title:r="Photo Verification",description:s="Capture clear photos following international standards"}){const{toast:i}=El(),[o,l]=_.useState([]),[c,u]=_.useState(!1),[h,f]=_.useState(null),m=_.useRef(null),y=_.useRef(null),S=_.useRef(null);_.useEffect(()=>()=>o.forEach(T=>URL.revokeObjectURL(T.preview)),[o]);const x=T=>{l(T),t(T.filter(j=>j.isValid).map(j=>j.file))},w=async T=>{const j=[];return T.size>10*1024*1024&&j.push("Photo size must be <10MB"),T.type.startsWith("image/")||j.push("File must be an image"),["image/jpeg","image/jpg","image/png","image/webp"].includes(T.type)||j.push("Photo must be JPEG, PNG, or WebP"),new Promise(P=>{const O=new Image;O.onload=()=>{(O.width<1280||O.height<720)&&j.push("Resolution must be at least 1280x720");const I=O.width/O.height;(I<.5||I>2)&&j.push("Aspect ratio must be 1:2–2:1"),P({isValid:j.length===0,errors:j})},O.onerror=()=>P({isValid:!1,errors:["Invalid image file"]}),O.src=URL.createObjectURL(T)})},g=async()=>{try{return await new Promise((T,j)=>{navigator.geolocation.getCurrentPosition(T,j,{enableHighAccuracy:!0,timeout:5e3})})}catch{return}},v=async()=>{try{u(!0);const T=await navigator.mediaDevices.getUserMedia({video:{width:1920,height:1080,facingMode:"user"}});f(T),m.current&&(m.current.srcObject=T),i({title:"Camera Ready",description:"Position yourself and capture photo"})}catch{i({title:"Camera Access Required",description:"Allow camera access",variant:"destructive"}),u(!1)}},b=()=>{h&&h.getTracks().forEach(T=>T.stop()),f(null),u(!1)},k=async()=>{if(!m.current||!y.current)return;const T=y.current,j=m.current,A=T.getContext("2d");A&&(T.width=j.videoWidth,T.height=j.videoHeight,A.drawImage(j,0,0),T.toBlob(async P=>{if(!P)return;const O=new Date,I=new File([P],`photo_${O.getTime()}.jpg`,{type:"image/jpeg"}),M=await g(),V=await w(I),B={file:I,preview:URL.createObjectURL(P),timestamp:O,location:M,isValid:V.isValid,validationErrors:V.errors};x([...o,B]),V.isValid?i({title:"Photo Captured",description:"Photo meets standards"}):i({title:"Photo Issue",description:V.errors.join(", "),variant:"destructive"}),b()},"image/jpeg",.95))},R=async T=>{const j=Array.from(T.target.files||[]),A=[];for(const P of j){if(o.length+A.length>=e){i({title:"Maximum Photos Reached",description:`You can only upload up to ${e} photos`,variant:"destructive"});break}const O=await g(),I=await w(P);A.push({file:P,preview:URL.createObjectURL(P),timestamp:new Date,location:O,isValid:I.isValid,validationErrors:I.errors})}x([...o,...A]),A.forEach(P=>{i({title:P.isValid?"Photo Uploaded":"Photo Issue",description:P.isValid?"Photo meets standards":P.validationErrors.join(", "),variant:P.isValid?"default":"destructive"})}),S.current&&(S.current.value="")},D=T=>{URL.revokeObjectURL(o[T].preview),x(o.filter((j,A)=>A!==T))},N=T=>{D(T),v()};return a.jsxs(J,{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(hh,{size:20})," ",r," ",n&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:s})]}),!c&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Z,{onClick:v,variant:"outline",className:"flex-1",disabled:o.length>=e,children:[a.jsx(hh,{size:16,className:"mr-2"})," Take Photo"]}),a.jsxs(Z,{onClick:()=>{var T;return(T=S.current)==null?void 0:T.click()},variant:"outline",className:"flex-1",disabled:o.length>=e,children:[a.jsx(aj,{size:16,className:"mr-2"})," Upload Photo"]})]}),c&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("video",{ref:m,autoPlay:!0,muted:!0,className:"w-full h-64 bg-black rounded"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Z,{onClick:k,className:"flex-1",children:[a.jsx(hh,{size:16,className:"mr-2"})," Capture"]}),a.jsx(Z,{variant:"outline",onClick:b,className:"flex-1",children:"Cancel"})]})]}),a.jsx("input",{ref:S,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",multiple:!0,onChange:R,className:"hidden"}),o.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium",children:["Captured Photos (",o.length,"/",e,")"]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map((T,j)=>a.jsxs("div",{className:"relative group border rounded overflow-hidden",children:[a.jsx("img",{src:T.preview,alt:`Photo ${j+1}`,className:"w-full h-32 object-cover"}),a.jsx("div",{className:"absolute top-2 right-2",children:T.isValid?a.jsx(nn,{size:20,className:"text-green-500 bg-white rounded-full"}):a.jsx(ze,{size:20,className:"text-red-500 bg-white rounded-full"})}),a.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-2",children:[a.jsx(Z,{size:"sm",variant:"secondary",onClick:()=>N(j),children:a.jsx(_M,{size:14})}),a.jsx(Z,{size:"sm",variant:"destructive",onClick:()=>D(j),children:a.jsx(lj,{size:14})})]}),!T.isValid&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:T.validationErrors.join(", ")}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T.timestamp.toLocaleString(),T.location?a.jsxs("span",{className:"ml-1",children:["📍 ",T.location.coords.latitude.toFixed(4),", ",T.location.coords.longitude.toFixed(4)]}):a.jsx("span",{className:"ml-1 text-red-500",children:"📍 GPS not available"})]})]},j))})]}),a.jsx("canvas",{ref:y,className:"hidden"})]})}const aW=()=>{var O,I;const t=Ho(),{toast:e}=El(),[n,r]=_.useState(!0),[s,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState({}),[h,f]=_.useState({nin:{isVerifying:!1,isVerified:!1,result:null},bvn:{isVerifying:!1,isVerified:!1,result:null},crossVerification:{isVerifying:!1,isVerified:!1,result:null}}),[m,y]=_.useState({location:null,photos:[],identityPhotos:[],documentationPhotos:[]}),[S,x]=_.useState({email:"",password:"",userType:""}),[w,g]=_.useState({email:"",password:"",confirmPassword:"",fullName:"",phone:"",userType:"",bankName:"",bankCode:"",cooperativeName:"",cooperativeId:"",nin:"",bvn:"",farmLocation:"",farmSize:""}),v=[{value:"farmer",label:"Farmer"},{value:"cooperative",label:"Cooperative"},{value:"bank",label:"Financial Institution"}],b=M=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M),k=M=>M.length>=8,R=()=>{const M={};return S.email.trim()?b(S.email)||(M.email="Please enter a valid email address"):M.email="Email is required",S.password.trim()||(M.password="Password is required"),S.userType||(M.userType="Please select your account type"),u(M),Object.keys(M).length===0},D=()=>{const M={};return w.fullName.trim()||(M.fullName="Full name is required"),w.email.trim()?b(w.email)||(M.email="Please enter a valid email address"):M.email="Email is required",w.password.trim()?k(w.password)||(M.password="Password must be at least 8 characters long"):M.password="Password is required",w.confirmPassword.trim()?w.password!==w.confirmPassword&&(M.confirmPassword="Passwords do not match"):M.confirmPassword="Please confirm your password",w.phone.trim()||(M.phone="Phone number is required"),w.userType||(M.userType="Please select your account type"),w.userType==="bank"&&(w.bankName.trim()||(M.bankName="Bank name is required"),w.bankCode.trim()||(M.bankCode="Bank code is required")),w.userType==="cooperative"&&(w.cooperativeName.trim()||(M.cooperativeName="Cooperative name is required"),w.cooperativeId.trim()||(M.cooperativeId="Cooperative ID is required")),w.userType==="farmer"&&(w.nin.trim()?h.nin.isVerified||(M.nin="NIN must be verified"):M.nin="NIN is required",w.bvn.trim()?h.bvn.isVerified||(M.bvn="BVN must be verified"):M.bvn="BVN is required",m.location||(M.farmMapping="Farm location must be captured"),m.photos.length===0&&(M.farmPhotos="At least one farm photo is required"),m.identityPhotos.length===0&&(M.identityPhotos="At least one identity photo is required"),m.documentationPhotos.length===0&&(M.farmDocumentation="At least one farm documentation photo is required")),u(M),Object.keys(M).length===0},N=async()=>{if(R()){l(!0);try{switch(await new Promise(M=>setTimeout(M,2e3)),e({title:"Sign In Successful!",description:"Welcome back to FarmCred."}),S.userType){case"farmer":t("/dashboard");break;case"cooperative":t("/cooperative");break;case"bank":t("/lender");break;default:t("/portals")}}catch{e({title:"Sign In Failed",description:"Please check your credentials and try again.",variant:"destructive"})}finally{l(!1)}}},T=async()=>{if(D()){l(!0);try{await new Promise(M=>setTimeout(M,2e3)),e({title:"Registration Successful!",description:"Please check your email for verification instructions."}),r(!0),x({email:w.email,password:"",userType:w.userType})}catch{e({title:"Registration Failed",description:"Please try again or contact support.",variant:"destructive"})}finally{l(!1)}}},j=async M=>{if(!(M.length!==11||!/^\d{11}$/.test(M))){f(V=>({...V,nin:{...V.nin,isVerifying:!0}}));try{console.log("[v0] Starting NIN verification");const V=await yh.verifyNIN(M);f(B=>({...B,nin:{isVerifying:!1,isVerified:V.isValid,result:V}})),V.isValid?(e.success("NIN verified successfully!"),V.data&&g(B=>({...B,fullName:B.fullName||`${V.data.firstName} ${V.data.lastName}`}))):e.error(V.message)}catch(V){console.log("[v0] NIN verification error:",V),f(B=>({...B,nin:{isVerifying:!1,isVerified:!1,result:null}})),e.error("Failed to verify NIN. Please try again.")}}},A=async M=>{if(!(M.length!==11||!/^\d{11}$/.test(M))){f(V=>({...V,bvn:{...V.bvn,isVerifying:!0}}));try{console.log("[v0] Starting BVN verification");const V=await yh.verifyBVN(M);f(B=>({...B,bvn:{isVerifying:!1,isVerified:V.isValid,result:V}})),V.isValid?e.success("BVN verified successfully!"):e.error(V.message),V.isValid&&h.nin.isVerified&&P(w.nin,M)}catch(V){console.log("[v0] BVN verification error:",V),f(B=>({...B,bvn:{isVerifying:!1,isVerified:!1,result:null}})),e.error("Failed to verify BVN. Please try again.")}}},P=async(M,V)=>{f(B=>({...B,crossVerification:{...B.crossVerification,isVerifying:!0}}));try{console.log("[v0] Starting cross-verification");const B=await yh.crossVerifyIdentity(M,V);f(ee=>({...ee,crossVerification:{isVerifying:!1,isVerified:B.isValid,result:B}})),B.isValid?e.success("Identity cross-verification successful!"):e.error(B.message)}catch(B){console.log("[v0] Cross-verification error:",B),f(ee=>({...ee,crossVerification:{isVerifying:!1,isVerified:!1,result:null}}))}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5 p-4",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-8 pt-8",children:[a.jsx($n,{size:"lg",className:"justify-center mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:n?"Sign In to FarmCred":"Create FarmCred Account"}),a.jsx("p",{className:"text-muted-foreground",children:n?"Access your secure dashboard":"Join Nigeria's trusted agricultural platform"})]}),a.jsx(J,{className:"p-6 shadow-medium",children:n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"email",children:"Email Address *"}),a.jsx(Be,{id:"email",type:"email",placeholder:"your.email@example.com",value:S.email,onChange:M=>{x(V=>({...V,email:M.target.value})),c.email&&u(V=>({...V,email:""}))},className:c.email?"border-destructive":""}),c.email&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.email]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"password",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Be,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:S.password,onChange:M=>{x(V=>({...V,password:M.target.value})),c.password&&u(V=>({...V,password:""}))},className:c.password?"border-destructive pr-10":"pr-10"}),a.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!s),children:s?a.jsx(ab,{size:16}):a.jsx(Io,{size:16})})]}),c.password&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.password]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"userType",children:"Account Type *"}),a.jsxs(hf,{value:S.userType,onValueChange:M=>{x(V=>({...V,userType:M})),c.userType&&u(V=>({...V,userType:""}))},children:[a.jsx(hu,{className:c.userType?"border-destructive":"",children:a.jsx(ff,{placeholder:"Select your account type"})}),a.jsx(fu,{children:v.map(M=>a.jsx(xn,{value:M.value,children:M.label},M.value))})]}),c.userType&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.userType]})]}),a.jsxs(Z,{onClick:N,className:"w-full",disabled:o,children:[o?"Signing In...":"Sign In",!o&&a.jsx(ob,{size:16,className:"ml-2"})]}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>r(!1),className:"text-primary hover:underline font-medium",children:"Create Account"})]})})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"fullName",children:"Full Name *"}),a.jsx(Be,{id:"fullName",placeholder:"Enter your full name",value:w.fullName,onChange:M=>{g(V=>({...V,fullName:M.target.value})),c.fullName&&u(V=>({...V,fullName:""}))},className:c.fullName?"border-destructive":""}),c.fullName&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.fullName]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"regEmail",children:"Email Address *"}),a.jsx(Be,{id:"regEmail",type:"email",placeholder:"your.email@example.com",value:w.email,onChange:M=>{g(V=>({...V,email:M.target.value})),c.email&&u(V=>({...V,email:""}))},className:c.email?"border-destructive":""}),c.email&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.email]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"regPassword",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Be,{id:"regPassword",type:s?"text":"password",placeholder:"Create a strong password",value:w.password,onChange:M=>{g(V=>({...V,password:M.target.value})),c.password&&u(V=>({...V,password:""}))},className:c.password?"border-destructive pr-10":"pr-10"}),a.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!s),children:s?a.jsx(ab,{size:16}):a.jsx(Io,{size:16})})]}),c.password&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.password]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"confirmPassword",children:"Confirm Password *"}),a.jsx(Be,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:w.confirmPassword,onChange:M=>{g(V=>({...V,confirmPassword:M.target.value})),c.confirmPassword&&u(V=>({...V,confirmPassword:""}))},className:c.confirmPassword?"border-destructive":""}),c.confirmPassword&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.confirmPassword]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"phone",children:"Phone Number *"}),a.jsx(Be,{id:"phone",type:"tel",placeholder:"+234 8XX XXX XXXX",value:w.phone,onChange:M=>{g(V=>({...V,phone:M.target.value})),c.phone&&u(V=>({...V,phone:""}))},className:c.phone?"border-destructive":""}),c.phone&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.phone]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"regUserType",children:"Account Type *"}),a.jsxs(hf,{value:w.userType,onValueChange:M=>{g(V=>({...V,userType:M})),c.userType&&u(V=>({...V,userType:""}))},children:[a.jsx(hu,{className:c.userType?"border-destructive":"",children:a.jsx(ff,{placeholder:"Select your account type"})}),a.jsx(fu,{children:v.map(M=>a.jsx(xn,{value:M.value,children:M.label},M.value))})]}),c.userType&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.userType]})]}),w.userType==="bank"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"bankName",children:"Bank Name *"}),a.jsx(Be,{id:"bankName",placeholder:"e.g., First Bank of Nigeria",value:w.bankName,onChange:M=>{g(V=>({...V,bankName:M.target.value})),c.bankName&&u(V=>({...V,bankName:""}))},className:c.bankName?"border-destructive":""}),c.bankName&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.bankName]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"bankCode",children:"Bank Code *"}),a.jsx(Be,{id:"bankCode",placeholder:"e.g., 011",value:w.bankCode,onChange:M=>{g(V=>({...V,bankCode:M.target.value})),c.bankCode&&u(V=>({...V,bankCode:""}))},className:c.bankCode?"border-destructive":""}),c.bankCode&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.bankCode]})]})]}),w.userType==="cooperative"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"cooperativeName",children:"Cooperative Name *"}),a.jsx(Be,{id:"cooperativeName",placeholder:"Enter cooperative name",value:w.cooperativeName,onChange:M=>{g(V=>({...V,cooperativeName:M.target.value})),c.cooperativeName&&u(V=>({...V,cooperativeName:""}))},className:c.cooperativeName?"border-destructive":""}),c.cooperativeName&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.cooperativeName]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"cooperativeId",children:"Cooperative Registration ID *"}),a.jsx(Be,{id:"cooperativeId",placeholder:"Enter registration ID",value:w.cooperativeId,onChange:M=>{g(V=>({...V,cooperativeId:M.target.value})),c.cooperativeId&&u(V=>({...V,cooperativeId:""}))},className:c.cooperativeId?"border-destructive":""}),c.cooperativeId&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.cooperativeId]})]})]}),w.userType==="farmer"&&a.jsxs(a.Fragment,{children:[a.jsx(DE,{title:"Identity Photo Verification",description:"Take a clear photo of yourself for identity verification following international standards",maxPhotos:2,onPhotosCapture:M=>{y(V=>({...V,identityPhotos:M})),c.identityPhotos&&u(V=>({...V,identityPhotos:""}))}}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"nin",children:"National Identity Number (NIN) *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Be,{id:"nin",placeholder:"Enter your 11-digit NIN",value:w.nin,onChange:M=>{const V=M.target.value.replace(/\D/g,"").slice(0,11);g(B=>({...B,nin:V})),c.nin&&u(B=>({...B,nin:""})),V.length===11&&j(V)},className:c.nin?"border-destructive pr-20":"pr-20",maxLength:11}),a.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[h.nin.isVerifying&&a.jsx(Fa,{className:"h-4 w-4 animate-spin text-blue-500"}),h.nin.isVerified&&a.jsx(nn,{className:"h-4 w-4 text-green-500"}),h.nin.result&&!h.nin.result.isValid&&a.jsx(ze,{className:"h-4 w-4 text-red-500"})]})]}),c.nin&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.nin]}),h.nin.isVerified&&((O=h.nin.result)==null?void 0:O.data)&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm",children:a.jsxs("p",{className:"text-green-700 font-medium",children:["✓ Verified: ",h.nin.result.data.firstName," ",h.nin.result.data.lastName]})})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"bvn",children:"Bank Verification Number (BVN) *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Be,{id:"bvn",placeholder:"Enter your 11-digit BVN",value:w.bvn,onChange:M=>{const V=M.target.value.replace(/\D/g,"").slice(0,11);g(B=>({...B,bvn:V})),c.bvn&&u(B=>({...B,bvn:""})),V.length===11&&A(V)},className:c.bvn?"border-destructive pr-20":"pr-20",maxLength:11}),a.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[h.bvn.isVerifying&&a.jsx(Fa,{className:"h-4 w-4 animate-spin text-blue-500"}),h.bvn.isVerified&&a.jsx(nn,{className:"h-4 w-4 text-green-500"}),h.bvn.result&&!h.bvn.result.isValid&&a.jsx(ze,{className:"h-4 w-4 text-red-500"})]})]}),c.bvn&&a.jsxs("p",{className:"text-sm text-destructive mt-1 flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.bvn]}),h.bvn.isVerified&&((I=h.bvn.result)==null?void 0:I.data)&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm",children:a.jsxs("p",{className:"text-green-700 font-medium",children:["✓ Verified: ",h.bvn.result.data.firstName," ",h.bvn.result.data.lastName]})})]}),h.nin.isVerified&&h.bvn.isVerified&&a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[h.crossVerification.isVerifying&&a.jsxs(a.Fragment,{children:[a.jsx(Fa,{className:"h-5 w-5 animate-spin text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Cross-verifying Identity"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking if NIN and BVN belong to the same person"})]})]}),h.crossVerification.isVerified&&a.jsxs(a.Fragment,{children:[a.jsx(UM,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-700",children:"Identity Verified"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"NIN and BVN successfully cross-verified"})]})]}),h.crossVerification.result&&!h.crossVerification.result.isValid&&a.jsxs(a.Fragment,{children:[a.jsx(ze,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-700",children:"Identity Mismatch"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:h.crossVerification.result.message})]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(oW,{onLocationCapture:M=>{y(V=>({...V,location:M})),c.farmMapping&&u(V=>({...V,farmMapping:""}))},onPhotosCapture:M=>{y(V=>({...V,photos:M})),c.farmPhotos&&u(V=>({...V,farmPhotos:""}))}}),a.jsx(DE,{title:"Farm Documentation Photos",description:"Capture photos of your farm, crops, and any relevant documentation",maxPhotos:5,onPhotosCapture:M=>{y(V=>({...V,documentationPhotos:M})),c.farmDocumentation&&u(V=>({...V,farmDocumentation:""}))}}),(c.farmMapping||c.farmPhotos||c.identityPhotos||c.farmDocumentation)&&a.jsxs("div",{className:"space-y-1",children:[c.farmMapping&&a.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.farmMapping]}),c.farmPhotos&&a.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.farmPhotos]}),c.identityPhotos&&a.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.identityPhotos]}),c.farmDocumentation&&a.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[a.jsx(ze,{size:14}),c.farmDocumentation]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-primary/5 rounded-lg",children:[a.jsx(Ln,{size:20,className:"text-primary"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your data is encrypted and secured with bank-grade security"})]}),a.jsxs(Z,{onClick:T,className:"w-full",disabled:o,children:[o?"Creating Account...":"Create Account",!o&&a.jsx(ob,{size:16,className:"ml-2"})]}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx("button",{onClick:()=>r(!0),className:"text-primary hover:underline font-medium",children:"Sign In"})]})})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-muted-foreground",children:[a.jsx(Bt,{type:"security",label:"256-bit SSL"}),a.jsx(Bt,{type:"verified",label:"CBN Compliant"}),a.jsx(Bt,{type:"rating",label:"ISO 27001"})]})}),a.jsxs(J,{className:"mt-6 p-4 bg-secondary/20",children:[a.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Need Help?"}),a.jsx(wm,{variant:"footer",className:"text-xs"})]})]})})},Pa=({icon:t,title:e,value:n,description:r,trend:s})=>t?a.jsxs("div",{className:"bg-gradient-card p-6 rounded-xl shadow-soft border border-border hover:shadow-medium transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:a.jsx(t,{size:24,className:"text-primary"})}),s&&a.jsxs("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${s.isPositive?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:[s.isPositive?"+":"",s.value]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-foreground",children:n}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:e}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]}):(console.error("[v0] StatsCard received undefined icon"),null),fs=(t,e,n)=>Math.max(0,Math.min(100,(t-e)/(n-e)*100)),lW=t=>{let e=0,n="";return t.ninVerified?(e+=5,n+="NIN verified (+5), "):n+="NIN not verified (-5), ",t.bvnVerified?(e+=5,n+="BVN verified (+5), "):n+="BVN not verified (-5), ",t.hasCollateral?(e+=5,n+="Collateral available (+5), "):n+="No collateral (-5), ",t.cooperativeMember?(e+=5,n+="Cooperative member (+5)"):n+="Not a cooperative member (-15)",{score:Math.max(0,Math.min(20,e)),explanation:n}},cW=t=>{const e=fs(t.hectares,.5,5)*.1,n=Math.min(7.5,t.cropTypes.length*2.5),r=fs(t.livestockCount,0,50)*.05,s=fs(t.equipmentValue,0,2e6)*.025,i=e+n+r+s,o=`Farm size: ${t.hectares}ha (${e.toFixed(1)}), Crop diversity: ${t.cropTypes.length} types (${n.toFixed(1)}), Livestock: ${t.livestockCount} (${r.toFixed(1)})`;return{score:Math.round(Math.min(25,i)),explanation:o}},uW=t=>{if(t.yieldHistory.length===0)return{score:12.5,explanation:"New farmer - using base score (12.5/25)"};const n=t.yieldHistory.reduce((c,u)=>c+u,0)/t.yieldHistory.length/t.cooperativeYieldAvg,r=fs(n,.7,1.3)*.15,s=t.repaymentHistory.reduce((c,u)=>c+u,0)/t.repaymentHistory.length,i=s/100*10,o=r+i,l=`Yield vs cooperative avg: ${(n*100).toFixed(0)}% (${r.toFixed(0)}), Repayment rate: ${s.toFixed(0)}% (${i.toFixed(0)})`;return{score:Math.round(Math.min(25,o)),explanation:l}},dW=t=>{const e=t.cooperativeRating/100*9,n=fs(t.peerRecommendations,0,10)*.0375,r=fs(t.leadershipRoles,0,5)*.015,s=fs(t.trainingCompleted,0,10)*.0075,i=e+n+r+s,o=`Cooperative rating: ${t.cooperativeRating}/100 (${e.toFixed(1)}), Peer recommendations: ${t.peerRecommendations} (${n.toFixed(1)})`;return{score:Math.round(Math.min(15,i)),explanation:o}},hW=t=>{const e=t.loanAmount/t.projectedRevenue,n=fs(1-e,0,.8)*7.5,r=t.marketPrices.length>1?Math.sqrt(t.marketPrices.reduce((c,u,h,f)=>{const m=f.reduce((y,S)=>y+S,0)/f.length;return c+Math.pow(u-m,2)},0)/t.marketPrices.length)/(t.marketPrices.reduce((c,u)=>c+u,0)/t.marketPrices.length):0,s=fs(1-r,.7,1)*4.5,i=(100-t.weatherRisk)/100*3,o=n+s+i,l=`Loan/revenue ratio: ${(e*100).toFixed(0)}% (${n.toFixed(1)}), Weather risk: ${t.weatherRisk}% (${i.toFixed(1)})`;return{score:Math.round(Math.min(15,o)),explanation:l}},$0=t=>{const e=lW(t),n=cW(t),r=uW(t),s=dW(t),i=hW(t),o=e.score+n.score+r.score+s.score+i.score;let l,c,u;o>=75?(l="Green",c=12,u=1):o>=55?(l="Yellow",c=15,u=.8):o>=35?(l="Orange",c=18,u=.6):(l="Red",c=25,u=.3);const h=Math.round(t.loanAmount*u);return{score:Math.round(o),riskBand:l,subscores:{identity:Math.round(e.score),assets:Math.round(n.score),history:Math.round(r.score),trust:Math.round(s.score),capacity:Math.round(i.score)},explanation:{S1_Identity:e.explanation,S2_Assets:n.explanation,S3_History:r.explanation,S4_Trust:s.explanation,S5_Capacity:i.explanation},recommendedLoanAmount:h,interestRate:c}},co={ninVerified:!0,bvnVerified:!0,hasCollateral:!0,cooperativeMember:!0,hectares:2.5,cropTypes:["Maize","Soybeans"],livestockCount:15,equipmentValue:8e5,yieldHistory:[2800,3200,2950],repaymentHistory:[95,88,92],cooperativeYieldAvg:3e3,cooperativeRating:85,peerRecommendations:7,leadershipRoles:2,trainingCompleted:5,projectedRevenue:12e5,loanAmount:4e5,marketPrices:[180,195,175,188],weatherRisk:25,location:"Funtua",state:"Katsina"},fW=()=>{const t=Ho(),{toast:e}=El(),n=$0(co),r={name:"Musa Ibrahim",location:"Funtua, Katsina State",farmSize:"2.5 hectares",cropType:"Maize & Millet",creditScore:n.score,riskBand:n.riskBand,activeLoan:"₦250,000",nextPayment:"Dec 15, 2024",farmerId:"KT-FT-105401226"},s=()=>{t("/loan-application")},i=()=>{e({title:"Farm Data Update",description:"Opening farm data update form..."})},o=()=>{t("/profile-editor"),e({title:"Profile Editor",description:"Opening profile editor..."})},l=()=>{e({title:"Credit Score Details",description:"Showing detailed credit score breakdown..."})},c=()=>{t("/make-payment")},u=()=>{e({title:"Asset Registration",description:"Opening asset registration form..."}),setTimeout(()=>{e({title:"Registration Form Ready",description:"Add new farm equipment, livestock, or land assets."})},1500)},h=()=>{e({title:"Certificate Download",description:"Generating collateral certificate PDF..."}),setTimeout(()=>{e({title:"Download Ready",description:"Collateral certificate has been generated successfully."})},2500)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsx($n,{size:"md"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-success/10 rounded-full",children:[a.jsx(Ln,{size:14,className:"text-success"}),a.jsx("span",{className:"text-xs text-success font-medium",children:"Verified Account"})]}),a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(tj,{size:20})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:a.jsx(fy,{size:16,className:"text-primary-foreground"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-sm font-medium",children:r.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Verified Farmer"})]})]})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[a.jsx("div",{className:"bg-gradient-hero p-6 rounded-xl text-primary-foreground",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",r.name,"!"]}),a.jsx("p",{className:"opacity-90 mb-4",children:"Your farm profile is verified and ready for lending"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Bt,{type:"verified",label:"NIN Verified",className:"bg-white/20 text-white border-white/30"}),a.jsx(Bt,{type:"security",label:"BVN Linked",className:"bg-white/20 text-white border-white/30"}),a.jsx(Bt,{type:"rating",label:`Credit Score: ${r.creditScore}`,className:"bg-white/20 text-white border-white/30"})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-white/80 mb-1",children:"Farmer ID"}),a.jsx("div",{className:"font-mono text-sm bg-white/20 px-3 py-1 rounded border border-white/30",children:r.farmerId})]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Pa,{icon:kx,title:"Credit Limit",value:"₦500,000",description:"Available for borrowing",trend:{value:"15%",isPositive:!0}}),a.jsx("div",{onClick:l,className:"cursor-pointer",children:a.jsx(Pa,{icon:Du,title:"Credit Score",value:`${r.creditScore}/100`,description:`${r.riskBand} rating`,trend:{value:"25 pts",isPositive:!0}})}),a.jsx(Pa,{icon:rm,title:"Farm Assets",value:r.farmSize,description:"Verified farmland"}),a.jsx(Pa,{icon:jx,title:"Loan Term",value:"12 months",description:"Current active loan"})]}),a.jsxs(J,{className:"p-6 bg-gradient-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Credit Score Breakdown"}),a.jsx(Bt,{type:"verified",label:`${r.creditScore}/100 ${r.riskBand}`})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:"18"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Identity (20)"}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"90%"}})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-success",children:"22"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Assets (25)"}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"88%"}})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-accent",children:"20"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"History (25)"}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:"80%"}})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-warning",children:"12"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Trust (15)"}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:"80%"}})})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-destructive",children:"11"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Capacity (15)"}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-destructive h-2 rounded-full",style:{width:"73%"}})})]})]}),a.jsxs("div",{className:"mt-4 p-4 bg-success/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{size:16,className:"text-success"}),a.jsx("span",{className:"text-sm font-medium text-success",children:"Green Risk Band - Qualified for Loans"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your credit score qualifies you for loans up to ₦500,000 at 12% interest rate."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Active Loan"}),a.jsx(Bt,{type:"verified",label:"On Track"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Loan Amount"}),a.jsx("span",{className:"font-semibold",children:r.activeLoan})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Next Payment"}),a.jsx("span",{className:"font-semibold",children:r.nextPayment})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"Payment Amount"}),a.jsx("span",{className:"font-semibold",children:"₦25,000"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"65%"}})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"65% paid"}),a.jsx(Z,{className:"w-full mt-4",onClick:c,children:"Make Payment"})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Farm Assets"}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:u,children:[a.jsx(ph,{size:16,className:"mr-2"}),"Add Asset"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 border border-border rounded-lg",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:a.jsx(ds,{size:20,className:"text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium",children:r.location}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.farmSize," • ",r.cropType]})]}),a.jsx(Bt,{type:"verified",label:"GPS Verified"})]}),a.jsxs(Z,{variant:"outline",className:"w-full bg-transparent",onClick:h,children:[a.jsx(rf,{size:16,className:"mr-2"}),"Download Collateral Certificate"]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:s,children:[a.jsx(Cx,{size:16,className:"mr-2"}),"Apply for Loan"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:i,children:[a.jsx(Ln,{size:16,className:"mr-2"}),"Update Farm Data"]}),a.jsxs(Z,{variant:"outline",className:"w-full justify-start bg-transparent",onClick:o,children:[a.jsx(fy,{size:16,className:"mr-2"}),"Edit Profile"]})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Payment received"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Farm data updated"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"1 day ago"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Credit score improved"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]})]})]})]})]})]})]})},mW=Sl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Rf({className:t,variant:e,...n}){return a.jsx("div",{className:Ke(mW({variant:e}),t),...n})}const pW=()=>{const[t,e]=_.useState("overview"),[n,r]=_.useState("all"),s=[{icon:vs,title:"Total Applications",value:"2,456",description:"Loan applications received",trend:{value:"12%",isPositive:!0}},{icon:kx,title:"Portfolio Value",value:"₦2.4B",description:"Total loans disbursed",trend:{value:"18%",isPositive:!0}},{icon:Du,title:"Approval Rate",value:"68%",description:"Applications approved",trend:{value:"5%",isPositive:!0}},{icon:Ln,title:"Repayment Rate",value:"94%",description:"On-time repayments",trend:{value:"2%",isPositive:!0}}],o=[{name:"Musa Ibrahim",location:"Funtua, Katsina",loanAmount:4e5,farmSize:"2.5ha",cropType:"Maize",data:{...co,loanAmount:4e5}},{name:"Fatima Sani",location:"Zaria, Kaduna",loanAmount:2e5,farmSize:"1.8ha",cropType:"Rice",data:{...co,loanAmount:2e5,hectares:1.8,cropTypes:["Rice"],yieldHistory:[2500,2800,2600],cooperativeRating:70,weatherRisk:35}},{name:"Ahmad Usman",location:"Kano, Kano",loanAmount:35e4,farmSize:"3.2ha",cropType:"Millet",data:{...co,loanAmount:35e4,hectares:3.2,cropTypes:["Millet","Soybeans"],cooperativeRating:80}},{name:"Aisha Mohammed",location:"Kaduna, Kaduna",loanAmount:15e4,farmSize:"1.2ha",cropType:"Beans",data:{...co,loanAmount:15e4,hectares:1.2,cropTypes:["Beans"],hasCollateral:!1,yieldHistory:[2200,2400,2100],cooperativeRating:65,weatherRisk:40}},{name:"Ibrahim Garba",location:"Sokoto, Sokoto",loanAmount:5e5,farmSize:"4.1ha",cropType:"Onions",data:{...co,loanAmount:5e5,hectares:4.1,cropTypes:["Onions"],ninVerified:!1,yieldHistory:[1800,2e3,1900],cooperativeRating:45,weatherRisk:60}}].map((f,m)=>{const y=$0(f.data);return{id:`APP00${m+1}`,farmerName:f.name,location:f.location,loanAmount:`₦${f.loanAmount.toLocaleString()}`,creditScore:y.score,riskBand:y.riskBand,status:m===2?"approved":m===4?"rejected":m===1?"under_review":"pending",appliedDate:new Date(Date.now()-(m+1)*24*60*60*1e3).toISOString().split("T")[0],farmSize:f.farmSize,cropType:f.cropType,recommendedAmount:`₦${y.recommendedLoanAmount.toLocaleString()}`,interestRate:`${y.interestRate}%`}}),l=h=>{switch(h){case"Green":return"bg-success/10 text-success border-success/20";case"Yellow":return"bg-warning/10 text-warning border-warning/20";case"Orange":return"bg-orange-500/10 text-orange-500 border-orange-500/20";case"Red":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-secondary/10 text-secondary border-secondary/20"}},c=h=>{switch(h){case"approved":return"bg-success/10 text-success border-success/20";case"pending":return"bg-warning/10 text-warning border-warning/20";case"under_review":return"bg-primary/10 text-primary border-primary/20";case"rejected":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-secondary/10 text-secondary border-secondary/20"}},u=()=>n==="all"?o:o.filter(h=>h.riskBand.toLowerCase()===n.toLowerCase());return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx($n,{size:"md"}),a.jsx("div",{className:"h-8 w-px bg-border"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Financial Institution Portal"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loan Assessment & Management"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-success/10 rounded-full",children:[a.jsx(Ln,{size:14,className:"text-success"}),a.jsx("span",{className:"text-xs text-success font-medium",children:"Secure Session"})]}),a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(tj,{size:20})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:a.jsx(fy,{size:16,className:"text-primary-foreground"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-sm font-medium",children:"First Bank Nigeria"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Loan Officer Portal"})]})]})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[a.jsx("div",{className:"flex gap-6",children:["Overview","Loan Applications","Portfolio","Analytics"].map(h=>a.jsx("button",{onClick:()=>e(h.toLowerCase().replace(/ /g,"-")),className:`pb-2 border-b-2 font-medium transition-colors ${t===h.toLowerCase().replace(/ /g,"-")?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:h},h))}),t==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map((h,f)=>a.jsx(Pa,{...h},f))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Risk Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-success rounded-full"}),"Green (75-100) - Approve"]}),a.jsx("span",{className:"text-sm font-medium",children:"67%"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-warning rounded-full"}),"Yellow (55-74) - Review"]}),a.jsx("span",{className:"text-sm font-medium",children:"23%"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"Orange (35-54) - High Risk"]}),a.jsx("span",{className:"text-sm font-medium",children:"7%"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full"}),"Red (0-34) - Reject"]}),a.jsx("span",{className:"text-sm font-medium",children:"3%"})]})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"5 applications approved"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-warning rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"12 pending review"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"1 day ago"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"3 require attention"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Top Performing States"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Katsina"}),a.jsx("span",{className:"text-sm font-medium",children:"96% repayment"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Kano"}),a.jsx("span",{className:"text-sm font-medium",children:"94% repayment"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Kaduna"}),a.jsx("span",{className:"text-sm font-medium",children:"92% repayment"})]})]})]})]})]}),t==="loan-applications"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Loan Applications"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:n,onChange:h=>r(h.target.value),className:"px-3 py-2 border border-border rounded-md text-sm bg-background",children:[a.jsx("option",{value:"all",children:"All Risk Levels"}),a.jsx("option",{value:"green",children:"Green (Low Risk - Approve)"}),a.jsx("option",{value:"yellow",children:"Yellow (Medium Risk - Review)"}),a.jsx("option",{value:"orange",children:"Orange (High Risk)"}),a.jsx("option",{value:"red",children:"Red (Very High Risk - Reject)"})]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(rf,{size:16,className:"mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(J,{className:"p-4 border-l-4 border-l-success",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Green (Low Risk)"}),a.jsx("p",{className:"text-2xl font-bold text-success",children:u().filter(h=>h.riskBand==="Green").length})]}),a.jsx("div",{className:"text-success",children:"75-100 Score"})]})}),a.jsx(J,{className:"p-4 border-l-4 border-l-warning",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Yellow (Medium Risk)"}),a.jsx("p",{className:"text-2xl font-bold text-warning",children:u().filter(h=>h.riskBand==="Yellow").length})]}),a.jsx("div",{className:"text-warning",children:"55-74 Score"})]})}),a.jsx(J,{className:"p-4 border-l-4 border-l-orange-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Orange (High Risk)"}),a.jsx("p",{className:"text-2xl font-bold text-orange-500",children:u().filter(h=>h.riskBand==="Orange").length})]}),a.jsx("div",{className:"text-orange-500",children:"35-54 Score"})]})}),a.jsx(J,{className:"p-4 border-l-4 border-l-destructive",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Red (Very High Risk)"}),a.jsx("p",{className:"text-2xl font-bold text-destructive",children:u().filter(h=>h.riskBand==="Red").length})]}),a.jsx("div",{className:"text-destructive",children:"0-34 Score"})]})})]}),a.jsx(J,{className:"overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-secondary",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3",children:"Farmer"}),a.jsx("th",{className:"text-left p-3",children:"Location"}),a.jsx("th",{className:"text-left p-3",children:"Loan Amount"}),a.jsx("th",{className:"text-left p-3",children:"Farm Size"}),a.jsx("th",{className:"text-left p-3",children:"Crop Type"}),a.jsx("th",{className:"text-left p-3",children:"Credit Score"}),a.jsx("th",{className:"text-left p-3",children:"Risk Band"}),a.jsx("th",{className:"text-left p-3",children:"Recommended"}),a.jsx("th",{className:"text-left p-3",children:"Interest Rate"}),a.jsx("th",{className:"text-left p-3",children:"Status"}),a.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),a.jsx("tbody",{children:u().map(h=>a.jsxs("tr",{className:"border-b border-border hover:bg-secondary/50",children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:h.farmerName}),a.jsx("div",{className:"text-sm text-muted-foreground",children:h.id})]})}),a.jsx("td",{className:"p-3 text-sm",children:h.location}),a.jsx("td",{className:"p-3 font-medium",children:h.loanAmount}),a.jsx("td",{className:"p-3 text-sm",children:h.farmSize}),a.jsx("td",{className:"p-3 text-sm",children:h.cropType}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:h.creditScore}),a.jsx("div",{className:"w-16 bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${h.creditScore}%`}})})]})}),a.jsx("td",{className:"p-3",children:a.jsx(Rf,{variant:"outline",className:l(h.riskBand),children:h.riskBand})}),a.jsx("td",{className:"p-3 font-medium",children:h.recommendedAmount}),a.jsx("td",{className:"p-3 text-muted-foreground",children:h.interestRate}),a.jsx("td",{className:"p-3",children:a.jsx(Rf,{variant:"outline",className:c(h.status),children:h.status.replace("_"," ")})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx(Z,{variant:"ghost",size:"sm",children:a.jsx(Io,{size:14})}),h.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(Z,{variant:"ghost",size:"sm",className:"text-success",children:a.jsx(nn,{size:14})}),a.jsx(Z,{variant:"ghost",size:"sm",className:"text-destructive",children:a.jsx(FD,{size:14})})]})]})})]},h.id))})]})})})]}),t==="portfolio"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Loan Portfolio Management"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Loans"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Total Active"}),a.jsx("span",{className:"font-medium",children:"1,245"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Total Value"}),a.jsx("span",{className:"font-medium",children:"₦1.8B"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Avg. Loan Size"}),a.jsx("span",{className:"font-medium",children:"₦145,000"})]})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"On-time Payments"}),a.jsx("span",{className:"font-medium text-success",children:"94%"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Late Payments"}),a.jsx("span",{className:"font-medium text-warning",children:"4%"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Defaults"}),a.jsx("span",{className:"font-medium text-destructive",children:"2%"})]})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Risk Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-success",children:"Green Risk"}),a.jsx("span",{className:"font-medium",children:"67%"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-warning",children:"Yellow Risk"}),a.jsx("span",{className:"font-medium",children:"23%"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-destructive",children:"High Risk"}),a.jsx("span",{className:"font-medium",children:"10%"})]})]})]})]})]}),t==="analytics"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Lending Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Disbursements"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"January 2024"}),a.jsx("span",{className:"font-medium",children:"₦245M"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"85%"}})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"February 2024"}),a.jsx("span",{className:"font-medium",children:"₦312M"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"100%"}})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"March 2024"}),a.jsx("span",{className:"font-medium",children:"₦278M"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"90%"}})})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"State Performance"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Katsina State"}),a.jsx("span",{className:"font-medium text-success",children:"96% repayment"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Kano State"}),a.jsx("span",{className:"font-medium text-success",children:"94% repayment"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Kaduna State"}),a.jsx("span",{className:"font-medium text-success",children:"92% repayment"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Sokoto State"}),a.jsx("span",{className:"font-medium text-warning",children:"88% repayment"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Kebbi State"}),a.jsx("span",{className:"font-medium text-warning",children:"85% repayment"})]})]})]})]})]}),a.jsxs(J,{className:"p-6 mt-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contact Support"}),a.jsx(wm,{variant:"card"})]})]})]})},gW=[{id:"abia",name:"Abia State",capital:"Umuahia",area:"6,320",population:2833999,zone:"South East",createdDate:"1991-08-27",coordinates:{latitude:5.4527,longitude:7.5248},localGovernments:[{id:"aba-north",name:"Aba North",coordinates:{latitude:5.1065,longitude:7.3986},area:"17.59",population:204e3,wards:[{id:"aba-north-ward1",name:"Eziama Ward",cooperatives:[{id:"abia-coop-1",name:"Aba North Farmers Cooperative",address:"No. 45 Azikiwe Road, Aba",memberCount:234,executiveCommittee:{chairman:"Chief Emeka Okafor",secretary:"Mrs. Ngozi Eze",treasurer:"Mr. Chukwu Okoro"},establishedYear:2019,registrationNumber:"AB/COOP/2019/001",agents:[{id:"agent-ab-001",name:"Ikechukwu Nwankwo",phone:"+234 803 123 4567",email:"ikechukwu@farmcred.ng",address:"12 School Road, Aba",cooperativeId:"abia-coop-1"}]}]}]},{id:"umuahia-north",name:"Umuahia North",coordinates:{latitude:5.525,longitude:7.4896},area:"296.26",population:179394,wards:[{id:"umuahia-north-ward1",name:"Afara Ward",cooperatives:[{id:"abia-coop-2",name:"Umuahia Agricultural Cooperative",address:"Government House Road, Umuahia",memberCount:189,executiveCommittee:{chairman:"Dr. Kelechi Okoye",secretary:"Mrs. Adaeze Nwosu",treasurer:"Mr. Obinna Ike"},establishedYear:2018,registrationNumber:"AB/COOP/2018/002",agents:[{id:"agent-ab-002",name:"Chioma Okwu",phone:"+234 805 234 5678",email:"chioma@farmcred.ng",address:"23 Ikot Ekpene Road, Umuahia",cooperativeId:"abia-coop-2"}]}]}]}]},{id:"adamawa",name:"Adamawa State",capital:"Yola",area:"36,917",population:4248436,zone:"North East",createdDate:"1991-08-27",coordinates:{latitude:9.3265,longitude:12.3984},localGovernments:[{id:"yola-north",name:"Yola North",coordinates:{latitude:9.2094,longitude:12.4814},area:"193.68",population:198405,wards:[{id:"yola-north-ward1",name:"Alkalawa Ward",cooperatives:[{id:"adamawa-coop-1",name:"Yola North Farmers Union",address:"Jimeta Market Road, Yola",memberCount:312,executiveCommittee:{chairman:"Alhaji Musa Adamu",secretary:"Hajiya Aisha Mohammed",treasurer:"Mallam Ibrahim Yusuf"},establishedYear:2017,registrationNumber:"AD/COOP/2017/001",agents:[{id:"agent-ad-001",name:"Abdullahi Bello",phone:"+234 807 345 6789",email:"abdullahi@farmcred.ng",address:"15 Atiku Abubakar Way, Yola",cooperativeId:"adamawa-coop-1"}]}]}]}]},{id:"akwa-ibom",name:"Akwa Ibom State",capital:"Uyo",area:"7,081",population:5482177,zone:"South South",createdDate:"1987-09-23",coordinates:{latitude:5.0378,longitude:7.9036},localGovernments:[{id:"uyo",name:"Uyo",coordinates:{latitude:5.0378,longitude:7.9036},area:"119.23",population:309573,wards:[{id:"uyo-ward1",name:"Etoi Ward",cooperatives:[{id:"akwa-ibom-coop-1",name:"Uyo Metropolitan Farmers Cooperative",address:"Wellington Bassey Way, Uyo",memberCount:267,executiveCommittee:{chairman:"Chief Godwin Akpan",secretary:"Mrs. Ime Udoh",treasurer:"Mr. Nsikak Edem"},establishedYear:2020,registrationNumber:"AK/COOP/2020/001",agents:[{id:"agent-ak-001",name:"Emem Bassey",phone:"+234 809 456 7890",email:"emem@farmcred.ng",address:"8 Aka Road, Uyo",cooperativeId:"akwa-ibom-coop-1"}]}]}]}]},{id:"anambra",name:"Anambra State",capital:"Awka",area:"4,844",population:5527809,zone:"South East",createdDate:"1991-08-27",coordinates:{latitude:6.2209,longitude:6.9909},localGovernments:[{id:"awka-north",name:"Awka North",coordinates:{latitude:6.2649,longitude:7.0794},area:"99.16",population:139915,wards:[{id:"awka-north-ward1",name:"Achalla Ward",cooperatives:[{id:"anambra-coop-1",name:"Awka North Agricultural Society",address:"Enugu-Onitsha Expressway, Awka",memberCount:198,executiveCommittee:{chairman:"Chief Chukwuemeka Odumegwu",secretary:"Mrs. Chinelo Okafor",treasurer:"Mr. Ikenna Nwachukwu"},establishedYear:2019,registrationNumber:"AN/COOP/2019/001",agents:[{id:"agent-an-001",name:"Obiora Nnaji",phone:"+234 811 567 8901",email:"obiora@farmcred.ng",address:"21 Zik Avenue, Awka",cooperativeId:"anambra-coop-1"}]}]}]}]},{id:"bauchi",name:"Bauchi State",capital:"Bauchi",area:"45,837",population:6537390,zone:"North East",createdDate:"1976-02-03",coordinates:{latitude:10.3158,longitude:9.8442},localGovernments:[{id:"bauchi",name:"Bauchi",coordinates:{latitude:10.3158,longitude:9.8442},area:"3,687",population:493810,wards:[{id:"bauchi-ward1",name:"Birshi Ward",cooperatives:[{id:"bauchi-coop-1",name:"Bauchi Central Farmers Cooperative",address:"Murtala Mohammed Way, Bauchi",memberCount:445,executiveCommittee:{chairman:"Alhaji Suleiman Adamu",secretary:"Mallam Usman Garba",treasurer:"Alhaji Yakubu Mohammed"},establishedYear:2016,registrationNumber:"BC/COOP/2016/001",agents:[{id:"agent-bc-001",name:"Haruna Aliyu",phone:"+234 813 678 9012",email:"haruna@farmcred.ng",address:"45 Dass Road, Bauchi",cooperativeId:"bauchi-coop-1"}]}]}]}]},{id:"bayelsa",name:"Bayelsa State",capital:"Yenagoa",area:"10,773",population:2277961,zone:"South South",createdDate:"1996-10-01",coordinates:{latitude:4.9267,longitude:6.2676},localGovernments:[{id:"yenagoa",name:"Yenagoa",coordinates:{latitude:4.9267,longitude:6.2676},area:"706",population:352285,wards:[{id:"yenagoa-ward1",name:"Amarata Ward",cooperatives:[{id:"bayelsa-coop-1",name:"Yenagoa Aquaculture Cooperative",address:"Mbiama-Yenagoa Road, Yenagoa",memberCount:156,executiveCommittee:{chairman:"Chief Douye Diri",secretary:"Mrs. Ebiere Jonathan",treasurer:"Mr. Timipre Sylva"},establishedYear:2021,registrationNumber:"BY/COOP/2021/001",agents:[{id:"agent-by-001",name:"Preye Aganaba",phone:"+234 815 789 0123",email:"preye@farmcred.ng",address:"12 Isaac Boro Expressway, Yenagoa",cooperativeId:"bayelsa-coop-1"}]}]}]}]},{id:"benue",name:"Benue State",capital:"Makurdi",area:"34,059",population:5741815,zone:"North Central",createdDate:"1976-02-03",coordinates:{latitude:7.7319,longitude:8.5211},localGovernments:[{id:"makurdi",name:"Makurdi",coordinates:{latitude:7.7319,longitude:8.5211},area:"804",population:300377,wards:[{id:"makurdi-ward1",name:"Ankpa Ward",cooperatives:[{id:"benue-coop-1",name:"Makurdi Yam Farmers Association",address:"High Level, Makurdi",memberCount:389,executiveCommittee:{chairman:"Chief Samuel Ortom",secretary:"Mrs. Rebecca Apedzan",treasurer:"Mr. Terver Akase"},establishedYear:2018,registrationNumber:"BN/COOP/2018/001",agents:[{id:"agent-bn-001",name:"Terseer Ugbah",phone:"+234 817 890 1234",email:"terseer@farmcred.ng",address:"34 Gboko Road, Makurdi",cooperativeId:"benue-coop-1"}]}]}]}]},{id:"borno",name:"Borno State",capital:"Maiduguri",area:"70,898",population:5860183,zone:"North East",createdDate:"1976-02-03",coordinates:{latitude:11.8311,longitude:13.1511},localGovernments:[{id:"maiduguri",name:"Maiduguri Metropolitan Council",coordinates:{latitude:11.8311,longitude:13.1511},area:"543",population:1197497,wards:[{id:"maiduguri-ward1",name:"Bolori Ward",cooperatives:[{id:"borno-coop-1",name:"Maiduguri Resilience Farmers Cooperative",address:"Shehu Laminu Way, Maiduguri",memberCount:278,executiveCommittee:{chairman:"Alhaji Babagana Zulum",secretary:"Mallam Kaka Shehu",treasurer:"Alhaji Ali Modu"},establishedYear:2020,registrationNumber:"BO/COOP/2020/001",agents:[{id:"agent-bo-001",name:"Fatima Bukar",phone:"+234 819 901 2345",email:"fatima@farmcred.ng",address:"67 Baga Road, Maiduguri",cooperativeId:"borno-coop-1"}]}]}]}]},{id:"cross-river",name:"Cross River State",capital:"Calabar",area:"20,156",population:3737517,zone:"South South",createdDate:"1987-05-27",coordinates:{latitude:4.9517,longitude:8.3417},localGovernments:[{id:"calabar-municipal",name:"Calabar Municipal",coordinates:{latitude:4.9517,longitude:8.3417},area:"331",population:375196,wards:[{id:"calabar-municipal-ward1",name:"Atimbo East Ward",cooperatives:[{id:"cross-river-coop-1",name:"Calabar Cocoa Farmers Cooperative",address:"Murtala Mohammed Highway, Calabar",memberCount:223,executiveCommittee:{chairman:"Chief Ben Ayade",secretary:"Mrs. Linda Ayade",treasurer:"Mr. Bassey Duke"},establishedYear:2019,registrationNumber:"CR/COOP/2019/001",agents:[{id:"agent-cr-001",name:"Edem Bassey",phone:"+234 821 012 3456",email:"edem@farmcred.ng",address:"89 Calabar Road, Calabar",cooperativeId:"cross-river-coop-1"}]}]}]}]},{id:"delta",name:"Delta State",capital:"Asaba",area:"17,698",population:5663362,zone:"South South",createdDate:"1991-08-27",coordinates:{latitude:6.2027,longitude:6.7795},localGovernments:[{id:"oshimili-south",name:"Oshimili South",coordinates:{latitude:6.2027,longitude:6.7795},area:"884",population:155405,wards:[{id:"oshimili-south-ward1",name:"Asaba Ward",cooperatives:[{id:"delta-coop-1",name:"Asaba Rice Farmers Association",address:"Nnebisi Road, Asaba",memberCount:334,executiveCommittee:{chairman:"Chief Ifeanyi Okowa",secretary:"Mrs. Edith Okowa",treasurer:"Mr. Kingsley Otuaro"},establishedYear:2017,registrationNumber:"DT/COOP/2017/001",agents:[{id:"agent-dt-001",name:"Chukwuma Soludo",phone:"+234 823 123 4567",email:"chukwuma@farmcred.ng",address:"45 Summit Road, Asaba",cooperativeId:"delta-coop-1"}]}]}]}]},{id:"ebonyi",name:"Ebonyi State",capital:"Abakaliki",area:"5,670",population:2880383,zone:"South East",createdDate:"1996-10-01",coordinates:{latitude:6.325,longitude:8.1137},localGovernments:[{id:"abakaliki",name:"Abakaliki",coordinates:{latitude:6.325,longitude:8.1137},area:"549.5",population:149683,wards:[{id:"abakaliki-ward1",name:"Azugwu Ward",cooperatives:[{id:"ebonyi-coop-1",name:"Abakaliki Rice Mill Cooperative",address:"Enugu-Abakaliki Expressway, Abakaliki",memberCount:412,executiveCommittee:{chairman:"Chief David Umahi",secretary:"Mrs. Rachel Umahi",treasurer:"Mr. Kelechi Igwe"},establishedYear:2018,registrationNumber:"EB/COOP/2018/001",agents:[{id:"agent-eb-001",name:"Chinyere Ohaa",phone:"+234 825 234 5678",email:"chinyere@farmcred.ng",address:"12 Ogoja Road, Abakaliki",cooperativeId:"ebonyi-coop-1"}]}]}]}]},{id:"edo",name:"Edo State",capital:"Benin City",area:"17,802",population:4235595,zone:"South South",createdDate:"1991-08-27",coordinates:{latitude:6.335,longitude:5.6037},localGovernments:[{id:"oredo",name:"Oredo",coordinates:{latitude:6.335,longitude:5.6037},area:"249",population:375899,wards:[{id:"oredo-ward1",name:"Aduwawa Ward",cooperatives:[{id:"edo-coop-1",name:"Benin City Rubber Farmers Cooperative",address:"Ring Road, Benin City",memberCount:289,executiveCommittee:{chairman:"Chief Godwin Obaseki",secretary:"Mrs. Betsy Obaseki",treasurer:"Mr. Philip Shaibu"},establishedYear:2019,registrationNumber:"ED/COOP/2019/001",agents:[{id:"agent-ed-001",name:"Osaze Osagie",phone:"+234 827 345 6789",email:"osaze@farmcred.ng",address:"78 Sapele Road, Benin City",cooperativeId:"edo-coop-1"}]}]}]}]},{id:"ekiti",name:"Ekiti State",capital:"Ado-Ekiti",area:"6,353",population:3270798,zone:"South West",createdDate:"1996-10-01",coordinates:{latitude:7.721,longitude:5.3106},localGovernments:[{id:"ado-ekiti",name:"Ado-Ekiti",coordinates:{latitude:7.721,longitude:5.3106},area:"300.4",population:313690,wards:[{id:"ado-ekiti-ward1",name:"Ajilosun Ward",cooperatives:[{id:"ekiti-coop-1",name:"Ado-Ekiti Cocoa Farmers Union",address:"Oba Adejugbe Avenue, Ado-Ekiti",memberCount:267,executiveCommittee:{chairman:"Chief Biodun Oyebanji",secretary:"Mrs. Olayemi Oyebanji",treasurer:"Mr. Monisade Afuye"},establishedYear:2020,registrationNumber:"EK/COOP/2020/001",agents:[{id:"agent-ek-001",name:"Adebayo Adeyemi",phone:"+234 829 456 7890",email:"adebayo@farmcred.ng",address:"23 Ilawe Road, Ado-Ekiti",cooperativeId:"ekiti-coop-1"}]}]}]}]},{id:"enugu",name:"Enugu State",capital:"Enugu",area:"7,161",population:4411119,zone:"South East",createdDate:"1991-08-27",coordinates:{latitude:6.5244,longitude:7.5086},localGovernments:[{id:"enugu-east",name:"Enugu East",coordinates:{latitude:6.4598,longitude:7.5428},area:"383.5",population:279089,wards:[{id:"enugu-east-ward1",name:"Abakpa Nike Ward",cooperatives:[{id:"enugu-coop-1",name:"Enugu Coal City Farmers Cooperative",address:"Ogui Road, Enugu",memberCount:345,executiveCommittee:{chairman:"Chief Peter Mbah",secretary:"Mrs. Nkechinyere Mbah",treasurer:"Mr. Ifeanyi Ugwuanyi"},establishedYear:2018,registrationNumber:"EN/COOP/2018/001",agents:[{id:"agent-en-001",name:"Chukwudi Nnamani",phone:"+234 831 567 8901",email:"chukwudi@farmcred.ng",address:"56 Zik Avenue, Enugu",cooperativeId:"enugu-coop-1"}]}]}]}]},{id:"fct",name:"Federal Capital Territory",capital:"Abuja",area:"7,315",population:3564126,zone:"North Central",createdDate:"1976-02-03",coordinates:{latitude:9.0579,longitude:7.4951},localGovernments:[{id:"abuja-municipal",name:"Abuja Municipal Area Council",coordinates:{latitude:9.0579,longitude:7.4951},area:"1,769",population:776298,wards:[{id:"abuja-municipal-ward1",name:"Garki Ward",cooperatives:[{id:"fct-coop-1",name:"FCT Metropolitan Farmers Cooperative",address:"Central Business District, Abuja",memberCount:123,executiveCommittee:{chairman:"Hon. Nyesom Wike",secretary:"Mrs. Judith Wike",treasurer:"Mallam Nasir El-Rufai"},establishedYear:2020,registrationNumber:"FCT/COOP/2020/001",agents:[{id:"agent-fct-001",name:"Bala Mohammed",phone:"+234 803 456 7890",email:"bala@farmcred.ng",address:"89 Shehu Shagari Way, Abuja",cooperativeId:"fct-coop-1"}]}]}]},{id:"gwagwalada",name:"Gwagwalada Area Council",coordinates:{latitude:8.9428,longitude:7.0839},area:"1,043",population:157770,wards:[{id:"gwagwalada-ward1",name:"Gwagwalada Central Ward",cooperatives:[{id:"fct-coop-2",name:"Gwagwalada Farmers Cooperative",address:"Gwagwalada Town, FCT",memberCount:189,executiveCommittee:{chairman:"Chief Adamu Aliero",secretary:"Mrs. Zainab Aliero",treasurer:"Alhaji Sani Danladi"},establishedYear:2019,registrationNumber:"FCT/COOP/2019/002",agents:[{id:"agent-fct-002",name:"Mohammed Bello",phone:"+234 805 567 8901",email:"mohammed@farmcred.ng",address:"34 Gwagwalada Market, FCT",cooperativeId:"fct-coop-2"}]}]}]}]}],yW=()=>{var w;const{user:t,userProfile:e,signOut:n}=pm(),[r,s]=_.useState("overview"),[i,o]=_.useState(null),[l,c]=_.useState(null),[u,h]=_.useState(null),f=async()=>{await n()},m=[{icon:vs,title:"Total Members",value:"1,245",description:"Active cooperative members",trend:{value:"12%",isPositive:!0}},{icon:ds,title:"Total Farm Area",value:"2,850 ha",description:"Verified farmland",trend:{value:"8%",isPositive:!0}},{icon:Du,title:"Average Yield",value:"3.2 t/ha",description:"Current season",trend:{value:"15%",isPositive:!0}},{icon:ej,title:"Success Rate",value:"89%",description:"Loan repayment rate",trend:{value:"5%",isPositive:!0}}],y=[{id:"F001",name:"Musa Ibrahim",phone:"+234 803 123 4567",location:"Funtua, Katsina",farmSize:"2.5 ha",cropType:"Maize",joinDate:"2024-01-15",creditScore:750,status:"verified"},{id:"F002",name:"Fatima Sani",phone:"+234 802 987 6543",location:"Zaria, Kaduna",farmSize:"1.8 ha",cropType:"Rice",joinDate:"2024-02-03",creditScore:680,status:"pending"},{id:"F003",name:"Ahmad Usman",phone:"+234 805 456 7890",location:"Kano, Kano",farmSize:"3.2 ha",cropType:"Millet",joinDate:"2024-01-28",creditScore:720,status:"verified"}],S=[{date:"Dec 15",title:"Financial Literacy Workshop",time:"10:00 AM",attendees:45},{date:"Dec 18",title:"Seed Distribution Program",time:"2:00 PM",attendees:120},{date:"Dec 22",title:"Cooperative Annual Meeting",time:"9:00 AM",attendees:300}],x=g=>{switch(g){case"verified":return"bg-success/10 text-success";case"pending":return"bg-warning/10 text-warning";case"rejected":return"bg-destructive/10 text-destructive";default:return"bg-secondary/10 text-secondary"}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx($n,{size:"md"}),a.jsx("div",{className:"h-8 w-px bg-border"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Cooperative Portal"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure cooperative management system"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center gap-3 px-3 py-2 bg-secondary/20 rounded-lg",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium",children:(e==null?void 0:e.fullName)||(t==null?void 0:t.email)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:((w=e==null?void 0:e.cooperativeData)==null?void 0:w.cooperativeName)||"Cooperative User"})]})}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary/10 rounded-full",children:[a.jsx(Ln,{size:14,className:"text-primary"}),a.jsx("span",{className:"text-xs text-primary font-medium",children:"Verified Session"})]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(ph,{size:16,className:"mr-2"}),"Add Cooperative"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(kM,{size:16,className:"mr-2"}),"Settings"]}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:f,children:[a.jsx(dM,{size:16,className:"mr-2"}),"Sign Out"]})]})]})}),a.jsx("div",{className:"max-w-6xl mx-auto p-4",children:a.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ln,{className:"text-primary",size:20}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-primary",children:"Welcome to Your Secure Cooperative Portal"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your cooperative members, track activities, and access comprehensive analytics with bank-grade security."})]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[a.jsx("div",{className:"flex gap-6",children:["Overview","Members","States & LGAs","Training","Reports"].map(g=>a.jsx("button",{onClick:()=>s(g.toLowerCase().replace(/ & /g,"-").replace(/ /g,"-")),className:`pb-2 border-b-2 font-medium transition-colors ${r===g.toLowerCase().replace(/ & /g,"-").replace(/ /g,"-")?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:g},g))}),r==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map((g,v)=>a.jsx(Pa,{...g},v))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"New cooperative registered"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Member training completed"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"1 day ago"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Executive meeting held"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"3 days ago"})]})]})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Crop Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Maize"}),a.jsx("span",{className:"text-sm font-medium",children:"45%"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"45%"}})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Rice"}),a.jsx("span",{className:"text-sm font-medium",children:"30%"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:"30%"}})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Soybeans"}),a.jsx("span",{className:"text-sm font-medium",children:"25%"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:"25%"}})})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upcoming Events"}),a.jsx("div",{className:"space-y-4",children:S.slice(0,3).map((g,v)=>a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:g.title}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[g.date," • ",g.time]})]}),a.jsx(Rf,{variant:"outline",className:"text-xs",children:g.attendees})]},v))}),a.jsxs(Z,{variant:"outline",className:"w-full mt-4 bg-transparent",size:"sm",children:[a.jsx(jx,{size:14,className:"mr-2"}),"View All Events"]})]})]})]}),r==="members"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Cooperative Members"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(JD,{size:16,className:"mr-2"}),"Filter"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(rf,{size:16,className:"mr-2"}),"Export"]}),a.jsxs(Z,{size:"sm",children:[a.jsx(ph,{size:16,className:"mr-2"}),"Add Member"]})]})]}),a.jsx(J,{className:"overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-secondary",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3",children:"Member"}),a.jsx("th",{className:"text-left p-3",children:"Contact"}),a.jsx("th",{className:"text-left p-3",children:"Location"}),a.jsx("th",{className:"text-left p-3",children:"Farm Details"}),a.jsx("th",{className:"text-left p-3",children:"Credit Score"}),a.jsx("th",{className:"text-left p-3",children:"Status"}),a.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),a.jsx("tbody",{children:y.map(g=>a.jsxs("tr",{className:"border-b border-border hover:bg-secondary/50",children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:g.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:g.id})]})}),a.jsx("td",{className:"p-3 text-sm",children:g.phone}),a.jsx("td",{className:"p-3 text-sm",children:g.location}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{children:g.cropType}),a.jsx("div",{className:"text-muted-foreground",children:g.farmSize})]})}),a.jsx("td",{className:"p-3",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"font-medium",children:g.creditScore})})}),a.jsx("td",{className:"p-3",children:a.jsx(Rf,{className:x(g.status),children:g.status})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx(Z,{variant:"ghost",size:"sm",children:a.jsx(Io,{size:14})}),a.jsx(Z,{variant:"ghost",size:"sm",children:a.jsx(cb,{size:14})})]})})]},g.id))})]})})]}),r==="states-&-lgas"&&a.jsxs("div",{className:"space-y-6",children:[!i&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Nigerian States"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:gW.map(g=>a.jsx(J,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>o(g),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nx,{className:"text-primary",size:20}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:g.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.localGovernments.length," LGAs"]})]})]}),a.jsx(Ip,{size:16,className:"text-muted-foreground"})]})},g.id))})]}),i&&!l&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>o(null),children:"← Back to States"}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsxs("h2",{className:"text-xl font-semibold",children:[i.name," - Local Governments"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.localGovernments.map(g=>a.jsx(J,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>c(g),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ds,{className:"text-primary",size:20}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:g.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.wards.length," Wards"]})]})]}),a.jsx(Ip,{size:16,className:"text-muted-foreground"})]})},g.id))})]}),l&&!u&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>c(null),children:["← Back to ",i==null?void 0:i.name]}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsxs("h2",{className:"text-xl font-semibold",children:[l.name," - Wards"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.wards.map(g=>a.jsx(J,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>h(g),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vs,{className:"text-primary",size:20}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:g.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.cooperatives.length," Cooperatives"]})]})]}),a.jsx(Ip,{size:16,className:"text-muted-foreground"})]})},g.id))})]}),u&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>h(null),children:["← Back to ",l==null?void 0:l.name]}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsxs("h2",{className:"text-xl font-semibold",children:[u.name," - Cooperatives"]})]}),a.jsx("div",{className:"space-y-4",children:u.cooperatives.map(g=>a.jsxs(J,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:g.name}),a.jsx("p",{className:"text-muted-foreground",children:g.address}),a.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Members: ",g.memberCount]}),a.jsxs("span",{children:["Est. ",g.establishedYear]}),a.jsxs("span",{children:["Reg: ",g.registrationNumber]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(Io,{size:14,className:"mr-1"}),"View"]}),a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(cb,{size:14,className:"mr-1"}),"Edit"]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Executive Committee"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Chairman:"}),a.jsx("p",{className:"font-medium",children:g.executiveCommittee.chairman})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Secretary:"}),a.jsx("p",{className:"font-medium",children:g.executiveCommittee.secretary})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Treasurer:"}),a.jsx("p",{className:"font-medium",children:g.executiveCommittee.treasurer})]}),g.executiveCommittee.publicRelationsOfficer&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"PRO:"}),a.jsx("p",{className:"font-medium",children:g.executiveCommittee.publicRelationsOfficer})]})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Physical Agents"}),a.jsx("div",{className:"space-y-3",children:g.agents.map(v=>a.jsx("div",{className:"p-3 bg-secondary/20 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:v.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.phone}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Address:"}),a.jsx("p",{className:"text-sm",children:v.address})]})]})},v.id))})]})]})]},g.id))})]})]}),r==="training"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Training Programs"}),a.jsxs(Z,{size:"sm",children:[a.jsx(ph,{size:16,className:"mr-2"}),"Schedule Training"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Financial Literacy"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Basic financial management and loan understanding"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Duration:"}),a.jsx("span",{children:"2 days"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Participants:"}),a.jsx("span",{children:"45 farmers"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Next Session:"}),a.jsx("span",{children:"Dec 15, 2024"})]})]}),a.jsx(Z,{variant:"outline",className:"w-full mt-4 bg-transparent",size:"sm",children:"View Details"})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Modern Farming Techniques"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Advanced agricultural practices and technology"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Duration:"}),a.jsx("span",{children:"3 days"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Participants:"}),a.jsx("span",{children:"32 farmers"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Next Session:"}),a.jsx("span",{children:"Dec 20, 2024"})]})]}),a.jsx(Z,{variant:"outline",className:"w-full mt-4 bg-transparent",size:"sm",children:"View Details"})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cooperative Management"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Leadership and governance for cooperative executives"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Duration:"}),a.jsx("span",{children:"1 day"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Participants:"}),a.jsx("span",{children:"15 executives"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Next Session:"}),a.jsx("span",{children:"Dec 25, 2024"})]})]}),a.jsx(Z,{variant:"outline",className:"w-full mt-4 bg-transparent",size:"sm",children:"View Details"})]})]})]}),r==="reports"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Reports & Analytics"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",children:[a.jsx(rf,{size:16,className:"mr-2"}),"Export Report"]}),a.jsx(Z,{size:"sm",children:"Generate Report"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Membership Growth"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Q1 2024"}),a.jsx("span",{className:"font-medium",children:"+156 members"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"65%"}})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Q2 2024"}),a.jsx("span",{className:"font-medium",children:"+203 members"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"85%"}})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Q3 2024"}),a.jsx("span",{className:"font-medium",children:"+189 members"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"78%"}})})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"State Distribution"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Katsina State"}),a.jsx("span",{className:"font-medium",children:"456 cooperatives"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Kano State"}),a.jsx("span",{className:"font-medium",children:"389 cooperatives"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Kaduna State"}),a.jsx("span",{className:"font-medium",children:"334 cooperatives"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Sokoto State"}),a.jsx("span",{className:"font-medium",children:"278 cooperatives"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm",children:"Kebbi State"}),a.jsx("span",{className:"font-medium",children:"234 cooperatives"})]})]})]})]})]})]})]})},vW=()=>{const t=Ho(),{user:e}=pm(),n=s=>{if(!e){t("/auth");return}t(s)},r=[{id:"farmers",title:"Farmers Portal",description:"Secure access to credit profiles, loan applications, and farm management",icon:vs,route:"/dashboard",color:"bg-green-500",security:"NIN + BVN + Biometric"},{id:"cooperatives",title:"Cooperatives Portal",description:"Secure management of cooperative members and administrative data",icon:Nx,route:"/cooperative",color:"bg-blue-500",security:"Multi-factor Authentication"},{id:"financial",title:"Financial Institutions Portal",description:"Secure access to loan applications and credit assessments",icon:ND,route:"/lender",color:"bg-purple-500",security:"Bank-grade Encryption"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsx("div",{className:"max-w-6xl mx-auto flex items-center justify-center",children:a.jsx($n,{size:"lg"})})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Select Your Portal"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Choose your secure portal to access your dashboard"}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[a.jsx(Bt,{type:"security",label:"256-bit SSL"}),a.jsx(Bt,{type:"verified",label:"Multi-factor Auth"}),a.jsx(Bt,{type:"rating",label:"Bank-grade Security"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map(s=>a.jsxs(J,{className:"p-8 text-center hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:`w-16 h-16 ${s.color} rounded-full flex items-center justify-center mx-auto mb-6`,children:a.jsx(s.icon,{size:32,className:"text-white"})}),a.jsx("h2",{className:"text-xl font-semibold mb-4",children:s.title}),a.jsx("p",{className:"text-muted-foreground mb-6",children:s.description}),a.jsx("div",{className:"mb-6 p-3 bg-secondary/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Ln,{size:16,className:"text-primary"}),a.jsxs("span",{children:["Security: ",s.security]})]})}),a.jsx(Z,{onClick:()=>n(s.route),className:"w-full",size:"lg",children:"Secure Access"})]},s.id))}),a.jsx("div",{className:"text-center mt-12 pt-8 border-t border-border",children:a.jsxs(J,{className:"p-6 bg-secondary/20",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Need Help?"}),a.jsx(wm,{variant:"card",className:"max-w-2xl mx-auto"})]})})]})]})},U0=_.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:Ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));U0.displayName="Textarea";const xW=()=>{const t=Ho(),{toast:e}=El(),[n,r]=_.useState({loanAmount:"",loanPurpose:"",repaymentPeriod:"",cropType:"",expectedYield:"",marketPrice:"",additionalInfo:""}),s=$0(co),i=s.recommendedLoanAmount,o=s.interestRate,l=(h,f)=>{r(m=>({...m,[h]:f}))},c=h=>{if(h.preventDefault(),!n.loanAmount||!n.loanPurpose||!n.repaymentPeriod){e({title:"Incomplete Form",description:"Please fill in all required fields.",variant:"destructive"});return}if(parseInt(n.loanAmount.replace(/,/g,""))>i){e({title:"Amount Exceeds Limit",description:`Based on your credit score, we recommend a maximum of ₦${i.toLocaleString()}`,variant:"destructive"});return}e({title:"Application Submitted!",description:"Your loan application has been submitted for review. You'll receive an update within 24 hours."}),setTimeout(()=>{t("/dashboard")},2e3)},u=()=>{const h=parseInt(n.loanAmount.replace(/,/g,""))||0,f=parseInt(n.repaymentPeriod)||12,m=o/100/12;return h&&f&&m?(h*m*Math.pow(1+m,f)/(Math.pow(1+m,f)-1)).toLocaleString():"0"};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),children:a.jsx(ks,{size:20})}),a.jsx($n,{size:"md"}),a.jsx("div",{className:"h-8 w-px bg-border"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Loan Application"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Apply for agricultural financing"})]})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[a.jsxs(J,{className:"p-6 bg-gradient-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Your Credit Profile"}),a.jsx(Bt,{type:"verified",label:`${s.score}/100 ${s.riskBand}`})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-success/10 rounded-lg",children:[a.jsx(kx,{className:"mx-auto mb-2 text-success",size:24}),a.jsxs("div",{className:"text-2xl font-bold text-success",children:["₦",i.toLocaleString()]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Max Loan Amount"})]}),a.jsxs("div",{className:"text-center p-4 bg-primary/10 rounded-lg",children:[a.jsx(Du,{className:"mx-auto mb-2 text-primary",size:24}),a.jsxs("div",{className:"text-2xl font-bold text-primary",children:[o,"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Interest Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-accent/10 rounded-lg",children:[a.jsx(jx,{className:"mx-auto mb-2 text-accent",size:24}),a.jsx("div",{className:"text-2xl font-bold text-accent",children:"24 hrs"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Processing Time"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Loan Application Form"}),a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"loanAmount",children:"Loan Amount (₦) *"}),a.jsx(Be,{id:"loanAmount",placeholder:"e.g., 250,000",value:n.loanAmount,onChange:h=>l("loanAmount",h.target.value),required:!0}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: ₦",i.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"repaymentPeriod",children:"Repayment Period (Months) *"}),a.jsxs(hf,{onValueChange:h=>l("repaymentPeriod",h),children:[a.jsx(hu,{children:a.jsx(ff,{placeholder:"Select period"})}),a.jsxs(fu,{children:[a.jsx(xn,{value:"6",children:"6 months"}),a.jsx(xn,{value:"12",children:"12 months"}),a.jsx(xn,{value:"18",children:"18 months"}),a.jsx(xn,{value:"24",children:"24 months"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"loanPurpose",children:"Loan Purpose *"}),a.jsxs(hf,{onValueChange:h=>l("loanPurpose",h),children:[a.jsx(hu,{children:a.jsx(ff,{placeholder:"Select purpose"})}),a.jsxs(fu,{children:[a.jsx(xn,{value:"seeds",children:"Seeds & Seedlings"}),a.jsx(xn,{value:"fertilizer",children:"Fertilizer & Chemicals"}),a.jsx(xn,{value:"equipment",children:"Farm Equipment"}),a.jsx(xn,{value:"livestock",children:"Livestock Purchase"}),a.jsx(xn,{value:"irrigation",children:"Irrigation System"}),a.jsx(xn,{value:"processing",children:"Processing Equipment"}),a.jsx(xn,{value:"working-capital",children:"Working Capital"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"cropType",children:"Primary Crop"}),a.jsx(Be,{id:"cropType",placeholder:"e.g., Maize, Rice, Soybeans",value:n.cropType,onChange:h=>l("cropType",h.target.value)})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"expectedYield",children:"Expected Yield (kg/ha)"}),a.jsx(Be,{id:"expectedYield",placeholder:"e.g., 3000",value:n.expectedYield,onChange:h=>l("expectedYield",h.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"marketPrice",children:"Expected Market Price (₦/kg)"}),a.jsx(Be,{id:"marketPrice",placeholder:"e.g., 180",value:n.marketPrice,onChange:h=>l("marketPrice",h.target.value)})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"additionalInfo",children:"Additional Information"}),a.jsx(U0,{id:"additionalInfo",placeholder:"Any additional details about your farming operation or loan request...",value:n.additionalInfo,onChange:h=>l("additionalInfo",h.target.value),rows:4})]}),a.jsx(Z,{type:"submit",className:"w-full",size:"lg",children:"Submit Application"})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Loan Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Requested Amount"}),a.jsxs("span",{className:"font-medium",children:["₦",n.loanAmount||"0"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Interest Rate"}),a.jsxs("span",{className:"font-medium",children:[o,"% per annum"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Repayment Period"}),a.jsxs("span",{className:"font-medium",children:[n.repaymentPeriod||"0"," months"]})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Monthly Payment"}),a.jsxs("span",{className:"font-bold",children:["₦",u()]})]})})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Required Documents"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{size:16,className:"text-success"}),a.jsx("span",{className:"text-sm",children:"NIN Verification"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{size:16,className:"text-success"}),a.jsx("span",{className:"text-sm",children:"BVN Verification"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{size:16,className:"text-success"}),a.jsx("span",{className:"text-sm",children:"Farm GPS Coordinates"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{size:16,className:"text-warning"}),a.jsx("span",{className:"text-sm",children:"Cooperative Endorsement"})]})]})]}),a.jsx(J,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(sM,{size:16,className:"text-primary mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-sm mb-1",children:"Processing Timeline"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Applications are typically processed within 24-48 hours. You'll receive SMS and email updates on your application status."})]})]})})]})]})]})]})},wW=()=>{const t=Ho(),{toast:e}=El(),[n,r]=_.useState(""),[s,i]=_.useState("25000"),[o,l]=_.useState(!1),c={loanId:"FL-2024-001",remainingAmount:"₦87,500",nextPaymentDue:"Dec 15, 2024",monthlyPayment:"₦25,000"},u=[{id:"bank-transfer",name:"Bank Transfer",icon:Nx,description:"Direct transfer to FarmCred account",processingTime:"Instant verification"},{id:"ussd",name:"USSD Code",icon:sj,description:"Pay using your mobile phone",processingTime:"Instant"},{id:"card",name:"Debit Card",icon:Cx,description:"Pay with your ATM card",processingTime:"Instant"}],h=S=>{r(S)},f=async()=>{if(!n){e({title:"Select Payment Method",description:"Please choose a payment method to continue.",variant:"destructive"});return}l(!0),setTimeout(()=>{e({title:"Payment Successful!",description:`₦${parseInt(s).toLocaleString()} has been processed successfully.`}),l(!1),setTimeout(()=>{t("/dashboard")},2e3)},3e3)},m=(S,x)=>{navigator.clipboard.writeText(S),e({title:"Copied!",description:`${x} copied to clipboard.`})},y=()=>{switch(n){case"bank-transfer":return a.jsxs(J,{className:"p-6 bg-primary/5",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Bank Transfer Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Bank Name"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:"First Bank Nigeria"}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>m("First Bank Nigeria","Bank name"),children:a.jsx(lc,{size:14})})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Account Number"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:"2034567890"}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>m("2034567890","Account number"),children:a.jsx(lc,{size:14})})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Account Name"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:"FarmCred Payments"}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>m("FarmCred Payments","Account name"),children:a.jsx(lc,{size:14})})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Reference"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:c.loanId}),a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>m(c.loanId,"Reference"),children:a.jsx(lc,{size:14})})]})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-warning/10 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ze,{size:16,className:"text-warning mt-0.5"}),a.jsxs("p",{className:"text-sm text-warning",children:["Please use the reference number ",c.loanId," when making the transfer to ensure proper crediting."]})]})})]});case"ussd":return a.jsxs(J,{className:"p-6 bg-success/5",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"USSD Payment"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold mb-2",children:["*737*50*",s,"*2034567890#"]}),a.jsxs(Z,{variant:"outline",onClick:()=>m(`*737*50*${s}*2034567890#`,"USSD code"),children:[a.jsx(lc,{size:16,className:"mr-2"}),"Copy USSD Code"]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Step 1:"})," Dial the USSD code above"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Step 2:"})," Enter your PIN when prompted"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Step 3:"})," Confirm the payment details"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Step 4:"})," You'll receive SMS confirmation"]})]})]})]});case"card":return a.jsxs(J,{className:"p-6 bg-accent/5",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Card Payment"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"cardNumber",children:"Card Number"}),a.jsx(Be,{id:"cardNumber",placeholder:"1234 5678 9012 3456"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"expiry",children:"Expiry Date"}),a.jsx(Be,{id:"expiry",placeholder:"MM/YY"})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"cvv",children:"CVV"}),a.jsx(Be,{id:"cvv",placeholder:"123"})]})]}),a.jsxs("div",{children:[a.jsx(De,{htmlFor:"cardName",children:"Cardholder Name"}),a.jsx(Be,{id:"cardName",placeholder:"Name on card"})]})]})]});default:return null}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),children:a.jsx(ks,{size:20})}),a.jsx($n,{size:"md"}),a.jsx("div",{className:"h-8 w-px bg-border"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Make Payment"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure loan payment portal"})]})]}),a.jsx(Bt,{type:"security",label:"256-bit SSL"})]})}),a.jsx("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Loan Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Loan ID"}),a.jsx("div",{className:"font-medium",children:c.loanId})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Next Payment Due"}),a.jsx("div",{className:"font-medium",children:c.nextPaymentDue})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Monthly Payment"}),a.jsx("div",{className:"font-medium",children:c.monthlyPayment})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Remaining Balance"}),a.jsx("div",{className:"font-medium",children:c.remainingAmount})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{children:"Payment Progress"}),a.jsx("span",{children:"65% Complete"})]}),a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:"65%"}})})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Amount"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(De,{htmlFor:"amount",children:"Amount (₦)"}),a.jsx(Be,{id:"amount",value:s,onChange:S=>i(S.target.value),placeholder:"Enter amount"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Minimum payment: ₦",c.monthlyPayment]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>i("25000"),children:"Monthly (₦25,000)"}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>i("87500"),children:"Full Balance (₦87,500)"})]})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Method"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:u.map(S=>a.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${n===S.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>h(S.id),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(S.icon,{size:20,className:"text-primary"}),a.jsx("span",{className:"font-medium",children:S.name})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:S.description}),a.jsx("p",{className:"text-xs text-success",children:S.processingTime})]},S.id))}),y()]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Amount"}),a.jsxs("span",{className:"font-medium",children:["₦",parseInt(s||"0").toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Processing Fee"}),a.jsx("span",{className:"font-medium",children:"₦0"})]}),a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Total"}),a.jsxs("span",{className:"font-bold text-lg",children:["₦",parseInt(s||"0").toLocaleString()]})]})})]}),a.jsx(Z,{className:"w-full mt-6",size:"lg",onClick:f,disabled:o||!n||!s,children:o?"Processing...":"Process Payment"})]}),a.jsxs(J,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Ln,{size:20,className:"text-success"}),a.jsx("h3",{className:"font-semibold",children:"Secure Payment"})]}),a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{size:14,className:"text-success"}),a.jsx("span",{children:"256-bit SSL encryption"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{size:14,className:"text-success"}),a.jsx("span",{children:"PCI DSS compliant"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nn,{size:14,className:"text-success"}),a.jsx("span",{children:"Instant confirmation"})]})]})]}),a.jsxs(J,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Need Help?"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsx("p",{children:"📞 Call: 0800-FARMCRED"}),a.jsx("p",{children:"📧 Email: payments@farmcred.ng"}),a.jsx("p",{children:"💬 WhatsApp: +234 800 123 4567"})]})]})]})]})})]})},_W=()=>{const t=Pu();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},bW=()=>{const t=[{name:"Dr. Amina Hassan",role:"CEO & Co-founder",bio:"Agricultural economist with 15+ years in rural finance",image:"/placeholder.svg"},{name:"Ibrahim Musa",role:"CTO & Co-founder",bio:"Fintech expert passionate about financial inclusion",image:"/placeholder.svg"},{name:"Fatima Sani",role:"Head of Operations",bio:"Operations specialist with deep cooperative experience",image:"/placeholder.svg"}],e=[{icon:nM,title:"Trust",description:"Building relationships based on transparency and reliability"},{icon:vs,title:"Community",description:"Empowering agricultural communities through collaboration"},{icon:oj,title:"Innovation",description:"Leveraging technology to solve real-world problems"},{icon:ZD,title:"Impact",description:"Creating lasting change in agricultural finance"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(xt,{to:"/",children:a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(ks,{size:20})})}),a.jsx($n,{size:"md"})]}),a.jsx(xt,{to:"/portals",children:a.jsx(Z,{children:"Get Started"})})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-8 space-y-12",children:[a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("h1",{className:"text-4xl font-bold",children:"About FarmCred"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"We're on a mission to bridge the trust gap in agricultural finance across Africa, empowering farmers and strengthening rural economies through innovative credit solutions."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{className:"text-2xl",children:"Our Mission"})}),a.jsx(tt,{children:a.jsx("p",{className:"text-lg leading-relaxed",children:"To democratize access to agricultural credit by creating a transparent, trust-based platform that connects farmers, cooperatives, and financial institutions across Nigeria and beyond."})})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{className:"text-2xl",children:"Our Vision"})}),a.jsx(tt,{children:a.jsx("p",{className:"text-lg leading-relaxed",children:"A thriving agricultural ecosystem where every farmer has access to fair credit, enabling sustainable farming practices and food security across Africa."})})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-center",children:"Our Values"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((n,r)=>a.jsxs(J,{className:"p-6 text-center",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-fit mx-auto mb-4",children:a.jsx(n.icon,{size:32,className:"text-primary"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:n.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]},r))})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-center",children:"Meet Our Team"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((n,r)=>a.jsxs(J,{className:"p-6 text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-secondary rounded-full mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-1",children:n.name}),a.jsx("p",{className:"text-primary font-medium mb-3",children:n.role}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.bio})]},r))})]}),a.jsxs(J,{className:"p-8 bg-secondary/20",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Get in Touch"}),a.jsx(wm,{variant:"card",className:"max-w-2xl mx-auto"})]}),a.jsxs("div",{className:"text-center space-y-6 py-12",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Join Us in Transforming Agriculture"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Ready to be part of the agricultural finance revolution?"}),a.jsx(xt,{to:"/portals",children:a.jsx(Z,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:"Get Started Today"})})]})]})]})},EW=()=>{const[t,e]=_.useState({name:"",email:"",subject:"",message:""}),[n,r]=_.useState(!1),s=l=>{l.preventDefault(),r(!0),setTimeout(()=>{St.success("Message sent successfully! We'll get back to you within 24 hours."),e({name:"",email:"",subject:"",message:""}),r(!1)},1e3)},i=l=>{e(c=>({...c,[l.target.name]:l.target.value}))},o=[{icon:fh,title:"Email Us",details:"support@farmcred.com.ng",action:"mailto:support@farmcred.com.ng"},{icon:mh,title:"Call Us",details:"+2347069301804",action:"tel:+2347069301804"},{icon:ds,title:"Visit Us",details:"FUNTUA, Nigeria",action:"#"},{icon:UD,title:"Portal Code",details:"830101",action:"#"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(xt,{to:"/",children:a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(ks,{size:20})})}),a.jsx($n,{size:"md"})]}),a.jsx(xt,{to:"/portals",children:a.jsx(Z,{children:"Get Started"})})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Have questions? We're here to help. Reach out to our team."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{className:"text-2xl",children:"Send us a Message"})}),a.jsx(tt,{children:a.jsxs("form",{onSubmit:s,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"name",children:"Full Name"}),a.jsx(Be,{id:"name",name:"name",value:t.name,onChange:i,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"email",children:"Email Address"}),a.jsx(Be,{id:"email",name:"email",type:"email",value:t.email,onChange:i,required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"subject",children:"Subject"}),a.jsx(Be,{id:"subject",name:"subject",value:t.subject,onChange:i,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{htmlFor:"message",children:"Message"}),a.jsx(U0,{id:"message",name:"message",rows:5,value:t.message,onChange:i,required:!0})]}),a.jsx(Z,{type:"submit",className:"w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Get in Touch"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"Whether you're a farmer looking for credit, a cooperative seeking partnership, or a financial institution interested in our platform, we'd love to hear from you."})]}),a.jsx("div",{className:"space-y-4",children:o.map((l,c)=>a.jsx(J,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:a.jsx(l.icon,{size:24,className:"text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:l.title}),a.jsx("p",{className:"text-muted-foreground",children:l.details})]})]})},c))}),a.jsxs(J,{className:"p-6 bg-primary/5",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Need Immediate Help?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"For urgent matters, contact our 24/7 support line or check our FAQ section."}),a.jsx(xt,{to:"/support",children:a.jsx(Z,{variant:"outline",children:"View Support Center"})})]})]})]})]})]})},SW=()=>{const[t,e]=_.useState(""),n=[{icon:vs,title:"Getting Started",count:8,questions:["How do I create an account?","What documents do I need?","How is my credit score calculated?","What crops are eligible for funding?"]},{icon:Cx,title:"Loans & Payments",count:12,questions:["How do I apply for a loan?","What are the interest rates?","How do I make payments?","What happens if I miss a payment?"]},{icon:Ln,title:"Security & Privacy",count:6,questions:["How is my data protected?","Is the platform secure?","Who can see my information?","How do I update my privacy settings?"]}],r=[{icon:SD,title:"User Guide",description:"Step-by-step instructions for using FarmCred",link:"#"},{icon:QD,title:"Documentation",description:"Technical documentation and API guides",link:"#"},{icon:pM,title:"Community Forum",description:"Connect with other farmers and get advice",link:"#"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(xt,{to:"/",children:a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(ks,{size:20})})}),a.jsx($n,{size:"md"})]}),a.jsx(xt,{to:"/contact",children:a.jsx(Z,{children:"Contact Support"})})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Support Center"}),a.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Find answers to common questions and get the help you need"}),a.jsxs("div",{className:"max-w-2xl mx-auto relative",children:[a.jsx(TM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:20}),a.jsx(Be,{placeholder:"Search for help articles...",className:"pl-10 py-3 text-lg",value:t,onChange:s=>e(s.target.value)})]})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:r.map((s,i)=>a.jsx(J,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:a.jsx(s.icon,{size:24,className:"text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:s.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]})},i))}),a.jsxs("div",{className:"space-y-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-center",children:"Frequently Asked Questions"}),a.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:n.map((s,i)=>a.jsxs(J,{className:"p-6",children:[a.jsxs(Ze,{className:"p-0 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:a.jsx(s.icon,{size:20,className:"text-primary"})}),a.jsx(et,{className:"text-lg",children:s.title})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.count," articles"]})]}),a.jsxs(tt,{className:"p-0",children:[a.jsx("ul",{className:"space-y-3",children:s.questions.map((o,l)=>a.jsx("li",{children:a.jsx("button",{className:"text-left text-sm hover:text-primary transition-colors",children:o})},l))}),a.jsx(Z,{variant:"ghost",className:"w-full mt-4 text-primary",children:"View All Articles"})]})]},i))})]}),a.jsxs("div",{className:"mt-16 text-center space-y-6 p-8 bg-primary/5 rounded-xl",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Still Need Help?"}),a.jsx("p",{className:"text-muted-foreground",children:"Can't find what you're looking for? Our support team is here to help."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(xt,{to:"/contact",children:a.jsx(Z,{size:"lg",children:"Contact Support"})}),a.jsx(Z,{variant:"outline",size:"lg",children:"Schedule a Call"})]})]})]})]})},TW=()=>{const t=["Access to financial literacy programs","Support for sustainable farming","Community-driven agricultural growth","Recognition for excellence"];return a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsxs(xt,{to:"/",className:"flex items-center text-blue-500 mb-6",children:[a.jsx(ks,{className:"mr-2"})," Back to Home"]}),a.jsxs("section",{className:"hero flex flex-col md:flex-row items-center justify-between my-8",children:[a.jsx("div",{className:"hero-image md:w-1/2",children:a.jsx("img",{src:kC,alt:"Hero Farming",className:"rounded-lg shadow-lg"})}),a.jsxs("div",{className:"hero-text md:w-1/2 mt-6 md:mt-0 md:pl-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Why FarmCred?"}),a.jsx("p",{className:"mb-6",children:"FarmCred is designed to empower farmers and communities by providing sustainable agricultural solutions, financial literacy, and support for growth."}),a.jsx("ul",{className:"list-disc pl-5 space-y-2",children:t.map((e,n)=>a.jsxs("li",{className:"flex items-center",children:[a.jsx(nn,{className:"text-green-500 mr-2"})," ",e]},n))})]})]}),a.jsxs("section",{className:"additional-features grid grid-cols-1 md:grid-cols-4 gap-6 mt-12",children:[a.jsxs("div",{className:"feature p-4 bg-white rounded-lg shadow text-center",children:[a.jsx(rm,{className:"mx-auto mb-2"}),a.jsx("h3",{className:"font-bold",children:"Eco-Friendly"})]}),a.jsxs("div",{className:"feature p-4 bg-white rounded-lg shadow text-center",children:[a.jsx(vs,{className:"mx-auto mb-2"}),a.jsx("h3",{className:"font-bold",children:"Community Support"})]}),a.jsxs("div",{className:"feature p-4 bg-white rounded-lg shadow text-center",children:[a.jsx(ej,{className:"mx-auto mb-2"}),a.jsx("h3",{className:"font-bold",children:"Recognized Excellence"})]}),a.jsxs("div",{className:"feature p-4 bg-white rounded-lg shadow text-center",children:[a.jsx(oj,{className:"mx-auto mb-2"}),a.jsx("h3",{className:"font-bold",children:"Goal Oriented"})]})]})]})},NW=()=>{const t=[{icon:Ln,title:"Data Protection",description:"We use industry-standard encryption and security measures to protect your personal information."},{icon:Io,title:"Transparency",description:"We clearly explain what data we collect, how we use it, and who we share it with."},{icon:rj,title:"Data Minimization",description:"We only collect the minimum data necessary to provide our services effectively."},{icon:vs,title:"User Control",description:"You have control over your data and can request access, correction, or deletion at any time."}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(xt,{to:"/",children:a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(ks,{size:20})})}),a.jsx($n,{size:"md"})]}),a.jsx(xt,{to:"/contact",children:a.jsx(Z,{children:"Contact Us"})})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-8 space-y-12",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Last updated: December 2024"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"At FarmCred, we take your privacy seriously. This policy explains how we collect, use, and protect your personal information."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>a.jsxs(J,{className:"p-6 text-center",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-fit mx-auto mb-4",children:a.jsx(e.icon,{size:32,className:"text-primary"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},n))}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"Information We Collect"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Personal Information"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[a.jsx("li",{children:"Name, address, phone number, and email address"}),a.jsx("li",{children:"National Identification Number (NIN) and Bank Verification Number (BVN)"}),a.jsx("li",{children:"Agricultural and financial information for credit assessment"}),a.jsx("li",{children:"Biometric data for identity verification"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Usage Information"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[a.jsx("li",{children:"Device information and IP address"}),a.jsx("li",{children:"Log data and usage patterns"}),a.jsx("li",{children:"Location data (with your consent)"})]})]})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"How We Use Your Information"})}),a.jsx(tt,{children:a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"To provide and improve our credit assessment services"}),a.jsx("li",{children:"To verify your identity and prevent fraud"}),a.jsx("li",{children:"To communicate with you about your account and services"}),a.jsx("li",{children:"To comply with legal and regulatory requirements"}),a.jsx("li",{children:"To develop and improve our platform and services"})]})})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"Information Sharing"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information in the following circumstances:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"With partner financial institutions for loan processing"}),a.jsx("li",{children:"With cooperatives for verification purposes (with your consent)"}),a.jsx("li",{children:"With service providers who assist in our operations"}),a.jsx("li",{children:"When required by law or to protect our rights"}),a.jsx("li",{children:"With your explicit consent for specific purposes"})]})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"Data Security"})}),a.jsx(tt,{children:a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"256-bit SSL encryption for all data transmission"}),a.jsx("li",{children:"Secure data centers with 24/7 monitoring"}),a.jsx("li",{children:"Regular security audits and penetration testing"}),a.jsx("li",{children:"Multi-factor authentication for account access"}),a.jsx("li",{children:"Employee training on data protection best practices"})]})})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"Your Rights"})}),a.jsx(tt,{children:a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"Access: Request a copy of your personal data"}),a.jsx("li",{children:"Correction: Update or correct inaccurate information"}),a.jsx("li",{children:"Deletion: Request deletion of your data (subject to legal requirements)"}),a.jsx("li",{children:"Portability: Request transfer of your data to another service"}),a.jsx("li",{children:"Objection: Object to processing for marketing purposes"}),a.jsx("li",{children:"Withdraw consent: Withdraw consent for specific data processing"})]})})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"Contact Information"})}),a.jsxs(tt,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have questions about this privacy policy or want to exercise your rights, contact us:"}),a.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[a.jsx("p",{children:"Email: privacy@farmcred.ng"}),a.jsx("p",{children:"Phone: +234 803 123 4567"}),a.jsx("p",{children:"Address: Victoria Island, Lagos, Nigeria"})]})]})]})]}),a.jsxs("div",{className:"text-center space-y-4 py-8",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Questions About Privacy?"}),a.jsx("p",{className:"text-muted-foreground",children:"We're here to help you understand how we protect your data."}),a.jsx(xt,{to:"/contact",children:a.jsx(Z,{children:"Contact Privacy Team"})})]})]})]})},jW=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(xt,{to:"/",children:a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(ks,{size:20})})}),a.jsx($n,{size:"md"})]}),a.jsx(xt,{to:"/contact",children:a.jsx(Z,{children:"Contact Us"})})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-8 space-y-12",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Terms of Service"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Last updated: December 2024"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"These terms govern your use of FarmCred's platform and services. Please read them carefully before using our services."})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"1. Acceptance of Terms"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"By accessing and using the FarmCred platform, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."}),a.jsx("p",{className:"text-muted-foreground",children:"These terms apply to all users of the platform, including farmers, cooperatives, and financial institutions."})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"2. Platform Services"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"FarmCred provides a technology platform that:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"Facilitates credit assessment for agricultural purposes"}),a.jsx("li",{children:"Connects farmers with financial institutions and cooperatives"}),a.jsx("li",{children:"Provides trust-based scoring algorithms"}),a.jsx("li",{children:"Offers agricultural and financial education resources"}),a.jsx("li",{children:"Enables secure data management and verification"})]})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"3. User Responsibilities"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold",children:"Account Security"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 mb-4",children:[a.jsx("li",{children:"Maintain the confidentiality of your account credentials"}),a.jsx("li",{children:"Notify us immediately of any unauthorized access"}),a.jsx("li",{children:"Use strong passwords and enable two-factor authentication"})]}),a.jsx("h4",{className:"font-semibold",children:"Information Accuracy"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 mb-4",children:[a.jsx("li",{children:"Provide accurate and complete information"}),a.jsx("li",{children:"Update your profile when circumstances change"}),a.jsx("li",{children:"Do not misrepresent your agricultural activities or financial status"})]}),a.jsx("h4",{className:"font-semibold",children:"Prohibited Uses"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[a.jsx("li",{children:"Using the platform for fraudulent activities"}),a.jsx("li",{children:"Sharing false or misleading information"}),a.jsx("li",{children:"Attempting to circumvent security measures"}),a.jsx("li",{children:"Using the platform to harm other users"})]})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"4. Credit Assessment and Scoring"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"Our credit scoring system uses various factors including:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"Agricultural history and farming practices"}),a.jsx("li",{children:"Community verification and recommendations"}),a.jsx("li",{children:"Financial behavior and payment history"}),a.jsx("li",{children:"Educational and training participation"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Credit scores are indicative and do not guarantee loan approval. Final lending decisions rest with individual financial institutions."})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"5. Data Usage and Privacy"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"Your privacy is important to us. Our data practices are governed by our Privacy Policy, which forms part of these terms. Key points include:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"We collect only necessary information for our services"}),a.jsx("li",{children:"Your data is protected with industry-standard security"}),a.jsx("li",{children:"We do not sell your personal information"}),a.jsx("li",{children:"You have rights to access, correct, and delete your data"})]})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"6. Financial Transactions"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"FarmCred facilitates connections between users and financial institutions but does not:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"Directly provide loans or credit"}),a.jsx("li",{children:"Guarantee loan approval or terms"}),a.jsx("li",{children:"Act as a financial institution or bank"}),a.jsx("li",{children:"Take responsibility for lending decisions"})]}),a.jsx("p",{className:"text-muted-foreground",children:"All loan agreements are between you and the lending institution."})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"7. Platform Availability"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"We strive to maintain platform availability but cannot guarantee:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"Uninterrupted access to the platform"}),a.jsx("li",{children:"Error-free operation at all times"}),a.jsx("li",{children:"Compatibility with all devices or software"}),a.jsx("li",{children:"Availability during maintenance periods"})]})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"8. Limitation of Liability"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"FarmCred's liability is limited to the fullest extent permitted by law. We are not liable for:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"Indirect, incidental, or consequential damages"}),a.jsx("li",{children:"Loss of profits, data, or business opportunities"}),a.jsx("li",{children:"Actions or decisions of third-party lenders"}),a.jsx("li",{children:"Technical issues beyond our reasonable control"})]})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"9. Termination"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"Either party may terminate this agreement:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[a.jsx("li",{children:"At any time with reasonable notice"}),a.jsx("li",{children:"Immediately for breach of terms"}),a.jsx("li",{children:"For fraudulent or illegal activities"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Upon termination, certain provisions will survive, including data retention, liability limitations, and dispute resolution."})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{children:"10. Contact Information"})}),a.jsxs(tt,{children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"For questions about these terms, contact us:"}),a.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[a.jsx("p",{children:"Email: legal@farmcred.ng"}),a.jsx("p",{children:"Phone: +234 803 123 4567"}),a.jsx("p",{children:"Address: Victoria Island, Lagos, Nigeria"})]})]})]})]}),a.jsxs("div",{className:"text-center space-y-4 py-8",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Questions About Our Terms?"}),a.jsx("p",{className:"text-muted-foreground",children:"Our legal team is available to help clarify any terms or conditions."}),a.jsx(xt,{to:"/contact",children:a.jsx(Z,{children:"Contact Legal Team"})})]})]})]}),CW=()=>{const t=[{icon:rj,title:"256-bit SSL Encryption",description:"All data transmission is protected with bank-grade encryption standards."},{icon:Ln,title:"Multi-Factor Authentication",description:"Additional security layers including biometric and SMS verification."},{icon:jM,title:"Secure Cloud Infrastructure",description:"Data stored in tier-1 data centers with 24/7 monitoring and redundancy."},{icon:Io,title:"Regular Security Audits",description:"Independent third-party security assessments and penetration testing."},{icon:oM,title:"Access Controls",description:"Role-based permissions and principle of least privilege access."},{icon:ub,title:"Fraud Detection",description:"AI-powered monitoring for suspicious activities and fraud prevention."}],e=["End-to-end encryption for all sensitive data","Regular security training for all employees","Incident response team available 24/7","Compliance with international security standards","Automated backup and disaster recovery","Continuous monitoring and threat detection"],n=[{title:"Use Strong Passwords",description:"Create unique passwords with a mix of letters, numbers, and symbols."},{title:"Enable Two-Factor Authentication",description:"Add an extra layer of security with SMS or app-based verification."},{title:"Keep Information Updated",description:"Regularly review and update your profile and contact information."},{title:"Monitor Account Activity",description:"Check your account regularly for any unauthorized activities."},{title:"Use Secure Networks",description:"Avoid public Wi-Fi for sensitive transactions; use secure networks."},{title:"Report Suspicious Activity",description:"Contact us immediately if you notice anything unusual in your account."}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-primary/5",children:[a.jsx("div",{className:"bg-background border-b border-border p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(xt,{to:"/",children:a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx(ks,{size:20})})}),a.jsx($n,{size:"md"})]}),a.jsx(xt,{to:"/contact",children:a.jsx(Z,{children:"Contact Security Team"})})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-8 space-y-16",children:[a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Security & Trust"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Your security is our top priority. Learn how we protect your data and maintain the highest standards of security across our platform."}),a.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[a.jsx(Bt,{type:"security",label:"ISO 27001 Certified"}),a.jsx(Bt,{type:"verified",label:"SOC 2 Compliant"}),a.jsx(Bt,{type:"rating",label:"Bank-grade Security"})]})]}),a.jsxs("div",{className:"space-y-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Security Features"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Comprehensive protection at every level of our platform"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((r,s)=>a.jsxs(J,{className:"p-6",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-fit mx-auto mb-4",children:a.jsx(r.icon,{size:32,className:"text-primary"})}),a.jsx("h3",{className:"text-lg font-semibold text-center mb-3",children:r.title}),a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:r.description})]},s))})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{className:"text-2xl",children:"Security Standards"})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"We adhere to the highest international security standards and best practices:"}),a.jsx("div",{className:"space-y-3",children:e.map((r,s)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(nn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:16}),a.jsx("span",{className:"text-sm",children:r})]},s))})]})]}),a.jsxs(J,{className:"p-8",children:[a.jsx(Ze,{children:a.jsx(et,{className:"text-2xl",children:"Compliance & Certifications"})}),a.jsx(tt,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-l-4 border-primary pl-4",children:[a.jsx("h4",{className:"font-semibold",children:"ISO 27001 Information Security"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"International standard for information security management systems"})]}),a.jsxs("div",{className:"border-l-4 border-primary pl-4",children:[a.jsx("h4",{className:"font-semibold",children:"SOC 2 Type II"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Independent audit of security, availability, and confidentiality"})]}),a.jsxs("div",{className:"border-l-4 border-primary pl-4",children:[a.jsx("h4",{className:"font-semibold",children:"Nigerian Data Protection Regulation"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Full compliance with local data protection requirements"})]}),a.jsxs("div",{className:"border-l-4 border-primary pl-4",children:[a.jsx("h4",{className:"font-semibold",children:"PCI DSS Compliance"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure payment card processing standards"})]})]})})]})]}),a.jsxs("div",{className:"space-y-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Keep Your Account Secure"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Follow these best practices to maximize your account security"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((r,s)=>a.jsxs(J,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"bg-green-500/10 p-2 rounded-full",children:a.jsx(sj,{size:20,className:"text-green-500"})}),a.jsx("h3",{className:"font-semibold",children:r.title})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]},s))})]}),a.jsxs(J,{className:"p-8 bg-red-50 border-red-200",children:[a.jsx(Ze,{children:a.jsxs(et,{className:"text-2xl flex items-center gap-3",children:[a.jsx(ub,{className:"text-red-500",size:32}),"Security Incident Response"]})}),a.jsxs(tt,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"If you suspect a security incident or notice suspicious activity:"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-red-500/10 p-4 rounded-full w-fit mx-auto mb-3",children:a.jsx("span",{className:"text-red-500 font-bold text-lg",children:"1"})}),a.jsx("h4",{className:"font-semibold mb-2",children:"Don't Panic"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay calm and secure your account immediately"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-red-500/10 p-4 rounded-full w-fit mx-auto mb-3",children:a.jsx("span",{className:"text-red-500 font-bold text-lg",children:"2"})}),a.jsx("h4",{className:"font-semibold mb-2",children:"Change Password"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediately change your password and enable 2FA"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-red-500/10 p-4 rounded-full w-fit mx-auto mb-3",children:a.jsx("span",{className:"text-red-500 font-bold text-lg",children:"3"})}),a.jsx("h4",{className:"font-semibold mb-2",children:"Contact Us"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Report the incident to our security team"})]})]}),a.jsx("div",{className:"text-center pt-4",children:a.jsx(Z,{className:"bg-red-500 hover:bg-red-600",children:"Report Security Incident"})})]})]}),a.jsxs("div",{className:"text-center space-y-6 py-12 bg-primary/5 rounded-xl",children:[a.jsx("h2",{className:"text-3xl font-bold",children:"Questions About Security?"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Our security team is available 24/7 to address any concerns or questions you may have about platform security."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(xt,{to:"/contact",children:a.jsx(Z,{size:"lg",children:"Contact Security Team"})}),a.jsx(Z,{variant:"outline",size:"lg",children:"Security Documentation"})]})]})]})]})};let kW={data:""},IW=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||kW,AW=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,PW=/\/\*[^]*?\*\/|  +/g,ME=/\n+/g,ri=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?ri(o,i):i+"{"+ri(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=ri(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ri.p?ri.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Zr={},KA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+KA(t[n]);return e}return t},RW=(t,e,n,r,s)=>{let i=KA(t),o=Zr[i]||(Zr[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!Zr[o]){let c=i!==t?t:(u=>{let h,f,m=[{}];for(;h=AW.exec(u.replace(PW,""));)h[4]?m.shift():h[3]?(f=h[3].replace(ME," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][h[1]]=h[2].replace(ME," ").trim();return m[0]})(t);Zr[o]=ri(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&Zr.g?Zr.g:null;return n&&(Zr.g=Zr[o]),((c,u,h,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(Zr[o],e,r,l),o},OW=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ri(l,""):l===!1?"":l}return r+s+(o??"")},"");function Lm(t){let e=this||{},n=t.call?t(e.p):t;return RW(n.unshift?n.raw?OW(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,IW(e.target),e.g,e.o,e.k)}let GA,xv,wv;Lm.bind({g:1});let js=Lm.bind({k:1});function DW(t,e,n,r){ri.p=e,GA=t,xv=n,wv=r}function Wi(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:xv&&xv()},l),n.o=/ *go\d+/.test(c),l.className=Lm.apply(n,r)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),wv&&u[0]&&wv(l),GA(u,l)}return s}}var MW=t=>typeof t=="function",Of=(t,e)=>MW(t)?t(e):t,LW=(()=>{let t=0;return()=>(++t).toString()})(),QA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),VW=20,z0="default",YA=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return YA(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ih=[],JA={toasts:[],pausedAt:void 0,settings:{toastLimit:VW}},Dr={},XA=(t,e=z0)=>{Dr[e]=YA(Dr[e]||JA,t),Ih.forEach(([n,r])=>{n===e&&r(Dr[e])})},ZA=t=>Object.keys(Dr).forEach(e=>XA(t,e)),FW=t=>Object.keys(Dr).find(e=>Dr[e].toasts.some(n=>n.id===t)),Vm=(t=z0)=>e=>{XA(e,t)},$W={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},UW=(t={},e=z0)=>{let[n,r]=_.useState(Dr[e]||JA),s=_.useRef(Dr[e]);_.useEffect(()=>(s.current!==Dr[e]&&r(Dr[e]),Ih.push([e,r]),()=>{let o=Ih.findIndex(([l])=>l===e);o>-1&&Ih.splice(o,1)}),[e]);let i=n.toasts.map(o=>{var l,c,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||$W[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},zW=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||LW()}),Zu=t=>(e,n)=>{let r=zW(e,t,n);return Vm(r.toasterId||FW(r.id))({type:2,toast:r}),r.id},Lt=(t,e)=>Zu("blank")(t,e);Lt.error=Zu("error");Lt.success=Zu("success");Lt.loading=Zu("loading");Lt.custom=Zu("custom");Lt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Vm(e)(n):ZA(n)};Lt.dismissAll=t=>Lt.dismiss(void 0,t);Lt.remove=(t,e)=>{let n={type:4,toastId:t};e?Vm(e)(n):ZA(n)};Lt.removeAll=t=>Lt.remove(void 0,t);Lt.promise=(t,e,n)=>{let r=Lt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Of(e.success,s):void 0;return i?Lt.success(i,{id:r,...n,...n==null?void 0:n.success}):Lt.dismiss(r),s}).catch(s=>{let i=e.error?Of(e.error,s):void 0;i?Lt.error(i,{id:r,...n,...n==null?void 0:n.error}):Lt.dismiss(r)}),t};var BW=1e3,HW=(t,e="default")=>{let{toasts:n,pausedAt:r}=UW(t,e),s=_.useRef(new Map).current,i=_.useCallback((f,m=BW)=>{if(s.has(f))return;let y=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},m);s.set(f,y)},[]);_.useEffect(()=>{if(r)return;let f=Date.now(),m=n.map(y=>{if(y.duration===1/0)return;let S=(y.duration||0)+y.pauseDuration-(f-y.createdAt);if(S<0){y.visible&&Lt.dismiss(y.id);return}return setTimeout(()=>Lt.dismiss(y.id,e),S)});return()=>{m.forEach(y=>y&&clearTimeout(y))}},[n,r,e]);let o=_.useCallback(Vm(e),[e]),l=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=_.useCallback((f,m)=>{o({type:1,toast:{id:f,height:m}})},[o]),u=_.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),h=_.useCallback((f,m)=>{let{reverseOrder:y=!1,gutter:S=8,defaultPosition:x}=m||{},w=n.filter(b=>(b.position||x)===(f.position||x)&&b.height),g=w.findIndex(b=>b.id===f.id),v=w.filter((b,k)=>k<g&&b.visible).length;return w.filter(b=>b.visible).slice(...y?[v+1]:[0,v]).reduce((b,k)=>b+(k.height||0)+S,0)},[n]);return _.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let m=s.get(f.id);m&&(clearTimeout(m),s.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:h}}},WW=js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qW=js`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KW=js`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,GW=Wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qW} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KW} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,QW=js`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,YW=Wi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${QW} 1s linear infinite;
`,JW=js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,XW=js`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ZW=Wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${JW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${XW} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,eq=Wi("div")`
  position: absolute;
`,tq=Wi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nq=js`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rq=Wi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sq=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?_.createElement(rq,null,e):e:n==="blank"?null:_.createElement(tq,null,_.createElement(YW,{...r}),n!=="loading"&&_.createElement(eq,null,n==="error"?_.createElement(GW,{...r}):_.createElement(ZW,{...r})))},iq=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,oq=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,aq="0%{opacity:0;} 100%{opacity:1;}",lq="0%{opacity:1;} 100%{opacity:0;}",cq=Wi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uq=Wi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dq=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=QA()?[aq,lq]:[iq(n),oq(n)];return{animation:e?`${js(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${js(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hq=_.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?dq(t.position||e||"top-center",t.visible):{opacity:0},i=_.createElement(sq,{toast:t}),o=_.createElement(uq,{...t.ariaProps},Of(t.message,t));return _.createElement(cq,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):_.createElement(_.Fragment,null,i,o))});DW(_.createElement);var fq=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=_.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return _.createElement("div",{ref:i,className:e,style:n},s)},mq=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:QA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},pq=Lm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jd=16,gq=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=HW(n,i);return _.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Jd,left:Jd,right:Jd,bottom:Jd,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let f=h.position||e,m=u.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),y=mq(f,m);return _.createElement(fq,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?pq:"",style:y},h.type==="custom"?Of(h.message,h):s?s(h):_.createElement(hq,{toast:h,position:f}))}))};function yq(){const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(!1);Ho();const{signIn:o}=pm();return a.jsx(a.Fragment,{children:a.jsx(gq,{position:"top-right"})})}const vq=new pO,xq=()=>a.jsx(yO,{client:vq,children:a.jsx(gF,{children:a.jsxs(WV,{children:[a.jsx(CL,{}),a.jsx(i3,{}),a.jsx(p4,{children:a.jsxs(l4,{children:[a.jsx(Rt,{path:"/",element:a.jsx(yF,{})}),a.jsx(Rt,{path:"/auth",element:a.jsx(yq,{})}),a.jsx(Rt,{path:"/onboarding",element:a.jsx(aW,{})}),a.jsx(Rt,{path:"/portals",element:a.jsx(vW,{})}),a.jsx(Rt,{path:"/dashboard",element:a.jsx(fW,{})}),a.jsx(Rt,{path:"/lender",element:a.jsx(pW,{})}),a.jsx(Rt,{path:"/cooperative",element:a.jsx(yW,{})}),a.jsx(Rt,{path:"/loan-application",element:a.jsx(xW,{})}),a.jsx(Rt,{path:"/make-payment",element:a.jsx(wW,{})}),a.jsx(Rt,{path:"/about",element:a.jsx(bW,{})}),a.jsx(Rt,{path:"/contact",element:a.jsx(EW,{})}),a.jsx(Rt,{path:"/support",element:a.jsx(SW,{})}),a.jsx(Rt,{path:"/learn-more",element:a.jsx(TW,{})}),a.jsx(Rt,{path:"/privacy",element:a.jsx(NW,{})}),a.jsx(Rt,{path:"/terms",element:a.jsx(jW,{})}),a.jsx(Rt,{path:"/security",element:a.jsx(CW,{})}),a.jsx(Rt,{path:"*",element:a.jsx(_W,{})})]})})]})})});lg.createRoot(document.getElementById("root")).render(a.jsx(q.StrictMode,{children:a.jsx(xq,{})}));
